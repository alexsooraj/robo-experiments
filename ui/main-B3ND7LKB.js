var Wh=Object.create;var Yo=Object.defineProperty,zh=Object.defineProperties,qh=Object.getOwnPropertyDescriptor,Gh=Object.getOwnPropertyDescriptors,Yh=Object.getOwnPropertyNames,Zu=Object.getOwnPropertySymbols,Qh=Object.getPrototypeOf,Ju=Object.prototype.hasOwnProperty,Zh=Object.prototype.propertyIsEnumerable;var Go=(e,t)=>(t=Symbol[e])?t:Symbol.for("Symbol."+e),Kh=e=>{throw TypeError(e)};var Ku=(e,t,r)=>t in e?Yo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fe=(e,t)=>{for(var r in t||={})Ju.call(t,r)&&Ku(e,r,t[r]);if(Zu)for(var r of Zu(t))Zh.call(t,r)&&Ku(e,r,t[r]);return e},Pe=(e,t)=>zh(e,Gh(t));var pr=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var Jh=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Xh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Yh(t))!Ju.call(e,i)&&i!==r&&Yo(e,i,{get:()=>t[i],enumerable:!(n=qh(t,i))||n.enumerable});return e};var Xu=(e,t,r)=>(r=e!=null?Wh(Qh(e)):{},Xh(t||!e||!e.__esModule?Yo(r,"default",{value:e,enumerable:!0}):r,e));var ep=function(e,t){this[0]=e,this[1]=t};var En=e=>{var t=e[Go("asyncIterator")],r=!1,n,i={};return t==null?(t=e[Go("iterator")](),n=o=>i[o]=s=>t[o](s)):(t=t.call(e),n=o=>i[o]=s=>{if(r){if(r=!1,o==="throw")throw s;return s}return r=!0,{done:!1,value:new ep(new Promise(u=>{var p=t[o](s);p instanceof Object||Kh("Object expected"),u(p)}),1)}}),i[Go("iterator")]=()=>i,n("next"),"throw"in t?n("throw"):i.throw=o=>{throw o},"return"in t&&n("return"),i};var Yu=Jh((Rh,Gu)=>{"use strict";(function(e){if(typeof Rh=="object"&&typeof Gu<"u")Gu.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var t;typeof window<"u"?t=window:typeof global<"u"?t=global:typeof self<"u"?t=self:t=this,t.mqtt=e()}})(function(){var e,t,r;return function(){function n(i,o,s){function u(h,d){if(!o[h]){if(!i[h]){var l=typeof pr=="function"&&pr;if(!d&&l)return l(h,!0);if(p)return p(h,!0);var a=new Error("Cannot find module '"+h+"'");throw a.code="MODULE_NOT_FOUND",a}var c=o[h]={exports:{}};i[h][0].call(c.exports,function(g){var w=i[h][1][g];return u(w||g)},c,c.exports,n,i,o,s)}return o[h].exports}for(var p=typeof pr=="function"&&pr,f=0;f<s.length;f++)u(s[f]);return u}return n}()({1:[function(n,i,o){"use strict";o.byteLength=a,o.toByteArray=g,o.fromByteArray=D;for(var s=[],u=[],p=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,d=f.length;h<d;++h)s[h]=f[h],u[f.charCodeAt(h)]=h;u[45]=62,u[95]=63;function l(I){var E=I.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=I.indexOf("=");S===-1&&(S=E);var R=S===E?0:4-S%4;return[S,R]}function a(I){var E=l(I),S=E[0],R=E[1];return(S+R)*3/4-R}function c(I,E,S){return(E+S)*3/4-S}function g(I){var E,S=l(I),R=S[0],N=S[1],H=new p(c(I,R,N)),$=0,T=N>0?R-4:R,P;for(P=0;P<T;P+=4)E=u[I.charCodeAt(P)]<<18|u[I.charCodeAt(P+1)]<<12|u[I.charCodeAt(P+2)]<<6|u[I.charCodeAt(P+3)],H[$++]=E>>16&255,H[$++]=E>>8&255,H[$++]=E&255;return N===2&&(E=u[I.charCodeAt(P)]<<2|u[I.charCodeAt(P+1)]>>4,H[$++]=E&255),N===1&&(E=u[I.charCodeAt(P)]<<10|u[I.charCodeAt(P+1)]<<4|u[I.charCodeAt(P+2)]>>2,H[$++]=E>>8&255,H[$++]=E&255),H}function w(I){return s[I>>18&63]+s[I>>12&63]+s[I>>6&63]+s[I&63]}function b(I,E,S){for(var R,N=[],H=E;H<S;H+=3)R=(I[H]<<16&16711680)+(I[H+1]<<8&65280)+(I[H+2]&255),N.push(w(R));return N.join("")}function D(I){for(var E,S=I.length,R=S%3,N=[],H=16383,$=0,T=S-R;$<T;$+=H)N.push(b(I,$,$+H>T?T:$+H));return R===1?(E=I[S-1],N.push(s[E>>2]+s[E<<4&63]+"==")):R===2&&(E=(I[S-2]<<8)+I[S-1],N.push(s[E>>10]+s[E>>4&63]+s[E<<2&63]+"=")),N.join("")}},{}],2:[function(n,i,o){},{}],3:[function(n,i,o){(function(s){(function(){"use strict";var u=n("base64-js"),p=n("ieee754");o.Buffer=l,o.SlowBuffer=R,o.INSPECT_MAX_BYTES=50;var f=2147483647;o.kMaxLength=f,l.TYPED_ARRAY_SUPPORT=h(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var v=new Uint8Array(1);return v.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},v.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function d(v){if(v>f)throw new RangeError('The value "'+v+'" is invalid for option "size"');var m=new Uint8Array(v);return m.__proto__=l.prototype,m}function l(v,m,y){if(typeof v=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(v)}return a(v,m,y)}typeof Symbol<"u"&&Symbol.species!=null&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192;function a(v,m,y){if(typeof v=="string")return b(v,m);if(ArrayBuffer.isView(v))return D(v);if(v==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(K(v,ArrayBuffer)||v&&K(v.buffer,ArrayBuffer))return I(v,m,y);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var _=v.valueOf&&v.valueOf();if(_!=null&&_!==v)return l.from(_,m,y);var B=E(v);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return l.from(v[Symbol.toPrimitive]("string"),m,y);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}l.from=function(v,m,y){return a(v,m,y)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array;function c(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function g(v,m,y){return c(v),v<=0?d(v):m!==void 0?typeof y=="string"?d(v).fill(m,y):d(v).fill(m):d(v)}l.alloc=function(v,m,y){return g(v,m,y)};function w(v){return c(v),d(v<0?0:S(v)|0)}l.allocUnsafe=function(v){return w(v)},l.allocUnsafeSlow=function(v){return w(v)};function b(v,m){if((typeof m!="string"||m==="")&&(m="utf8"),!l.isEncoding(m))throw new TypeError("Unknown encoding: "+m);var y=N(v,m)|0,_=d(y),B=_.write(v,m);return B!==y&&(_=_.slice(0,B)),_}function D(v){for(var m=v.length<0?0:S(v.length)|0,y=d(m),_=0;_<m;_+=1)y[_]=v[_]&255;return y}function I(v,m,y){if(m<0||v.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<m+(y||0))throw new RangeError('"length" is outside of buffer bounds');var _;return m===void 0&&y===void 0?_=new Uint8Array(v):y===void 0?_=new Uint8Array(v,m):_=new Uint8Array(v,m,y),_.__proto__=l.prototype,_}function E(v){if(l.isBuffer(v)){var m=S(v.length)|0,y=d(m);return y.length===0||v.copy(y,0,0,m),y}if(v.length!==void 0)return typeof v.length!="number"||C(v.length)?d(0):D(v);if(v.type==="Buffer"&&Array.isArray(v.data))return D(v.data)}function S(v){if(v>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return v|0}function R(v){return+v!=v&&(v=0),l.alloc(+v)}l.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==l.prototype},l.compare=function(m,y){if(K(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),K(y,Uint8Array)&&(y=l.from(y,y.offset,y.byteLength)),!l.isBuffer(m)||!l.isBuffer(y))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===y)return 0;for(var _=m.length,B=y.length,Q=0,ee=Math.min(_,B);Q<ee;++Q)if(m[Q]!==y[Q]){_=m[Q],B=y[Q];break}return _<B?-1:B<_?1:0},l.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(m,y){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return l.alloc(0);var _;if(y===void 0)for(y=0,_=0;_<m.length;++_)y+=m[_].length;var B=l.allocUnsafe(y),Q=0;for(_=0;_<m.length;++_){var ee=m[_];if(K(ee,Uint8Array)&&(ee=l.from(ee)),!l.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(B,Q),Q+=ee.length}return B};function N(v,m){if(l.isBuffer(v))return v.length;if(ArrayBuffer.isView(v)||K(v,ArrayBuffer))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);var y=v.length,_=arguments.length>2&&arguments[2]===!0;if(!_&&y===0)return 0;for(var B=!1;;)switch(m){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":return ie(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y*2;case"hex":return y>>>1;case"base64":return j(v).length;default:if(B)return _?-1:ie(v).length;m=(""+m).toLowerCase(),B=!0}}l.byteLength=N;function H(v,m,y){var _=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0,m>>>=0,y<=m))return"";for(v||(v="utf8");;)switch(v){case"hex":return re(this,m,y);case"utf8":case"utf-8":return M(this,m,y);case"ascii":return G(this,m,y);case"latin1":case"binary":return oe(this,m,y);case"base64":return J(this,m,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,m,y);default:if(_)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),_=!0}}l.prototype._isBuffer=!0;function $(v,m,y){var _=v[m];v[m]=v[y],v[y]=_}l.prototype.swap16=function(){var m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var y=0;y<m;y+=2)$(this,y,y+1);return this},l.prototype.swap32=function(){var m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var y=0;y<m;y+=4)$(this,y,y+3),$(this,y+1,y+2);return this},l.prototype.swap64=function(){var m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var y=0;y<m;y+=8)$(this,y,y+7),$(this,y+1,y+6),$(this,y+2,y+5),$(this,y+3,y+4);return this},l.prototype.toString=function(){var m=this.length;return m===0?"":arguments.length===0?M(this,0,m):H.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(m){if(!l.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:l.compare(this,m)===0},l.prototype.inspect=function(){var m="",y=o.INSPECT_MAX_BYTES;return m=this.toString("hex",0,y).replace(/(.{2})/g,"$1 ").trim(),this.length>y&&(m+=" ... "),"<Buffer "+m+">"},l.prototype.compare=function(m,y,_,B,Q){if(K(m,Uint8Array)&&(m=l.from(m,m.offset,m.byteLength)),!l.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(y===void 0&&(y=0),_===void 0&&(_=m?m.length:0),B===void 0&&(B=0),Q===void 0&&(Q=this.length),y<0||_>m.length||B<0||Q>this.length)throw new RangeError("out of range index");if(B>=Q&&y>=_)return 0;if(B>=Q)return-1;if(y>=_)return 1;if(y>>>=0,_>>>=0,B>>>=0,Q>>>=0,this===m)return 0;for(var ee=Q-B,de=_-y,De=Math.min(ee,de),Re=this.slice(B,Q),He=m.slice(y,_),Oe=0;Oe<De;++Oe)if(Re[Oe]!==He[Oe]){ee=Re[Oe],de=He[Oe];break}return ee<de?-1:de<ee?1:0};function T(v,m,y,_,B){if(v.length===0)return-1;if(typeof y=="string"?(_=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,C(y)&&(y=B?0:v.length-1),y<0&&(y=v.length+y),y>=v.length){if(B)return-1;y=v.length-1}else if(y<0)if(B)y=0;else return-1;if(typeof m=="string"&&(m=l.from(m,_)),l.isBuffer(m))return m.length===0?-1:P(v,m,y,_,B);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(v,m,y):Uint8Array.prototype.lastIndexOf.call(v,m,y):P(v,[m],y,_,B);throw new TypeError("val must be string, number or Buffer")}function P(v,m,y,_,B){var Q=1,ee=v.length,de=m.length;if(_!==void 0&&(_=String(_).toLowerCase(),_==="ucs2"||_==="ucs-2"||_==="utf16le"||_==="utf-16le")){if(v.length<2||m.length<2)return-1;Q=2,ee/=2,de/=2,y/=2}function De(vn,Bt){return Q===1?vn[Bt]:vn.readUInt16BE(Bt*Q)}var Re;if(B){var He=-1;for(Re=y;Re<ee;Re++)if(De(v,Re)===De(m,He===-1?0:Re-He)){if(He===-1&&(He=Re),Re-He+1===de)return He*Q}else He!==-1&&(Re-=Re-He),He=-1}else for(y+de>ee&&(y=ee-de),Re=y;Re>=0;Re--){for(var Oe=!0,jt=0;jt<de;jt++)if(De(v,Re+jt)!==De(m,jt)){Oe=!1;break}if(Oe)return Re}return-1}l.prototype.includes=function(m,y,_){return this.indexOf(m,y,_)!==-1},l.prototype.indexOf=function(m,y,_){return T(this,m,y,_,!0)},l.prototype.lastIndexOf=function(m,y,_){return T(this,m,y,_,!1)};function x(v,m,y,_){y=Number(y)||0;var B=v.length-y;_?(_=Number(_),_>B&&(_=B)):_=B;var Q=m.length;_>Q/2&&(_=Q/2);for(var ee=0;ee<_;++ee){var de=parseInt(m.substr(ee*2,2),16);if(C(de))return ee;v[y+ee]=de}return ee}function q(v,m,y,_){return Y(ie(m,v.length-y),v,y,_)}function L(v,m,y,_){return Y(k(m),v,y,_)}function ae(v,m,y,_){return L(v,m,y,_)}function ue(v,m,y,_){return Y(j(m),v,y,_)}function se(v,m,y,_){return Y(A(m,v.length-y),v,y,_)}l.prototype.write=function(m,y,_,B){if(y===void 0)B="utf8",_=this.length,y=0;else if(_===void 0&&typeof y=="string")B=y,_=this.length,y=0;else if(isFinite(y))y=y>>>0,isFinite(_)?(_=_>>>0,B===void 0&&(B="utf8")):(B=_,_=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Q=this.length-y;if((_===void 0||_>Q)&&(_=Q),m.length>0&&(_<0||y<0)||y>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");for(var ee=!1;;)switch(B){case"hex":return x(this,m,y,_);case"utf8":case"utf-8":return q(this,m,y,_);case"ascii":return L(this,m,y,_);case"latin1":case"binary":return ae(this,m,y,_);case"base64":return ue(this,m,y,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,m,y,_);default:if(ee)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),ee=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function J(v,m,y){return m===0&&y===v.length?u.fromByteArray(v):u.fromByteArray(v.slice(m,y))}function M(v,m,y){y=Math.min(v.length,y);for(var _=[],B=m;B<y;){var Q=v[B],ee=null,de=Q>239?4:Q>223?3:Q>191?2:1;if(B+de<=y){var De,Re,He,Oe;switch(de){case 1:Q<128&&(ee=Q);break;case 2:De=v[B+1],(De&192)===128&&(Oe=(Q&31)<<6|De&63,Oe>127&&(ee=Oe));break;case 3:De=v[B+1],Re=v[B+2],(De&192)===128&&(Re&192)===128&&(Oe=(Q&15)<<12|(De&63)<<6|Re&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ee=Oe));break;case 4:De=v[B+1],Re=v[B+2],He=v[B+3],(De&192)===128&&(Re&192)===128&&(He&192)===128&&(Oe=(Q&15)<<18|(De&63)<<12|(Re&63)<<6|He&63,Oe>65535&&Oe<1114112&&(ee=Oe))}}ee===null?(ee=65533,de=1):ee>65535&&(ee-=65536,_.push(ee>>>10&1023|55296),ee=56320|ee&1023),_.push(ee),B+=de}return U(_)}var O=4096;function U(v){var m=v.length;if(m<=O)return String.fromCharCode.apply(String,v);for(var y="",_=0;_<m;)y+=String.fromCharCode.apply(String,v.slice(_,_+=O));return y}function G(v,m,y){var _="";y=Math.min(v.length,y);for(var B=m;B<y;++B)_+=String.fromCharCode(v[B]&127);return _}function oe(v,m,y){var _="";y=Math.min(v.length,y);for(var B=m;B<y;++B)_+=String.fromCharCode(v[B]);return _}function re(v,m,y){var _=v.length;(!m||m<0)&&(m=0),(!y||y<0||y>_)&&(y=_);for(var B="",Q=m;Q<y;++Q)B+=Z(v[Q]);return B}function z(v,m,y){for(var _=v.slice(m,y),B="",Q=0;Q<_.length;Q+=2)B+=String.fromCharCode(_[Q]+_[Q+1]*256);return B}l.prototype.slice=function(m,y){var _=this.length;m=~~m,y=y===void 0?_:~~y,m<0?(m+=_,m<0&&(m=0)):m>_&&(m=_),y<0?(y+=_,y<0&&(y=0)):y>_&&(y=_),y<m&&(y=m);var B=this.subarray(m,y);return B.__proto__=l.prototype,B};function W(v,m,y){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+m>y)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUIntLE=function(m,y,_){m=m>>>0,y=y>>>0,_||W(m,y,this.length);for(var B=this[m],Q=1,ee=0;++ee<y&&(Q*=256);)B+=this[m+ee]*Q;return B},l.prototype.readUIntBE=function(m,y,_){m=m>>>0,y=y>>>0,_||W(m,y,this.length);for(var B=this[m+--y],Q=1;y>0&&(Q*=256);)B+=this[m+--y]*Q;return B},l.prototype.readUInt8=function(m,y){return m=m>>>0,y||W(m,1,this.length),this[m]},l.prototype.readUInt16LE=function(m,y){return m=m>>>0,y||W(m,2,this.length),this[m]|this[m+1]<<8},l.prototype.readUInt16BE=function(m,y){return m=m>>>0,y||W(m,2,this.length),this[m]<<8|this[m+1]},l.prototype.readUInt32LE=function(m,y){return m=m>>>0,y||W(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},l.prototype.readUInt32BE=function(m,y){return m=m>>>0,y||W(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},l.prototype.readIntLE=function(m,y,_){m=m>>>0,y=y>>>0,_||W(m,y,this.length);for(var B=this[m],Q=1,ee=0;++ee<y&&(Q*=256);)B+=this[m+ee]*Q;return Q*=128,B>=Q&&(B-=Math.pow(2,8*y)),B},l.prototype.readIntBE=function(m,y,_){m=m>>>0,y=y>>>0,_||W(m,y,this.length);for(var B=y,Q=1,ee=this[m+--B];B>0&&(Q*=256);)ee+=this[m+--B]*Q;return Q*=128,ee>=Q&&(ee-=Math.pow(2,8*y)),ee},l.prototype.readInt8=function(m,y){return m=m>>>0,y||W(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},l.prototype.readInt16LE=function(m,y){m=m>>>0,y||W(m,2,this.length);var _=this[m]|this[m+1]<<8;return _&32768?_|4294901760:_},l.prototype.readInt16BE=function(m,y){m=m>>>0,y||W(m,2,this.length);var _=this[m+1]|this[m]<<8;return _&32768?_|4294901760:_},l.prototype.readInt32LE=function(m,y){return m=m>>>0,y||W(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},l.prototype.readInt32BE=function(m,y){return m=m>>>0,y||W(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},l.prototype.readFloatLE=function(m,y){return m=m>>>0,y||W(m,4,this.length),p.read(this,m,!0,23,4)},l.prototype.readFloatBE=function(m,y){return m=m>>>0,y||W(m,4,this.length),p.read(this,m,!1,23,4)},l.prototype.readDoubleLE=function(m,y){return m=m>>>0,y||W(m,8,this.length),p.read(this,m,!0,52,8)},l.prototype.readDoubleBE=function(m,y){return m=m>>>0,y||W(m,8,this.length),p.read(this,m,!1,52,8)};function te(v,m,y,_,B,Q){if(!l.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>B||m<Q)throw new RangeError('"value" argument is out of bounds');if(y+_>v.length)throw new RangeError("Index out of range")}l.prototype.writeUIntLE=function(m,y,_,B){if(m=+m,y=y>>>0,_=_>>>0,!B){var Q=Math.pow(2,8*_)-1;te(this,m,y,_,Q,0)}var ee=1,de=0;for(this[y]=m&255;++de<_&&(ee*=256);)this[y+de]=m/ee&255;return y+_},l.prototype.writeUIntBE=function(m,y,_,B){if(m=+m,y=y>>>0,_=_>>>0,!B){var Q=Math.pow(2,8*_)-1;te(this,m,y,_,Q,0)}var ee=_-1,de=1;for(this[y+ee]=m&255;--ee>=0&&(de*=256);)this[y+ee]=m/de&255;return y+_},l.prototype.writeUInt8=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,1,255,0),this[y]=m&255,y+1},l.prototype.writeUInt16LE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,2,65535,0),this[y]=m&255,this[y+1]=m>>>8,y+2},l.prototype.writeUInt16BE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,2,65535,0),this[y]=m>>>8,this[y+1]=m&255,y+2},l.prototype.writeUInt32LE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,4,4294967295,0),this[y+3]=m>>>24,this[y+2]=m>>>16,this[y+1]=m>>>8,this[y]=m&255,y+4},l.prototype.writeUInt32BE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,4,4294967295,0),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4},l.prototype.writeIntLE=function(m,y,_,B){if(m=+m,y=y>>>0,!B){var Q=Math.pow(2,8*_-1);te(this,m,y,_,Q-1,-Q)}var ee=0,de=1,De=0;for(this[y]=m&255;++ee<_&&(de*=256);)m<0&&De===0&&this[y+ee-1]!==0&&(De=1),this[y+ee]=(m/de>>0)-De&255;return y+_},l.prototype.writeIntBE=function(m,y,_,B){if(m=+m,y=y>>>0,!B){var Q=Math.pow(2,8*_-1);te(this,m,y,_,Q-1,-Q)}var ee=_-1,de=1,De=0;for(this[y+ee]=m&255;--ee>=0&&(de*=256);)m<0&&De===0&&this[y+ee+1]!==0&&(De=1),this[y+ee]=(m/de>>0)-De&255;return y+_},l.prototype.writeInt8=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,1,127,-128),m<0&&(m=255+m+1),this[y]=m&255,y+1},l.prototype.writeInt16LE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,2,32767,-32768),this[y]=m&255,this[y+1]=m>>>8,y+2},l.prototype.writeInt16BE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,2,32767,-32768),this[y]=m>>>8,this[y+1]=m&255,y+2},l.prototype.writeInt32LE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,4,2147483647,-2147483648),this[y]=m&255,this[y+1]=m>>>8,this[y+2]=m>>>16,this[y+3]=m>>>24,y+4},l.prototype.writeInt32BE=function(m,y,_){return m=+m,y=y>>>0,_||te(this,m,y,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[y]=m>>>24,this[y+1]=m>>>16,this[y+2]=m>>>8,this[y+3]=m&255,y+4};function X(v,m,y,_,B,Q){if(y+_>v.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function le(v,m,y,_,B){return m=+m,y=y>>>0,B||X(v,m,y,4,34028234663852886e22,-34028234663852886e22),p.write(v,m,y,_,23,4),y+4}l.prototype.writeFloatLE=function(m,y,_){return le(this,m,y,!0,_)},l.prototype.writeFloatBE=function(m,y,_){return le(this,m,y,!1,_)};function ne(v,m,y,_,B){return m=+m,y=y>>>0,B||X(v,m,y,8,17976931348623157e292,-17976931348623157e292),p.write(v,m,y,_,52,8),y+8}l.prototype.writeDoubleLE=function(m,y,_){return ne(this,m,y,!0,_)},l.prototype.writeDoubleBE=function(m,y,_){return ne(this,m,y,!1,_)},l.prototype.copy=function(m,y,_,B){if(!l.isBuffer(m))throw new TypeError("argument should be a Buffer");if(_||(_=0),!B&&B!==0&&(B=this.length),y>=m.length&&(y=m.length),y||(y=0),B>0&&B<_&&(B=_),B===_||m.length===0||this.length===0)return 0;if(y<0)throw new RangeError("targetStart out of bounds");if(_<0||_>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),m.length-y<B-_&&(B=m.length-y+_);var Q=B-_;if(this===m&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(y,_,B);else if(this===m&&_<y&&y<B)for(var ee=Q-1;ee>=0;--ee)m[ee+y]=this[ee+_];else Uint8Array.prototype.set.call(m,this.subarray(_,B),y);return Q},l.prototype.fill=function(m,y,_,B){if(typeof m=="string"){if(typeof y=="string"?(B=y,y=0,_=this.length):typeof _=="string"&&(B=_,_=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!l.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(m.length===1){var Q=m.charCodeAt(0);(B==="utf8"&&Q<128||B==="latin1")&&(m=Q)}}else typeof m=="number"&&(m=m&255);if(y<0||this.length<y||this.length<_)throw new RangeError("Out of range index");if(_<=y)return this;y=y>>>0,_=_===void 0?this.length:_>>>0,m||(m=0);var ee;if(typeof m=="number")for(ee=y;ee<_;++ee)this[ee]=m;else{var de=l.isBuffer(m)?m:l.from(m,B),De=de.length;if(De===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(ee=0;ee<_-y;++ee)this[ee+y]=de[ee%De]}return this};var V=/[^+/0-9A-Za-z-_]/g;function F(v){if(v=v.split("=")[0],v=v.trim().replace(V,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function Z(v){return v<16?"0"+v.toString(16):v.toString(16)}function ie(v,m){m=m||1/0;for(var y,_=v.length,B=null,Q=[],ee=0;ee<_;++ee){if(y=v.charCodeAt(ee),y>55295&&y<57344){if(!B){if(y>56319){(m-=3)>-1&&Q.push(239,191,189);continue}else if(ee+1===_){(m-=3)>-1&&Q.push(239,191,189);continue}B=y;continue}if(y<56320){(m-=3)>-1&&Q.push(239,191,189),B=y;continue}y=(B-55296<<10|y-56320)+65536}else B&&(m-=3)>-1&&Q.push(239,191,189);if(B=null,y<128){if((m-=1)<0)break;Q.push(y)}else if(y<2048){if((m-=2)<0)break;Q.push(y>>6|192,y&63|128)}else if(y<65536){if((m-=3)<0)break;Q.push(y>>12|224,y>>6&63|128,y&63|128)}else if(y<1114112){if((m-=4)<0)break;Q.push(y>>18|240,y>>12&63|128,y>>6&63|128,y&63|128)}else throw new Error("Invalid code point")}return Q}function k(v){for(var m=[],y=0;y<v.length;++y)m.push(v.charCodeAt(y)&255);return m}function A(v,m){for(var y,_,B,Q=[],ee=0;ee<v.length&&!((m-=2)<0);++ee)y=v.charCodeAt(ee),_=y>>8,B=y%256,Q.push(B),Q.push(_);return Q}function j(v){return u.toByteArray(F(v))}function Y(v,m,y,_){for(var B=0;B<_&&!(B+y>=m.length||B>=v.length);++B)m[B+y]=v[B];return B}function K(v,m){return v instanceof m||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===m.name}function C(v){return v!==v}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":1,buffer:3,ieee754:5}],4:[function(n,i,o){"use strict";var s=typeof Reflect=="object"?Reflect:null,u=s&&typeof s.apply=="function"?s.apply:function(P,x,q){return Function.prototype.apply.call(P,x,q)},p;s&&typeof s.ownKeys=="function"?p=s.ownKeys:Object.getOwnPropertySymbols?p=function(P){return Object.getOwnPropertyNames(P).concat(Object.getOwnPropertySymbols(P))}:p=function(P){return Object.getOwnPropertyNames(P)};function f(T){console&&console.warn&&console.warn(T)}var h=Number.isNaN||function(P){return P!==P};function d(){d.init.call(this)}i.exports=d,i.exports.once=N,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var l=10;function a(T){if(typeof T!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof T)}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(T){if(typeof T!="number"||T<0||h(T))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+T+".");l=T}}),d.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(P){if(typeof P!="number"||P<0||h(P))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+P+".");return this._maxListeners=P,this};function c(T){return T._maxListeners===void 0?d.defaultMaxListeners:T._maxListeners}d.prototype.getMaxListeners=function(){return c(this)},d.prototype.emit=function(P){for(var x=[],q=1;q<arguments.length;q++)x.push(arguments[q]);var L=P==="error",ae=this._events;if(ae!==void 0)L=L&&ae.error===void 0;else if(!L)return!1;if(L){var ue;if(x.length>0&&(ue=x[0]),ue instanceof Error)throw ue;var se=new Error("Unhandled error."+(ue?" ("+ue.message+")":""));throw se.context=ue,se}var J=ae[P];if(J===void 0)return!1;if(typeof J=="function")u(J,this,x);else for(var M=J.length,O=E(J,M),q=0;q<M;++q)u(O[q],this,x);return!0};function g(T,P,x,q){var L,ae,ue;if(a(x),ae=T._events,ae===void 0?(ae=T._events=Object.create(null),T._eventsCount=0):(ae.newListener!==void 0&&(T.emit("newListener",P,x.listener?x.listener:x),ae=T._events),ue=ae[P]),ue===void 0)ue=ae[P]=x,++T._eventsCount;else if(typeof ue=="function"?ue=ae[P]=q?[x,ue]:[ue,x]:q?ue.unshift(x):ue.push(x),L=c(T),L>0&&ue.length>L&&!ue.warned){ue.warned=!0;var se=new Error("Possible EventEmitter memory leak detected. "+ue.length+" "+String(P)+" listeners added. Use emitter.setMaxListeners() to increase limit");se.name="MaxListenersExceededWarning",se.emitter=T,se.type=P,se.count=ue.length,f(se)}return T}d.prototype.addListener=function(P,x){return g(this,P,x,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(P,x){return g(this,P,x,!0)};function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function b(T,P,x){var q={fired:!1,wrapFn:void 0,target:T,type:P,listener:x},L=w.bind(q);return L.listener=x,q.wrapFn=L,L}d.prototype.once=function(P,x){return a(x),this.on(P,b(this,P,x)),this},d.prototype.prependOnceListener=function(P,x){return a(x),this.prependListener(P,b(this,P,x)),this},d.prototype.removeListener=function(P,x){var q,L,ae,ue,se;if(a(x),L=this._events,L===void 0)return this;if(q=L[P],q===void 0)return this;if(q===x||q.listener===x)--this._eventsCount===0?this._events=Object.create(null):(delete L[P],L.removeListener&&this.emit("removeListener",P,q.listener||x));else if(typeof q!="function"){for(ae=-1,ue=q.length-1;ue>=0;ue--)if(q[ue]===x||q[ue].listener===x){se=q[ue].listener,ae=ue;break}if(ae<0)return this;ae===0?q.shift():S(q,ae),q.length===1&&(L[P]=q[0]),L.removeListener!==void 0&&this.emit("removeListener",P,se||x)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(P){var x,q,L;if(q=this._events,q===void 0)return this;if(q.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):q[P]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete q[P]),this;if(arguments.length===0){var ae=Object.keys(q),ue;for(L=0;L<ae.length;++L)ue=ae[L],ue!=="removeListener"&&this.removeAllListeners(ue);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(x=q[P],typeof x=="function")this.removeListener(P,x);else if(x!==void 0)for(L=x.length-1;L>=0;L--)this.removeListener(P,x[L]);return this};function D(T,P,x){var q=T._events;if(q===void 0)return[];var L=q[P];return L===void 0?[]:typeof L=="function"?x?[L.listener||L]:[L]:x?R(L):E(L,L.length)}d.prototype.listeners=function(P){return D(this,P,!0)},d.prototype.rawListeners=function(P){return D(this,P,!1)},d.listenerCount=function(T,P){return typeof T.listenerCount=="function"?T.listenerCount(P):I.call(T,P)},d.prototype.listenerCount=I;function I(T){var P=this._events;if(P!==void 0){var x=P[T];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}d.prototype.eventNames=function(){return this._eventsCount>0?p(this._events):[]};function E(T,P){for(var x=new Array(P),q=0;q<P;++q)x[q]=T[q];return x}function S(T,P){for(;P+1<T.length;P++)T[P]=T[P+1];T.pop()}function R(T){for(var P=new Array(T.length),x=0;x<P.length;++x)P[x]=T[x].listener||T[x];return P}function N(T,P){return new Promise(function(x,q){function L(ue){T.removeListener(P,ae),q(ue)}function ae(){typeof T.removeListener=="function"&&T.removeListener("error",L),x([].slice.call(arguments))}$(T,P,ae,{once:!0}),P!=="error"&&H(T,L,{once:!0})})}function H(T,P,x){typeof T.on=="function"&&$(T,"error",P,x)}function $(T,P,x,q){if(typeof T.on=="function")q.once?T.once(P,x):T.on(P,x);else if(typeof T.addEventListener=="function")T.addEventListener(P,function L(ae){q.once&&T.removeEventListener(P,L),x(ae)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof T)}},{}],5:[function(n,i,o){o.read=function(s,u,p,f,h){var d,l,a=h*8-f-1,c=(1<<a)-1,g=c>>1,w=-7,b=p?h-1:0,D=p?-1:1,I=s[u+b];for(b+=D,d=I&(1<<-w)-1,I>>=-w,w+=a;w>0;d=d*256+s[u+b],b+=D,w-=8);for(l=d&(1<<-w)-1,d>>=-w,w+=f;w>0;l=l*256+s[u+b],b+=D,w-=8);if(d===0)d=1-g;else{if(d===c)return l?NaN:(I?-1:1)*(1/0);l=l+Math.pow(2,f),d=d-g}return(I?-1:1)*l*Math.pow(2,d-f)},o.write=function(s,u,p,f,h,d){var l,a,c,g=d*8-h-1,w=(1<<g)-1,b=w>>1,D=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,I=f?0:d-1,E=f?1:-1,S=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(a=isNaN(u)?1:0,l=w):(l=Math.floor(Math.log(u)/Math.LN2),u*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+b>=1?u+=D/c:u+=D*Math.pow(2,1-b),u*c>=2&&(l++,c/=2),l+b>=w?(a=0,l=w):l+b>=1?(a=(u*c-1)*Math.pow(2,h),l=l+b):(a=u*Math.pow(2,b-1)*Math.pow(2,h),l=0));h>=8;s[p+I]=a&255,I+=E,a/=256,h-=8);for(l=l<<h|a,g+=h;g>0;s[p+I]=l&255,I+=E,l/=256,g-=8);s[p+I-E]|=S*128}},{}],6:[function(n,i,o){(function(s,u){(function(){"use strict";let p=n("events").EventEmitter,f=n("./store"),h=n("./topic-alias-recv"),d=n("./topic-alias-send"),l=n("mqtt-packet"),a=n("./default-message-id-provider"),c=n("readable-stream").Writable,g=n("inherits"),w=n("reinterval"),b=n("rfdc/default"),D=n("./validations"),I=n("xtend"),E=n("debug")("mqttjs:client"),S=s?s.nextTick:function(M){setTimeout(M,0)},R=u.setImmediate||function(M){S(M)},N={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},H=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],$={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function T(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function P(M,O){if(M.options.protocolVersion===5&&O.cmd==="publish"){let U;O.properties&&(U=O.properties.topicAlias);let G=O.topic.toString();if(M.topicAliasSend)if(U){if(G.length!==0&&(E("applyTopicAlias :: register topic: %s - alias: %d",G,U),!M.topicAliasSend.put(G,U)))return E("applyTopicAlias :: error out of range. topic: %s - alias: %d",G,U),new Error("Sending Topic Alias out of range")}else G.length!==0&&(M.options.autoAssignTopicAlias?(U=M.topicAliasSend.getAliasByTopic(G),U?(O.topic="",O.properties=Pe(fe({},O.properties),{topicAlias:U}),E("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",G,U)):(U=M.topicAliasSend.getLruAlias(),M.topicAliasSend.put(G,U),O.properties=Pe(fe({},O.properties),{topicAlias:U}),E("applyTopicAlias :: auto assign topic: %s - alias: %d",G,U))):M.options.autoUseTopicAlias&&(U=M.topicAliasSend.getAliasByTopic(G),U&&(O.topic="",O.properties=Pe(fe({},O.properties),{topicAlias:U}),E("applyTopicAlias :: auto use topic: %s - alias: %d",G,U))));else if(U)return E("applyTopicAlias :: error out of range. topic: %s - alias: %d",G,U),new Error("Sending Topic Alias out of range")}}function x(M,O){let U;O.properties&&(U=O.properties.topicAlias);let G=O.topic.toString();if(G.length===0){if(typeof U>"u")return new Error("Unregistered Topic Alias");if(G=M.topicAliasSend.getTopicByAlias(U),typeof G>"u")return new Error("Unregistered Topic Alias");O.topic=G}U&&delete O.properties.topicAlias}function q(M,O,U){E("sendPacket :: packet: %O",O),E("sendPacket :: emitting `packetsend`"),M.emit("packetsend",O),E("sendPacket :: writing to stream");let G=l.writeToStream(O,M.stream,M.options);E("sendPacket :: writeToStream result %s",G),!G&&U&&U!==se?(E("sendPacket :: handle events on `drain` once through callback."),M.stream.once("drain",U)):U&&(E("sendPacket :: invoking cb"),U())}function L(M){M&&(E("flush: queue exists? %b",!!M),Object.keys(M).forEach(function(O){typeof M[O].cb=="function"&&(M[O].cb(new Error("Connection closed")),delete M[O])}))}function ae(M){M&&(E("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(M).forEach(function(O){M[O].volatile&&typeof M[O].cb=="function"&&(M[O].cb(new Error("Connection closed")),delete M[O])}))}function ue(M,O,U,G){E("storeAndSend :: store packet with cmd %s to outgoingStore",O.cmd);let oe=O,re;if(oe.cmd==="publish"&&(oe=b(O),re=x(M,oe),re))return U&&U(re);M.outgoingStore.put(oe,function(W){if(W)return U&&U(W);G(),q(M,O,U)})}function se(M){E("nop ::",M)}function J(M,O){let U,G=this;if(!(this instanceof J))return new J(M,O);this.options=O||{};for(U in N)typeof this.options[U]>"u"?this.options[U]=N[U]:this.options[U]=O[U];E("MqttClient :: options.protocol",O.protocol),E("MqttClient :: options.protocolVersion",O.protocolVersion),E("MqttClient :: options.username",O.username),E("MqttClient :: options.keepalive",O.keepalive),E("MqttClient :: options.reconnectPeriod",O.reconnectPeriod),E("MqttClient :: options.rejectUnauthorized",O.rejectUnauthorized),E("MqttClient :: options.topicAliasMaximum",O.topicAliasMaximum),this.options.clientId=typeof O.clientId=="string"?O.clientId:T(),E("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=O.protocolVersion===5&&O.customHandleAcks?O.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=M,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a:this.options.messageIdProvider,this.outgoingStore=O.outgoingStore||new f,this.incomingStore=O.incomingStore||new f,this.queueQoSZero=O.queueQoSZero===void 0?!0:O.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,O.topicAliasMaximum>0&&(O.topicAliasMaximum>65535?E("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new h(O.topicAliasMaximum)),this.on("connect",function(){let oe=this.queue;function re(){let z=oe.shift();E("deliver :: entry %o",z);let W=null;if(!z){G._resubscribe();return}W=z.packet,E("deliver :: call _sendPacket for %o",W);let te=!0;W.messageId&&W.messageId!==0&&(G.messageIdProvider.register(W.messageId)||(te=!1)),te?G._sendPacket(W,function(X){z.cb&&z.cb(X),re()}):(E("messageId: %d has already used. The message is skipped and removed.",W.messageId),re())}E("connect :: sending queued packets"),re()}),this.on("close",function(){E("close :: connected set to `false`"),this.connected=!1,E("close :: clearing connackTimer"),clearTimeout(this.connackTimer),E("close :: clearing ping timer"),G.pingTimer!==null&&(G.pingTimer.clear(),G.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),E("close :: calling _setupReconnect"),this._setupReconnect()}),p.call(this),E("MqttClient :: setting up stream"),this._setupStream()}g(J,p),J.prototype._setupStream=function(){let M=this,O=new c,U=l.parser(this.options),G=null,oe=[];E("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),E("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),U.on("packet",function(X){E("parser :: on packet push to packets array."),oe.push(X)});function re(){if(oe.length)S(z);else{let X=G;G=null,X()}}function z(){E("work :: getting next packet in queue");let X=oe.shift();if(X)E("work :: packet pulled from queue"),M._handlePacket(X,re);else{E("work :: no packets in queue");let le=G;G=null,E("work :: done flag is %s",!!le),le&&le()}}O._write=function(X,le,ne){G=ne,E("writable stream :: parsing buffer"),U.parse(X),z()};function W(X){E("streamErrorHandler :: error",X.message),H.includes(X.code)?(E("streamErrorHandler :: emitting error"),M.emit("error",X)):se(X)}E("_setupStream :: pipe stream to writable stream"),this.stream.pipe(O),this.stream.on("error",W),this.stream.on("close",function(){E("(%s)stream :: on close",M.options.clientId),ae(M.outgoing),E("stream: emit close to MqttClient"),M.emit("close")}),E("_setupStream: sending packet `connect`");let te=Object.create(this.options);if(te.cmd="connect",this.topicAliasRecv&&(te.properties||(te.properties={}),this.topicAliasRecv&&(te.properties.topicAliasMaximum=this.topicAliasRecv.max)),q(this,te),U.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return M.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let X=I({cmd:"auth",reasonCode:0},this.options.authPacket);q(this,X)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){E("!!connectTimeout hit!! Calling _cleanUp with force `true`"),M._cleanUp(!0)},this.options.connectTimeout)},J.prototype._handlePacket=function(M,O){let U=this.options;if(U.protocolVersion===5&&U.properties&&U.properties.maximumPacketSize&&U.properties.maximumPacketSize<M.length)return this.emit("error",new Error("exceeding packets size "+M.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(E("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",M),M.cmd){case"publish":this._handlePublish(M,O);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(M),O();break;case"pubrel":this._handlePubrel(M,O);break;case"connack":this._handleConnack(M),O();break;case"auth":this._handleAuth(M),O();break;case"pingresp":this._handlePingresp(M),O();break;case"disconnect":this._handleDisconnect(M),O();break;default:break}},J.prototype._checkDisconnecting=function(M){return this.disconnecting&&(M&&M!==se?M(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},J.prototype.publish=function(M,O,U,G){E("publish :: message `%s` to topic `%s`",O,M);let oe=this.options;if(typeof U=="function"&&(G=U,U=null),U=I({qos:0,retain:!1,dup:!1},U),this._checkDisconnecting(G))return this;let z=this,W=function(){let te=0;if((U.qos===1||U.qos===2)&&(te=z._nextId(),te===null))return E("No messageId left"),!1;let X={cmd:"publish",topic:M,payload:O,qos:U.qos,retain:U.retain,messageId:te,dup:U.dup};switch(oe.protocolVersion===5&&(X.properties=U.properties),E("publish :: qos",U.qos),U.qos){case 1:case 2:z.outgoing[X.messageId]={volatile:!1,cb:G||se},E("MqttClient:publish: packet cmd: %s",X.cmd),z._sendPacket(X,void 0,U.cbStorePut);break;default:E("MqttClient:publish: packet cmd: %s",X.cmd),z._sendPacket(X,G,U.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!W())&&this._storeProcessingQueue.push({invoke:W,cbStorePut:U.cbStorePut,callback:G}),this},J.prototype.subscribe=function(){let M=this,O=new Array(arguments.length);for(let ne=0;ne<arguments.length;ne++)O[ne]=arguments[ne];let U=[],G=O.shift(),oe=G.resubscribe,re=O.pop()||se,z=O.pop(),W=this.options.protocolVersion;delete G.resubscribe,typeof G=="string"&&(G=[G]),typeof re!="function"&&(z=re,re=se);let te=D.validateTopics(G);if(te!==null)return R(re,new Error("Invalid topic "+te)),this;if(this._checkDisconnecting(re))return E("subscribe: discconecting true"),this;let X={qos:0};if(W===5&&(X.nl=!1,X.rap=!1,X.rh=0),z=I(X,z),Array.isArray(G)?G.forEach(function(ne){if(E("subscribe: array topic %s",ne),!Object.prototype.hasOwnProperty.call(M._resubscribeTopics,ne)||M._resubscribeTopics[ne].qos<z.qos||oe){let V={topic:ne,qos:z.qos};W===5&&(V.nl=z.nl,V.rap=z.rap,V.rh=z.rh,V.properties=z.properties),E("subscribe: pushing topic `%s` and qos `%s` to subs list",V.topic,V.qos),U.push(V)}}):Object.keys(G).forEach(function(ne){if(E("subscribe: object topic %s",ne),!Object.prototype.hasOwnProperty.call(M._resubscribeTopics,ne)||M._resubscribeTopics[ne].qos<G[ne].qos||oe){let V={topic:ne,qos:G[ne].qos};W===5&&(V.nl=G[ne].nl,V.rap=G[ne].rap,V.rh=G[ne].rh,V.properties=z.properties),E("subscribe: pushing `%s` to subs list",V),U.push(V)}}),!U.length)return re(null,[]),this;let le=function(){let ne=M._nextId();if(ne===null)return E("No messageId left"),!1;let V={cmd:"subscribe",subscriptions:U,qos:1,retain:!1,dup:!1,messageId:ne};if(z.properties&&(V.properties=z.properties),M.options.resubscribe){E("subscribe :: resubscribe true");let F=[];U.forEach(function(Z){if(M.options.reconnectPeriod>0){let ie={qos:Z.qos};W===5&&(ie.nl=Z.nl||!1,ie.rap=Z.rap||!1,ie.rh=Z.rh||0,ie.properties=Z.properties),M._resubscribeTopics[Z.topic]=ie,F.push(Z.topic)}}),M.messageIdToTopic[V.messageId]=F}return M.outgoing[V.messageId]={volatile:!0,cb:function(F,Z){if(!F){let ie=Z.granted;for(let k=0;k<ie.length;k+=1)U[k].qos=ie[k]}re(F,U)}},E("subscribe :: call _sendPacket"),M._sendPacket(V),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!le())&&this._storeProcessingQueue.push({invoke:le,callback:re}),this},J.prototype.unsubscribe=function(){let M=this,O=new Array(arguments.length);for(let W=0;W<arguments.length;W++)O[W]=arguments[W];let U=O.shift(),G=O.pop()||se,oe=O.pop();typeof U=="string"&&(U=[U]),typeof G!="function"&&(oe=G,G=se);let re=D.validateTopics(U);if(re!==null)return R(G,new Error("Invalid topic "+re)),this;if(M._checkDisconnecting(G))return this;let z=function(){let W=M._nextId();if(W===null)return E("No messageId left"),!1;let te={cmd:"unsubscribe",qos:1,messageId:W};return typeof U=="string"?te.unsubscriptions=[U]:Array.isArray(U)&&(te.unsubscriptions=U),M.options.resubscribe&&te.unsubscriptions.forEach(function(X){delete M._resubscribeTopics[X]}),typeof oe=="object"&&oe.properties&&(te.properties=oe.properties),M.outgoing[te.messageId]={volatile:!0,cb:G},E("unsubscribe: call _sendPacket"),M._sendPacket(te),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!z())&&this._storeProcessingQueue.push({invoke:z,callback:G}),this},J.prototype.end=function(M,O,U){let G=this;E("end :: (%s)",this.options.clientId),(M==null||typeof M!="boolean")&&(U=O||se,O=M,M=!1,typeof O!="object"&&(U=O,O=null,typeof U!="function"&&(U=se))),typeof O!="object"&&(U=O,O=null),E("end :: cb? %s",!!U),U=U||se;function oe(){E("end :: closeStores: closing incoming and outgoing stores"),G.disconnected=!0,G.incomingStore.close(function(z){G.outgoingStore.close(function(W){if(E("end :: closeStores: emitting end"),G.emit("end"),U){let te=z||W;E("end :: closeStores: invoking callback with args"),U(te)}})}),G._deferredReconnect&&G._deferredReconnect()}function re(){E("end :: (%s) :: finish :: calling _cleanUp with force %s",G.options.clientId,M),G._cleanUp(M,()=>{E("end :: finish :: calling process.nextTick on closeStores"),S(oe.bind(G))},O)}return this.disconnecting?(U(),this):(this._clearReconnect(),this.disconnecting=!0,!M&&Object.keys(this.outgoing).length>0?(E("end :: (%s) :: calling finish in 10ms once outgoing is empty",G.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,re,10))):(E("end :: (%s) :: immediately calling finish",G.options.clientId),re()),this)},J.prototype.removeOutgoingMessage=function(M){let O=this.outgoing[M]?this.outgoing[M].cb:null;return delete this.outgoing[M],this.outgoingStore.del({messageId:M},function(){O(new Error("Message removed"))}),this},J.prototype.reconnect=function(M){E("client reconnect");let O=this,U=function(){M?(O.options.incomingStore=M.incomingStore,O.options.outgoingStore=M.outgoingStore):(O.options.incomingStore=null,O.options.outgoingStore=null),O.incomingStore=O.options.incomingStore||new f,O.outgoingStore=O.options.outgoingStore||new f,O.disconnecting=!1,O.disconnected=!1,O._deferredReconnect=null,O._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=U:U(),this},J.prototype._reconnect=function(){E("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),E("client already connected. disconnecting first.")):(E("_reconnect: calling _setupStream"),this._setupStream())},J.prototype._setupReconnect=function(){let M=this;!M.disconnecting&&!M.reconnectTimer&&M.options.reconnectPeriod>0?(this.reconnecting||(E("_setupReconnect :: emit `offline` state"),this.emit("offline"),E("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),E("_setupReconnect :: setting reconnectTimer for %d ms",M.options.reconnectPeriod),M.reconnectTimer=setInterval(function(){E("reconnectTimer :: reconnect triggered!"),M._reconnect()},M.options.reconnectPeriod)):E("_setupReconnect :: doing nothing...")},J.prototype._clearReconnect=function(){E("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},J.prototype._cleanUp=function(M,O){let U=arguments[2];if(O&&(E("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",O)),E("_cleanUp :: forced? %s",M),M)this.options.reconnectPeriod===0&&this.options.clean&&L(this.outgoing),E("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let G=I({cmd:"disconnect"},U);E("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(G,R.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(E("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(E("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),O&&!this.connected&&(E("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",O),O())},J.prototype._sendPacket=function(M,O,U){E("_sendPacket :: (%s) ::  start",this.options.clientId),U=U||se,O=O||se;let G=P(this,M);if(G){O(G);return}if(!this.connected){if(M.cmd==="auth"){this._shiftPingInterval(),q(this,M,O);return}E("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(M,O,U);return}switch(this._shiftPingInterval(),M.cmd){case"publish":break;case"pubrel":ue(this,M,O,U);return;default:q(this,M,O);return}switch(M.qos){case 2:case 1:ue(this,M,O,U);break;case 0:default:q(this,M,O);break}E("_sendPacket :: (%s) ::  end",this.options.clientId)},J.prototype._storePacket=function(M,O,U){E("_storePacket :: packet: %o",M),E("_storePacket :: cb? %s",!!O),U=U||se;let G=M;if(G.cmd==="publish"){G=b(M);let oe=x(this,G);if(oe)return O&&O(oe)}(G.qos||0)===0&&this.queueQoSZero||G.cmd!=="publish"?this.queue.push({packet:G,cb:O}):G.qos>0?(O=this.outgoing[G.messageId]?this.outgoing[G.messageId].cb:null,this.outgoingStore.put(G,function(oe){if(oe)return O&&O(oe);U()})):O&&O(new Error("No connection to broker"))},J.prototype._setupPingTimer=function(){E("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);let M=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=w(function(){M._checkPing()},this.options.keepalive*1e3))},J.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},J.prototype._checkPing=function(){E("_checkPing :: checking ping..."),this.pingResp?(E("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(E("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},J.prototype._handlePingresp=function(){this.pingResp=!0},J.prototype._handleConnack=function(M){E("_handleConnack");let O=this.options,G=O.protocolVersion===5?M.reasonCode:M.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,M.properties){if(M.properties.topicAliasMaximum){if(M.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}M.properties.topicAliasMaximum>0&&(this.topicAliasSend=new d(M.properties.topicAliasMaximum))}M.properties.serverKeepAlive&&O.keepalive&&(O.keepalive=M.properties.serverKeepAlive,this._shiftPingInterval()),M.properties.maximumPacketSize&&(O.properties||(O.properties={}),O.properties.maximumPacketSize=M.properties.maximumPacketSize)}if(G===0)this.reconnecting=!1,this._onConnect(M);else if(G>0){let oe=new Error("Connection refused: "+$[G]);oe.code=G,this.emit("error",oe)}},J.prototype._handleAuth=function(M){let U=this.options.protocolVersion,G=U===5?M.reasonCode:M.returnCode;if(U!==5){let re=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+U);re.code=G,this.emit("error",re);return}let oe=this;this.handleAuth(M,function(re,z){if(re){oe.emit("error",re);return}if(G===24)oe.reconnecting=!1,oe._sendPacket(z);else{let W=new Error("Connection refused: "+$[G]);re.code=G,oe.emit("error",W)}})},J.prototype.handleAuth=function(M,O){O()},J.prototype._handlePublish=function(M,O){E("_handlePublish: packet %o",M),O=typeof O<"u"?O:se;let U=M.topic.toString(),G=M.payload,oe=M.qos,re=M.messageId,z=this,W=this.options,te=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let X;if(M.properties&&(X=M.properties.topicAlias),typeof X<"u")if(U.length===0)if(X>0&&X<=65535){let le=this.topicAliasRecv.getTopicByAlias(X);if(le)U=le,E("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",U,X);else{E("_handlePublish :: unregistered topic alias. alias: %d",X),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{E("_handlePublish :: topic alias out of range. alias: %d",X),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(U,X))E("_handlePublish :: registered topic: %s - alias: %d",U,X);else{E("_handlePublish :: topic alias out of range. alias: %d",X),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(E("_handlePublish: qos %d",oe),oe){case 2:{W.customHandleAcks(U,G,M,function(X,le){if(X instanceof Error||(le=X,X=null),X)return z.emit("error",X);if(te.indexOf(le)===-1)return z.emit("error",new Error("Wrong reason code for pubrec"));le?z._sendPacket({cmd:"pubrec",messageId:re,reasonCode:le},O):z.incomingStore.put(M,function(){z._sendPacket({cmd:"pubrec",messageId:re},O)})});break}case 1:{W.customHandleAcks(U,G,M,function(X,le){if(X instanceof Error||(le=X,X=null),X)return z.emit("error",X);if(te.indexOf(le)===-1)return z.emit("error",new Error("Wrong reason code for puback"));le||z.emit("message",U,G,M),z.handleMessage(M,function(ne){if(ne)return O&&O(ne);z._sendPacket({cmd:"puback",messageId:re,reasonCode:le},O)})});break}case 0:this.emit("message",U,G,M),this.handleMessage(M,O);break;default:E("_handlePublish: unknown QoS. Doing nothing.");break}},J.prototype.handleMessage=function(M,O){O()},J.prototype._handleAck=function(M){let O=M.messageId,U=M.cmd,G=null,oe=this.outgoing[O]?this.outgoing[O].cb:null,re=this,z;if(!oe){E("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(E("_handleAck :: packet type",U),U){case"pubcomp":case"puback":{let W=M.reasonCode;W&&W>0&&W!==16&&(z=new Error("Publish error: "+$[W]),z.code=W,oe(z,M)),delete this.outgoing[O],this.outgoingStore.del(M,oe),this.messageIdProvider.deallocate(O),this._invokeStoreProcessingQueue();break}case"pubrec":{G={cmd:"pubrel",qos:2,messageId:O};let W=M.reasonCode;W&&W>0&&W!==16?(z=new Error("Publish error: "+$[W]),z.code=W,oe(z,M)):this._sendPacket(G);break}case"suback":{delete this.outgoing[O],this.messageIdProvider.deallocate(O);for(let W=0;W<M.granted.length;W++)if(M.granted[W]&128){let te=this.messageIdToTopic[O];te&&te.forEach(function(X){delete re._resubscribeTopics[X]})}this._invokeStoreProcessingQueue(),oe(null,M);break}case"unsuback":{delete this.outgoing[O],this.messageIdProvider.deallocate(O),this._invokeStoreProcessingQueue(),oe(null);break}default:re.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},J.prototype._handlePubrel=function(M,O){E("handling pubrel packet"),O=typeof O<"u"?O:se;let U=M.messageId,G=this,oe={cmd:"pubcomp",messageId:U};G.incomingStore.get(M,function(re,z){re?G._sendPacket(oe,O):(G.emit("message",z.topic,z.payload,z),G.handleMessage(z,function(W){if(W)return O(W);G.incomingStore.del(z,se),G._sendPacket(oe,O)}))})},J.prototype._handleDisconnect=function(M){this.emit("disconnect",M)},J.prototype._nextId=function(){return this.messageIdProvider.allocate()},J.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},J.prototype._resubscribe=function(){E("_resubscribe");let M=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&M.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){E("_resubscribe: protocolVersion 5");for(let O=0;O<M.length;O++){let U={};U[M[O]]=this._resubscribeTopics[M[O]],U.resubscribe=!0,this.subscribe(U,{properties:U[M[O]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},J.prototype._onConnect=function(M){if(this.disconnected){this.emit("connect",M);return}let O=this;this.connackPacket=M,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function U(){let G=O.outgoingStore.createStream();function oe(){O._storeProcessing=!1,O._packetIdsDuringStoreProcessing={}}O.once("close",re),G.on("error",function(W){oe(),O._flushStoreProcessingQueue(),O.removeListener("close",re),O.emit("error",W)});function re(){G.destroy(),G=null,O._flushStoreProcessingQueue(),oe()}function z(){if(!G)return;O._storeProcessing=!0;let W=G.read(1),te;if(!W){G.once("readable",z);return}if(O._packetIdsDuringStoreProcessing[W.messageId]){z();return}!O.disconnecting&&!O.reconnectTimer?(te=O.outgoing[W.messageId]?O.outgoing[W.messageId].cb:null,O.outgoing[W.messageId]={volatile:!1,cb:function(X,le){te&&te(X,le),z()}},O._packetIdsDuringStoreProcessing[W.messageId]=!0,O.messageIdProvider.register(W.messageId)?O._sendPacket(W):E("messageId: %d has already used.",W.messageId)):G.destroy&&G.destroy()}G.on("end",function(){let W=!0;for(let te in O._packetIdsDuringStoreProcessing)if(!O._packetIdsDuringStoreProcessing[te]){W=!1;break}W?(oe(),O.removeListener("close",re),O._invokeAllStoreProcessingQueue(),O.emit("connect",M)):U()}),z()}U()},J.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){let M=this._storeProcessingQueue[0];if(M&&M.invoke())return this._storeProcessingQueue.shift(),!0}return!1},J.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},J.prototype._flushStoreProcessingQueue=function(){for(let M of this._storeProcessingQueue)M.cbStorePut&&M.cbStorePut(new Error("Connection closed")),M.callback&&M.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},i.exports=J}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":12,"./store":13,"./topic-alias-recv":14,"./topic-alias-send":15,"./validations":16,_process:85,debug:20,events:4,inherits:24,"mqtt-packet":48,"readable-stream":72,reinterval:73,"rfdc/default":74,xtend:82}],7:[function(n,i,o){"use strict";let{Buffer:s}=n("buffer"),u=n("readable-stream").Transform,p=n("duplexify"),f,h,d,l=!1;function a(){let D=new u;return D._write=function(I,E,S){f.sendSocketMessage({data:I.buffer,success:function(){S()},fail:function(){S(new Error)}})},D._flush=function(E){f.closeSocket({success:function(){E()}})},D}function c(D){D.hostname||(D.hostname="localhost"),D.path||(D.path="/"),D.wsOptions||(D.wsOptions={})}function g(D,I){let E=D.protocol==="alis"?"wss":"ws",S=E+"://"+D.hostname+D.path;return D.port&&D.port!==80&&D.port!==443&&(S=E+"://"+D.hostname+":"+D.port+D.path),typeof D.transformWsUrl=="function"&&(S=D.transformWsUrl(S,D,I)),S}function w(){l||(l=!0,f.onSocketOpen(function(){d.setReadable(h),d.setWritable(h),d.emit("connect")}),f.onSocketMessage(function(D){if(typeof D.data=="string"){let I=s.from(D.data,"base64");h.push(I)}else{let I=new FileReader;I.addEventListener("load",function(){let E=I.result;E instanceof ArrayBuffer?E=s.from(E):E=s.from(E,"utf8"),h.push(E)}),I.readAsArrayBuffer(D.data)}}),f.onSocketClose(function(){d.end(),d.destroy()}),f.onSocketError(function(D){d.destroy(D)}))}function b(D,I){if(I.hostname=I.hostname||I.host,!I.hostname)throw new Error("Could not determine host. Specify host manually.");let E=I.protocolId==="MQIsdp"&&I.protocolVersion===3?"mqttv3.1":"mqtt";c(I);let S=g(I,D);return f=I.my,f.connectSocket({url:S,protocols:E}),h=a(),d=p.obj(),w(),d}i.exports=b},{buffer:3,duplexify:22,"readable-stream":72}],8:[function(n,i,o){"use strict";let s=n("net"),u=n("debug")("mqttjs:tcp");function p(f,h){h.port=h.port||1883,h.hostname=h.hostname||h.host||"localhost";let d=h.port,l=h.hostname;return u("port %d and host %s",d,l),s.createConnection(d,l)}i.exports=p},{debug:20,net:2}],9:[function(n,i,o){"use strict";let s=n("tls"),u=n("net"),p=n("debug")("mqttjs:tls");function f(h,d){d.port=d.port||8883,d.host=d.hostname||d.host||"localhost",u.isIP(d.host)===0&&(d.servername=d.host),d.rejectUnauthorized=d.rejectUnauthorized!==!1,delete d.path,p("port %d host %s rejectUnauthorized %b",d.port,d.host,d.rejectUnauthorized);let l=s.connect(d);l.on("secureConnect",function(){d.rejectUnauthorized&&!l.authorized?l.emit("error",new Error("TLS not authorized")):l.removeListener("error",a)});function a(c){d.rejectUnauthorized&&h.emit("error",c),l.end()}return l.on("error",a),l}i.exports=f},{debug:20,net:2,tls:2}],10:[function(n,i,o){(function(s){(function(){"use strict";let{Buffer:u}=n("buffer"),p=n("ws"),f=n("debug")("mqttjs:ws"),h=n("duplexify"),d=n("readable-stream").Transform,l=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],a=typeof s<"u"&&s.title==="browser"||typeof __webpack_require__=="function";function c(S,R){let N=S.protocol+"://"+S.hostname+":"+S.port+S.path;return typeof S.transformWsUrl=="function"&&(N=S.transformWsUrl(N,S,R)),N}function g(S){let R=S;return S.hostname||(R.hostname="localhost"),S.port||(S.protocol==="wss"?R.port=443:R.port=80),S.path||(R.path="/"),S.wsOptions||(R.wsOptions={}),!a&&S.protocol==="wss"&&l.forEach(function(N){Object.prototype.hasOwnProperty.call(S,N)&&!Object.prototype.hasOwnProperty.call(S.wsOptions,N)&&(R.wsOptions[N]=S[N])}),R}function w(S){let R=g(S);if(R.hostname||(R.hostname=R.host),!R.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let N=new URL(document.URL);R.hostname=N.hostname,R.port||(R.port=N.port)}return R.objectMode===void 0&&(R.objectMode=!(R.binary===!0||R.binary===void 0)),R}function b(S,R,N){f("createWebSocket"),f("protocol: "+N.protocolId+" "+N.protocolVersion);let H=N.protocolId==="MQIsdp"&&N.protocolVersion===3?"mqttv3.1":"mqtt";return f("creating new Websocket for url: "+R+" and protocol: "+H),new p(R,[H],N.wsOptions)}function D(S,R){let N=R.protocolId==="MQIsdp"&&R.protocolVersion===3?"mqttv3.1":"mqtt",H=c(R,S),$=new WebSocket(H,[N]);return $.binaryType="arraybuffer",$}function I(S,R){f("streamBuilder");let N=g(R),H=c(N,S),$=b(S,H,N),T=p.createWebSocketStream($,N.wsOptions);return T.url=H,$.on("close",()=>{T.destroy()}),T}function E(S,R){f("browserStreamBuilder");let N,$=w(R).browserBufferSize||1024*512,T=R.browserBufferTimeout||1e3,P=!R.objectMode,x=D(S,R),q=ae(R,U,G);R.objectMode||(q._writev=O),q.on("close",()=>{x.close()});let L=typeof x.addEventListener<"u";x.readyState===x.OPEN?N=q:(N=N=h(void 0,void 0,R),R.objectMode||(N._writev=O),L?x.addEventListener("open",ue):x.onopen=ue),N.socket=x,L?(x.addEventListener("close",se),x.addEventListener("error",J),x.addEventListener("message",M)):(x.onclose=se,x.onerror=J,x.onmessage=M);function ae(oe,re,z){let W=new d({objectModeMode:oe.objectMode});return W._write=re,W._flush=z,W}function ue(){N.setReadable(q),N.setWritable(q),N.emit("connect")}function se(){N.end(),N.destroy()}function J(oe){N.destroy(oe)}function M(oe){let re=oe.data;re instanceof ArrayBuffer?re=u.from(re):re=u.from(re,"utf8"),q.push(re)}function O(oe,re){let z=new Array(oe.length);for(let W=0;W<oe.length;W++)typeof oe[W].chunk=="string"?z[W]=u.from(oe[W],"utf8"):z[W]=oe[W].chunk;this._write(u.concat(z),"binary",re)}function U(oe,re,z){x.bufferedAmount>$&&setTimeout(U,T,oe,re,z),P&&typeof oe=="string"&&(oe=u.from(oe,"utf8"));try{x.send(oe)}catch(W){return z(W)}z()}function G(oe){x.close(),oe()}return N}a?i.exports=E:i.exports=I}).call(this)}).call(this,n("_process"))},{_process:85,buffer:3,debug:20,duplexify:22,"readable-stream":72,ws:81}],11:[function(n,i,o){"use strict";let{Buffer:s}=n("buffer"),u=n("readable-stream").Transform,p=n("duplexify"),f,h,d;function l(){let b=new u;return b._write=function(D,I,E){f.send({data:D.buffer,success:function(){E()},fail:function(S){E(new Error(S))}})},b._flush=function(I){f.close({success:function(){I()}})},b}function a(b){b.hostname||(b.hostname="localhost"),b.path||(b.path="/"),b.wsOptions||(b.wsOptions={})}function c(b,D){let I=b.protocol==="wxs"?"wss":"ws",E=I+"://"+b.hostname+b.path;return b.port&&b.port!==80&&b.port!==443&&(E=I+"://"+b.hostname+":"+b.port+b.path),typeof b.transformWsUrl=="function"&&(E=b.transformWsUrl(E,b,D)),E}function g(){f.onOpen(function(){d.setReadable(h),d.setWritable(h),d.emit("connect")}),f.onMessage(function(b){let D=b.data;D instanceof ArrayBuffer?D=s.from(D):D=s.from(D,"utf8"),h.push(D)}),f.onClose(function(){d.end(),d.destroy()}),f.onError(function(b){d.destroy(new Error(b.errMsg))})}function w(b,D){if(D.hostname=D.hostname||D.host,!D.hostname)throw new Error("Could not determine host. Specify host manually.");let I=D.protocolId==="MQIsdp"&&D.protocolVersion===3?"mqttv3.1":"mqtt";a(D);let E=c(D,b);f=wx.connectSocket({url:E,protocols:[I]}),h=l(),d=p.obj(),d._destroy=function(R,N){f.close({success:function(){N&&N(R)}})};let S=d.destroy;return d.destroy=(function(){d.destroy=S;let R=this;setTimeout(function(){f.close({fail:function(){R._destroy(new Error)}})},0)}).bind(d),g(),d}i.exports=w},{buffer:3,duplexify:22,"readable-stream":72}],12:[function(n,i,o){"use strict";function s(){if(!(this instanceof s))return new s;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}s.prototype.allocate=function(){let u=this.nextId++;return this.nextId===65536&&(this.nextId=1),u},s.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},s.prototype.register=function(u){return!0},s.prototype.deallocate=function(u){},s.prototype.clear=function(){},i.exports=s},{}],13:[function(n,i,o){"use strict";let s=n("xtend"),u=n("readable-stream").Readable,p={objectMode:!0},f={clean:!0};function h(d){if(!(this instanceof h))return new h(d);this.options=d||{},this.options=s(f,d),this._inflights=new Map}h.prototype.put=function(d,l){return this._inflights.set(d.messageId,d),l&&l(),this},h.prototype.createStream=function(){let d=new u(p),l=[],a=!1,c=0;return this._inflights.forEach(function(g,w){l.push(g)}),d._read=function(){!a&&c<l.length?this.push(l[c++]):this.push(null)},d.destroy=function(){if(a)return;let g=this;a=!0,setTimeout(function(){g.emit("close")},0)},d},h.prototype.del=function(d,l){return d=this._inflights.get(d.messageId),d?(this._inflights.delete(d.messageId),l(null,d)):l&&l(new Error("missing packet")),this},h.prototype.get=function(d,l){return d=this._inflights.get(d.messageId),d?l(null,d):l&&l(new Error("missing packet")),this},h.prototype.close=function(d){this.options.clean&&(this._inflights=null),d&&d()},i.exports=h},{"readable-stream":72,xtend:82}],14:[function(n,i,o){"use strict";function s(u){if(!(this instanceof s))return new s(u);this.aliasToTopic={},this.max=u}s.prototype.put=function(u,p){return p===0||p>this.max?!1:(this.aliasToTopic[p]=u,this.length=Object.keys(this.aliasToTopic).length,!0)},s.prototype.getTopicByAlias=function(u){return this.aliasToTopic[u]},s.prototype.clear=function(){this.aliasToTopic={}},i.exports=s},{}],15:[function(n,i,o){"use strict";let s=n("lru-cache"),u=n("number-allocator").NumberAllocator;function p(f){if(!(this instanceof p))return new p(f);f>0&&(this.aliasToTopic=new s({max:f}),this.topicToAlias={},this.numberAllocator=new u(1,f),this.max=f,this.length=0)}p.prototype.put=function(f,h){if(h===0||h>this.max)return!1;let d=this.aliasToTopic.get(h);return d&&delete this.topicToAlias[d],this.aliasToTopic.set(h,f),this.topicToAlias[f]=h,this.numberAllocator.use(h),this.length=this.aliasToTopic.length,!0},p.prototype.getTopicByAlias=function(f){return this.aliasToTopic.get(f)},p.prototype.getAliasByTopic=function(f){let h=this.topicToAlias[f];return typeof h<"u"&&this.aliasToTopic.get(h),h},p.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},p.prototype.getLruAlias=function(){let f=this.numberAllocator.firstVacant();return f||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},i.exports=p},{"lru-cache":45,"number-allocator":54}],16:[function(n,i,o){"use strict";function s(p){let f=p.split("/");for(let h=0;h<f.length;h++)if(f[h]!=="+"){if(f[h]==="#")return h===f.length-1;if(f[h].indexOf("+")!==-1||f[h].indexOf("#")!==-1)return!1}return!0}function u(p){if(p.length===0)return"empty_topic_list";for(let f=0;f<p.length;f++)if(!s(p[f]))return p[f];return null}i.exports={validateTopics:u}},{}],17:[function(n,i,o){(function(s){(function(){"use strict";let u=n("../client"),p=n("../store"),f=n("url"),h=n("xtend"),d=n("debug")("mqttjs"),l={};typeof s<"u"&&s.title!=="browser"||typeof __webpack_require__!="function"?(l.mqtt=n("./tcp"),l.tcp=n("./tcp"),l.ssl=n("./tls"),l.tls=n("./tls"),l.mqtts=n("./tls")):(l.wx=n("./wx"),l.wxs=n("./wx"),l.ali=n("./ali"),l.alis=n("./ali")),l.ws=n("./ws"),l.wss=n("./ws");function a(g){let w;g.auth&&(w=g.auth.match(/^(.+):(.+)$/),w?(g.username=w[1],g.password=w[2]):g.username=g.auth)}function c(g,w){if(d("connecting to an MQTT broker..."),typeof g=="object"&&!w&&(w=g,g=null),w=w||{},g){let I=f.parse(g,!0);if(I.port!=null&&(I.port=Number(I.port)),w=h(I,w),w.protocol===null)throw new Error("Missing protocol");w.protocol=w.protocol.replace(/:$/,"")}if(a(w),w.query&&typeof w.query.clientId=="string"&&(w.clientId=w.query.clientId),w.cert&&w.key)if(w.protocol){if(["mqtts","wss","wxs","alis"].indexOf(w.protocol)===-1)switch(w.protocol){case"mqtt":w.protocol="mqtts";break;case"ws":w.protocol="wss";break;case"wx":w.protocol="wxs";break;case"ali":w.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+w.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!l[w.protocol]){let I=["mqtts","wss"].indexOf(w.protocol)!==-1;w.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(E,S){return I&&S%2===0?!1:typeof l[E]=="function"})[0]}if(w.clean===!1&&!w.clientId)throw new Error("Missing clientId for unclean clients");w.protocol&&(w.defaultProtocol=w.protocol);function b(I){return w.servers&&((!I._reconnectCount||I._reconnectCount===w.servers.length)&&(I._reconnectCount=0),w.host=w.servers[I._reconnectCount].host,w.port=w.servers[I._reconnectCount].port,w.protocol=w.servers[I._reconnectCount].protocol?w.servers[I._reconnectCount].protocol:w.defaultProtocol,w.hostname=w.host,I._reconnectCount++),d("calling streambuilder for",w.protocol),l[w.protocol](I,w)}let D=new u(b,w);return D.on("error",function(){}),D}i.exports=c,i.exports.connect=c,i.exports.MqttClient=u,i.exports.Store=p}).call(this)}).call(this,n("_process"))},{"../client":6,"../store":13,"./ali":7,"./tcp":8,"./tls":9,"./ws":10,"./wx":11,_process:85,debug:20,url:90,xtend:82}],18:[function(n,i,o){"use strict";let{Buffer:s}=n("buffer"),u=Symbol.for("BufferList");function p(f){if(!(this instanceof p))return new p(f);p._init.call(this,f)}p._init=function(h){Object.defineProperty(this,u,{value:!0}),this._bufs=[],this.length=0,h&&this.append(h)},p.prototype._new=function(h){return new p(h)},p.prototype._offset=function(h){if(h===0)return[0,0];let d=0;for(let l=0;l<this._bufs.length;l++){let a=d+this._bufs[l].length;if(h<a||l===this._bufs.length-1)return[l,h-d];d=a}},p.prototype._reverseOffset=function(f){let h=f[0],d=f[1];for(let l=0;l<h;l++)d+=this._bufs[l].length;return d},p.prototype.get=function(h){if(h>this.length||h<0)return;let d=this._offset(h);return this._bufs[d[0]][d[1]]},p.prototype.slice=function(h,d){return typeof h=="number"&&h<0&&(h+=this.length),typeof d=="number"&&d<0&&(d+=this.length),this.copy(null,0,h,d)},p.prototype.copy=function(h,d,l,a){if((typeof l!="number"||l<0)&&(l=0),(typeof a!="number"||a>this.length)&&(a=this.length),l>=this.length||a<=0)return h||s.alloc(0);let c=!!h,g=this._offset(l),w=a-l,b=w,D=c&&d||0,I=g[1];if(l===0&&a===this.length){if(!c)return this._bufs.length===1?this._bufs[0]:s.concat(this._bufs,this.length);for(let E=0;E<this._bufs.length;E++)this._bufs[E].copy(h,D),D+=this._bufs[E].length;return h}if(b<=this._bufs[g[0]].length-I)return c?this._bufs[g[0]].copy(h,d,I,I+b):this._bufs[g[0]].slice(I,I+b);c||(h=s.allocUnsafe(w));for(let E=g[0];E<this._bufs.length;E++){let S=this._bufs[E].length-I;if(b>S)this._bufs[E].copy(h,D,I),D+=S;else{this._bufs[E].copy(h,D,I,I+b),D+=S;break}b-=S,I&&(I=0)}return h.length>D?h.slice(0,D):h},p.prototype.shallowSlice=function(h,d){if(h=h||0,d=typeof d!="number"?this.length:d,h<0&&(h+=this.length),d<0&&(d+=this.length),h===d)return this._new();let l=this._offset(h),a=this._offset(d),c=this._bufs.slice(l[0],a[0]+1);return a[1]===0?c.pop():c[c.length-1]=c[c.length-1].slice(0,a[1]),l[1]!==0&&(c[0]=c[0].slice(l[1])),this._new(c)},p.prototype.toString=function(h,d,l){return this.slice(d,l).toString(h)},p.prototype.consume=function(h){if(h=Math.trunc(h),Number.isNaN(h)||h<=0)return this;for(;this._bufs.length;)if(h>=this._bufs[0].length)h-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(h),this.length-=h;break}return this},p.prototype.duplicate=function(){let h=this._new();for(let d=0;d<this._bufs.length;d++)h.append(this._bufs[d]);return h},p.prototype.append=function(h){if(h==null)return this;if(h.buffer)this._appendBuffer(s.from(h.buffer,h.byteOffset,h.byteLength));else if(Array.isArray(h))for(let d=0;d<h.length;d++)this.append(h[d]);else if(this._isBufferList(h))for(let d=0;d<h._bufs.length;d++)this.append(h._bufs[d]);else typeof h=="number"&&(h=h.toString()),this._appendBuffer(s.from(h));return this},p.prototype._appendBuffer=function(h){this._bufs.push(h),this.length+=h.length},p.prototype.indexOf=function(f,h,d){if(d===void 0&&typeof h=="string"&&(d=h,h=void 0),typeof f=="function"||Array.isArray(f))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof f=="number"?f=s.from([f]):typeof f=="string"?f=s.from(f,d):this._isBufferList(f)?f=f.slice():Array.isArray(f.buffer)?f=s.from(f.buffer,f.byteOffset,f.byteLength):s.isBuffer(f)||(f=s.from(f)),h=Number(h||0),isNaN(h)&&(h=0),h<0&&(h=this.length+h),h<0&&(h=0),f.length===0)return h>this.length?this.length:h;let l=this._offset(h),a=l[0],c=l[1];for(;a<this._bufs.length;a++){let g=this._bufs[a];for(;c<g.length;)if(g.length-c>=f.length){let b=g.indexOf(f,c);if(b!==-1)return this._reverseOffset([a,b]);c=g.length-f.length+1}else{let b=this._reverseOffset([a,c]);if(this._match(b,f))return b;c++}c=0}return-1},p.prototype._match=function(f,h){if(this.length-f<h.length)return!1;for(let d=0;d<h.length;d++)if(this.get(f+d)!==h[d])return!1;return!0},function(){let f={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let h in f)(function(d){f[d]===null?p.prototype[d]=function(l,a){return this.slice(l,l+a)[d](0,a)}:p.prototype[d]=function(l=0){return this.slice(l,l+f[d])[d](0)}})(h)}(),p.prototype._isBufferList=function(h){return h instanceof p||p.isBufferList(h)},p.isBufferList=function(h){return h!=null&&h[u]},i.exports=p},{buffer:3}],19:[function(n,i,o){"use strict";let s=n("readable-stream").Duplex,u=n("inherits"),p=n("./BufferList");function f(h){if(!(this instanceof f))return new f(h);if(typeof h=="function"){this._callback=h;let d=(function(a){this._callback&&(this._callback(a),this._callback=null)}).bind(this);this.on("pipe",function(a){a.on("error",d)}),this.on("unpipe",function(a){a.removeListener("error",d)}),h=null}p._init.call(this,h),s.call(this)}u(f,s),Object.assign(f.prototype,p.prototype),f.prototype._new=function(d){return new f(d)},f.prototype._write=function(d,l,a){this._appendBuffer(d),typeof a=="function"&&a()},f.prototype._read=function(d){if(!this.length)return this.push(null);d=Math.min(d,this.length),this.push(this.slice(0,d)),this.consume(d)},f.prototype.end=function(d){s.prototype.end.call(this,d),this._callback&&(this._callback(null,this.slice()),this._callback=null)},f.prototype._destroy=function(d,l){this._bufs.length=0,this.length=0,l(d)},f.prototype._isBufferList=function(d){return d instanceof f||d instanceof p||f.isBufferList(d)},f.isBufferList=p.isBufferList,i.exports=f,i.exports.BufferListStream=f,i.exports.BufferList=p},{"./BufferList":18,inherits:24,"readable-stream":72}],20:[function(n,i,o){(function(s){(function(){o.formatArgs=p,o.save=f,o.load=h,o.useColors=u,o.storage=d(),o.destroy=(()=>{let a=!1;return()=>{a||(a=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),o.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function u(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function p(a){if(a[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a[0]+(this.useColors?"%c ":" ")+"+"+i.exports.humanize(this.diff),!this.useColors)return;let c="color: "+this.color;a.splice(1,0,c,"color: inherit");let g=0,w=0;a[0].replace(/%[a-zA-Z%]/g,b=>{b!=="%%"&&(g++,b==="%c"&&(w=g))}),a.splice(w,0,c)}o.log=console.debug||console.log||(()=>{});function f(a){try{a?o.storage.setItem("debug",a):o.storage.removeItem("debug")}catch{}}function h(){let a;try{a=o.storage.getItem("debug")}catch{}return!a&&typeof s<"u"&&"env"in s&&(a=s.env.DEBUG),a}function d(){try{return localStorage}catch{}}i.exports=n("./common")(o);let{formatters:l}=i.exports;l.j=function(a){try{return JSON.stringify(a)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}).call(this)}).call(this,n("_process"))},{"./common":21,_process:85}],21:[function(n,i,o){function s(u){f.debug=f,f.default=f,f.coerce=g,f.disable=l,f.enable=d,f.enabled=a,f.humanize=n("ms"),f.destroy=w,Object.keys(u).forEach(b=>{f[b]=u[b]}),f.names=[],f.skips=[],f.formatters={};function p(b){let D=0;for(let I=0;I<b.length;I++)D=(D<<5)-D+b.charCodeAt(I),D|=0;return f.colors[Math.abs(D)%f.colors.length]}f.selectColor=p;function f(b){let D,I=null,E,S;function R(...N){if(!R.enabled)return;let H=R,$=Number(new Date),T=$-(D||$);H.diff=T,H.prev=D,H.curr=$,D=$,N[0]=f.coerce(N[0]),typeof N[0]!="string"&&N.unshift("%O");let P=0;N[0]=N[0].replace(/%([a-zA-Z%])/g,(q,L)=>{if(q==="%%")return"%";P++;let ae=f.formatters[L];if(typeof ae=="function"){let ue=N[P];q=ae.call(H,ue),N.splice(P,1),P--}return q}),f.formatArgs.call(H,N),(H.log||f.log).apply(H,N)}return R.namespace=b,R.useColors=f.useColors(),R.color=f.selectColor(b),R.extend=h,R.destroy=f.destroy,Object.defineProperty(R,"enabled",{enumerable:!0,configurable:!1,get:()=>I!==null?I:(E!==f.namespaces&&(E=f.namespaces,S=f.enabled(b)),S),set:N=>{I=N}}),typeof f.init=="function"&&f.init(R),R}function h(b,D){let I=f(this.namespace+(typeof D>"u"?":":D)+b);return I.log=this.log,I}function d(b){f.save(b),f.namespaces=b,f.names=[],f.skips=[];let D,I=(typeof b=="string"?b:"").split(/[\s,]+/),E=I.length;for(D=0;D<E;D++)I[D]&&(b=I[D].replace(/\*/g,".*?"),b[0]==="-"?f.skips.push(new RegExp("^"+b.slice(1)+"$")):f.names.push(new RegExp("^"+b+"$")))}function l(){let b=[...f.names.map(c),...f.skips.map(c).map(D=>"-"+D)].join(",");return f.enable(""),b}function a(b){if(b[b.length-1]==="*")return!0;let D,I;for(D=0,I=f.skips.length;D<I;D++)if(f.skips[D].test(b))return!1;for(D=0,I=f.names.length;D<I;D++)if(f.names[D].test(b))return!0;return!1}function c(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}function g(b){return b instanceof Error?b.stack||b.message:b}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return f.enable(f.load()),f}i.exports=s},{ms:53}],22:[function(n,i,o){(function(s,u){(function(){var p=n("readable-stream"),f=n("end-of-stream"),h=n("inherits"),d=n("stream-shift"),l=u.from&&u.from!==Uint8Array.from?u.from([0]):new u([0]),a=function(E,S){E._corked?E.once("uncork",S):S()},c=function(E,S){E._autoDestroy&&E.destroy(S)},g=function(E,S){return function(R){R?c(E,R.message==="premature close"?null:R):S&&!E._ended&&E.end()}},w=function(E,S){if(!E||E._writableState&&E._writableState.finished)return S();if(E._writableState)return E.end(S);E.end(),S()},b=function(){},D=function(E){return new p.Readable({objectMode:!0,highWaterMark:16}).wrap(E)},I=function(E,S,R){if(!(this instanceof I))return new I(E,S,R);p.Duplex.call(this,R),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!R||R.autoDestroy!==!1,this._forwardDestroy=!R||R.destroy!==!1,this._forwardEnd=!R||R.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,E&&this.setWritable(E),S&&this.setReadable(S)};h(I,p.Duplex),I.obj=function(E,S,R){return R||(R={}),R.objectMode=!0,R.highWaterMark=16,new I(E,S,R)},I.prototype.cork=function(){++this._corked===1&&this.emit("cork")},I.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},I.prototype.setWritable=function(E){if(this._unwrite&&this._unwrite(),this.destroyed){E&&E.destroy&&E.destroy();return}if(E===null||E===!1){this.end();return}var S=this,R=f(E,{writable:!0,readable:!1},g(this,this._forwardEnd)),N=function(){var $=S._ondrain;S._ondrain=null,$&&$()},H=function(){S._writable.removeListener("drain",N),R()};this._unwrite&&s.nextTick(N),this._writable=E,this._writable.on("drain",N),this._unwrite=H,this.uncork()},I.prototype.setReadable=function(E){if(this._unread&&this._unread(),this.destroyed){E&&E.destroy&&E.destroy();return}if(E===null||E===!1){this.push(null),this.resume();return}var S=this,R=f(E,{writable:!1,readable:!0},g(this)),N=function(){S._forward()},H=function(){S.push(null)},$=function(){S._readable2.removeListener("readable",N),S._readable2.removeListener("end",H),R()};this._drained=!0,this._readable=E,this._readable2=E._readableState?E:D(E),this._readable2.on("readable",N),this._readable2.on("end",H),this._unread=$,this._forward()},I.prototype._read=function(){this._drained=!0,this._forward()},I.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var E;this._drained&&(E=d(this._readable2))!==null;)this.destroyed||(this._drained=this.push(E));this._forwarding=!1}},I.prototype.destroy=function(E,S){if(S||(S=b),this.destroyed)return S(null);this.destroyed=!0;var R=this;s.nextTick(function(){R._destroy(E),S(null)})},I.prototype._destroy=function(E){if(E){var S=this._ondrain;this._ondrain=null,S?S(E):this.emit("error",E)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},I.prototype._write=function(E,S,R){if(!this.destroyed){if(this._corked)return a(this,this._write.bind(this,E,S,R));if(E===l)return this._finish(R);if(!this._writable)return R();this._writable.write(E)===!1?this._ondrain=R:this.destroyed||R()}},I.prototype._finish=function(E){var S=this;this.emit("preend"),a(this,function(){w(S._forwardEnd&&S._writable,function(){S._writableState.prefinished===!1&&(S._writableState.prefinished=!0),S.emit("prefinish"),a(S,E)})})},I.prototype.end=function(E,S,R){return typeof E=="function"?this.end(null,null,E):typeof S=="function"?this.end(E,null,S):(this._ended=!0,E&&this.write(E),!this._writableState.ending&&!this._writableState.destroyed&&this.write(l),p.Writable.prototype.end.call(this,R))},i.exports=I}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{_process:85,buffer:3,"end-of-stream":23,inherits:24,"readable-stream":72,"stream-shift":77}],23:[function(n,i,o){(function(s){(function(){var u=n("once"),p=function(){},f=function(l){return l.setHeader&&typeof l.abort=="function"},h=function(l){return l.stdio&&Array.isArray(l.stdio)&&l.stdio.length===3},d=function(l,a,c){if(typeof a=="function")return d(l,null,a);a||(a={}),c=u(c||p);var g=l._writableState,w=l._readableState,b=a.readable||a.readable!==!1&&l.readable,D=a.writable||a.writable!==!1&&l.writable,I=!1,E=function(){l.writable||S()},S=function(){D=!1,b||c.call(l)},R=function(){b=!1,D||c.call(l)},N=function(x){c.call(l,x?new Error("exited with error code: "+x):null)},H=function(x){c.call(l,x)},$=function(){s.nextTick(T)},T=function(){if(!I){if(b&&!(w&&w.ended&&!w.destroyed))return c.call(l,new Error("premature close"));if(D&&!(g&&g.ended&&!g.destroyed))return c.call(l,new Error("premature close"))}},P=function(){l.req.on("finish",S)};return f(l)?(l.on("complete",S),l.on("abort",$),l.req?P():l.on("request",P)):D&&!g&&(l.on("end",E),l.on("close",E)),h(l)&&l.on("exit",N),l.on("end",R),l.on("finish",S),a.error!==!1&&l.on("error",H),l.on("close",$),function(){I=!0,l.removeListener("complete",S),l.removeListener("abort",$),l.removeListener("request",P),l.req&&l.req.removeListener("finish",S),l.removeListener("end",E),l.removeListener("close",E),l.removeListener("finish",S),l.removeListener("exit",N),l.removeListener("end",R),l.removeListener("error",H),l.removeListener("close",$)}};i.exports=d}).call(this)}).call(this,n("_process"))},{_process:85,once:56}],24:[function(n,i,o){typeof Object.create=="function"?i.exports=function(u,p){p&&(u.super_=p,u.prototype=Object.create(p.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(u,p){if(p){u.super_=p;var f=function(){};f.prototype=p.prototype,u.prototype=new f,u.prototype.constructor=u}}},{}],25:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.ContainerIterator=o.Container=o.Base=void 0;class s{constructor(h=0){this.iteratorType=h}equals(h){return this.o===h.o}}o.ContainerIterator=s;class u{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}}o.Base=u;class p extends u{}o.Container=p},{}],26:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.HashContainerIterator=o.HashContainer=void 0;var s=n("../../ContainerBase"),u=f(n("../../../utils/checkObject")),p=n("../../../utils/throwError");function f(l){return l&&l.t?l:{default:l}}class h extends s.ContainerIterator{constructor(a,c,g){super(g),this.o=a,this.h=c,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}}o.HashContainerIterator=h;class d extends s.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:c,B:g}=a;c.B=g,g.L=c,a===this.p&&(this.p=g),a===this._&&(this._=c),this.i-=1}M(a,c,g){g===void 0&&(g=(0,u.default)(a));let w;if(g){let b=a[this.HASH_TAG];if(b!==void 0)return this.H[b].l=c,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),w={u:a,l:c,L:this._,B:this.h},this.H.push(w)}else{let b=this.g[a];if(b)return b.l=c,this.i;w={u:a,l:c,L:this._,B:this.h},this.g[a]=w}return this.i===0?(this.p=w,this.h.B=w):this._.B=w,this._=w,this.h.L=w,++this.i}I(a,c){if(c===void 0&&(c=(0,u.default)(a)),c){let g=a[this.HASH_TAG];return g===void 0?this.h:this.H[g]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(c){delete c.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,c){let g;if(c===void 0&&(c=(0,u.default)(a)),c){let w=a[this.HASH_TAG];if(w===void 0)return!1;delete a[this.HASH_TAG],g=this.H[w],delete this.H[w]}else{if(g=this.g[a],g===void 0)return!1;delete this.g[a]}return this.V(g),!0}eraseElementByIterator(a){let c=a.o;return c===this.h&&(0,p.throwIteratorAccessError)(),this.V(c),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let c=this.p;for(;a--;)c=c.B;return this.V(c),this.i}}o.HashContainer=d},{"../../../utils/checkObject":43,"../../../utils/throwError":44,"../../ContainerBase":25}],27:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("./Base"),u=f(n("../../utils/checkObject")),p=n("../../utils/throwError");function f(a){return a&&a.t?a:{default:a}}class h extends s.HashContainerIterator{constructor(c,g,w,b){super(c,g,b),this.container=w}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(g,w){if(w==="0")return c.o.u;if(w==="1")return c.o.l},set(g,w,b){if(w!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class d extends s.HashContainer{constructor(c=[]){super();let g=this;c.forEach(function(w){g.setElement(w[0],w[1])})}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(c,g,w){return this.M(c,g,w)}getElementByKey(c,g){if(g===void 0&&(g=(0,u.default)(c)),g){let b=c[this.HASH_TAG];return b!==void 0?this.H[b].l:void 0}let w=this.g[c];return w?w.l:void 0}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let g=this.p;for(;c--;)g=g.B;return[g.u,g.l]}find(c,g){let w=this.I(c,g);return new h(w,this.h,this)}forEach(c){let g=0,w=this.p;for(;w!==this.h;)c([w.u,w.l],g++,this),w=w.B}[Symbol.iterator](){return(function*(){let c=this.p;for(;c!==this.h;)yield[c.u,c.l],c=c.B}).bind(this)()}}var l=d;o.default=l},{"../../utils/checkObject":43,"../../utils/throwError":44,"./Base":26}],28:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("./Base"),u=n("../../utils/throwError");class p extends s.HashContainerIterator{constructor(l,a,c,g){super(l,a,g),this.container=c}get pointer(){return this.o===this.h&&(0,u.throwIteratorAccessError)(),this.o.u}copy(){return new p(this.o,this.h,this.container,this.iteratorType)}}class f extends s.HashContainer{constructor(l=[]){super();let a=this;l.forEach(function(c){a.insert(c)})}begin(){return new p(this.p,this.h,this)}end(){return new p(this.h,this.h,this)}rBegin(){return new p(this._,this.h,this,1)}rEnd(){return new p(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(l,a){return this.M(l,void 0,a)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let a=this.p;for(;l--;)a=a.B;return a.u}find(l,a){let c=this.I(l,a);return new p(c,this.h,this)}forEach(l){let a=0,c=this.p;for(;c!==this.h;)l(c.u,a++,this),c=c.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield l.u,l=l.B}).bind(this)()}}var h=f;o.default=h},{"../../utils/throwError":44,"./Base":26}],29:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../ContainerBase");class u extends s.Base{constructor(h=[],d=function(a,c){return a>c?-1:a<c?1:0},l=!0){if(super(),this.v=d,Array.isArray(h))this.C=l?[...h]:h;else{this.C=[];let c=this;h.forEach(function(g){c.C.push(g)})}this.i=this.C.length;let a=this.i>>1;for(let c=this.i-1>>1;c>=0;--c)this.k(c,a)}m(h){let d=this.C[h];for(;h>0;){let l=h-1>>1,a=this.C[l];if(this.v(a,d)<=0)break;this.C[h]=a,h=l}this.C[h]=d}k(h,d){let l=this.C[h];for(;h<d;){let a=h<<1|1,c=a+1,g=this.C[a];if(c<this.i&&this.v(g,this.C[c])>0&&(a=c,g=this.C[c]),this.v(g,l)>=0)break;this.C[h]=g,h=a}this.C[h]=l}clear(){this.i=0,this.C.length=0}push(h){this.C.push(h),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let h=this.C[0],d=this.C.pop();return this.i-=1,this.i&&(this.C[0]=d,this.k(0,this.i>>1)),h}top(){return this.C[0]}find(h){return this.C.indexOf(h)>=0}remove(h){let d=this.C.indexOf(h);return d<0?!1:(d===0?this.pop():d===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(d,1,this.C.pop()),this.i-=1,this.m(d),this.k(d,this.i>>1)),!0)}updateItem(h){let d=this.C.indexOf(h);return d<0?!1:(this.m(d),this.k(d,this.i>>1),!0)}toArray(){return[...this.C]}}var p=u;o.default=p},{"../ContainerBase":25}],30:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../ContainerBase");class u extends s.Base{constructor(h=[]){super(),this.j=0,this.q=[];let d=this;h.forEach(function(l){d.push(l)})}clear(){this.q=[],this.i=this.j=0}push(h){let d=this.q.length;if(this.j/d>.5&&this.j+this.i>=d&&d>4096){let l=this.i;for(let a=0;a<l;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=h}else this.q[this.j+this.i]=h;return++this.i}pop(){if(this.i===0)return;let h=this.q[this.j++];return this.i-=1,h}front(){if(this.i!==0)return this.q[this.j]}}var p=u;o.default=p},{"../ContainerBase":25}],31:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../ContainerBase");class u extends s.Base{constructor(h=[]){super(),this.S=[];let d=this;h.forEach(function(l){d.push(l)})}clear(){this.i=0,this.S=[]}push(h){return this.S.push(h),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}}var p=u;o.default=p},{"../ContainerBase":25}],32:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.RandomIterator=void 0;var s=n("../../ContainerBase"),u=n("../../../utils/throwError");class p extends s.ContainerIterator{constructor(h,d){super(d),this.o=h,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,u.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,u.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,u.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,u.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(h){this.container.setElementByPos(this.o,h)}}o.RandomIterator=p},{"../../../utils/throwError":44,"../../ContainerBase":25}],33:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../../ContainerBase");class u extends s.Container{}var p=u;o.default=p},{"../../ContainerBase":25}],34:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=p(n("./Base")),u=n("./Base/RandomIterator");function p(l){return l&&l.t?l:{default:l}}class f extends u.RandomIterator{constructor(a,c,g){super(a,g),this.container=c}copy(){return new f(this.o,this.container,this.iteratorType)}}class h extends s.default{constructor(a=[],c=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let g=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=c,this.P=Math.max(Math.ceil(g/this.F),1);for(let D=0;D<this.P;++D)this.A.push(new Array(this.F));let w=Math.ceil(g/this.F);this.j=this.R=(this.P>>1)-(w>>1),this.D=this.N=this.F-g%this.F>>1;let b=this;a.forEach(function(D){b.pushBack(D)})}T(){let a=[],c=Math.max(this.P>>1,1);for(let g=0;g<c;++g)a[g]=new Array(this.F);for(let g=this.j;g<this.P;++g)a[a.length]=this.A[g];for(let g=0;g<this.R;++g)a[a.length]=this.A[g];a[a.length]=[...this.A[this.R]],this.j=c,this.R=a.length-1;for(let g=0;g<c;++g)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let c=this.D+a+1,g=c%this.F,w=g-1,b=this.j+(c-g)/this.F;return g===0&&(b-=1),b%=this.P,w<0&&(w+=this.F),{curNodeBucketIndex:b,curNodePointerIndex:w}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:c,curNodePointerIndex:g}=this.O(a);return this.A[c][g]}setElementByPos(a,c){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:g,curNodePointerIndex:w}=this.O(a);this.A[g][w]=c}insert(a,c,g=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;g--;)this.pushFront(c);else if(a===this.i)for(;g--;)this.pushBack(c);else{let w=[];for(let b=a;b<this.i;++b)w.push(this.getElementByPos(b));this.cut(a-1);for(let b=0;b<g;++b)this.pushBack(c);for(let b=0;b<w.length;++b)this.pushBack(w[b])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:c,curNodePointerIndex:g}=this.O(a);return this.R=c,this.N=g,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let c=[];for(let w=a+1;w<this.i;++w)c.push(this.getElementByPos(w));this.cut(a),this.popBack();let g=this;c.forEach(function(w){g.pushBack(w)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let c=[];for(let w=0;w<this.i;++w){let b=this.getElementByPos(w);b!==a&&c.push(b)}let g=c.length;for(let w=0;w<g;++w)this.setElementByPos(w,c[w]);return this.cut(g-1)}eraseElementByIterator(a){let c=a.o;return this.eraseElementByPos(c),a=a.next(),a}find(a){for(let c=0;c<this.i;++c)if(this.getElementByPos(c)===a)return new f(c,this);return this.end()}reverse(){let a=0,c=this.i-1;for(;a<c;){let g=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(c)),this.setElementByPos(c,g),a+=1,c-=1}}unique(){if(this.i<=1)return this.i;let a=1,c=this.getElementByPos(0);for(let g=1;g<this.i;++g){let w=this.getElementByPos(g);w!==c&&(c=w,this.setElementByPos(a++,w))}for(;this.i>a;)this.popBack();return this.i}sort(a){let c=[];for(let g=0;g<this.i;++g)c.push(this.getElementByPos(g));c.sort(a);for(let g=0;g<this.i;++g)this.setElementByPos(g,c[g])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(c){a.push(c)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let c=0;c<this.P;++c)this.A.push(new Array(this.F));for(let c=0;c<a.length;++c)this.pushBack(a[c])}forEach(a){for(let c=0;c<this.i;++c)a(this.getElementByPos(c),c,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}}var d=h;o.default=d},{"./Base":33,"./Base/RandomIterator":32}],35:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=f(n("./Base")),u=n("../ContainerBase"),p=n("../../utils/throwError");function f(a){return a&&a.t?a:{default:a}}class h extends u.ContainerIterator{constructor(c,g,w,b){super(b),this.o=c,this.h=g,this.container=w,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l}set pointer(c){this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.l=c}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class d extends s.default{constructor(c=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let g=this;c.forEach(function(w){g.pushBack(w)})}V(c){let{L:g,B:w}=c;g.B=w,w.L=g,c===this.p&&(this.p=w),c===this._&&(this._=g),this.i-=1}G(c,g){let w=g.B,b={l:c,L:g,B:w};g.B=b,w.L=b,g===this.h&&(this.p=b),w===this.h&&(this._=b),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let g=this.p;for(;c--;)g=g.B;return g.l}eraseElementByPos(c){if(c<0||c>this.i-1)throw new RangeError;let g=this.p;for(;c--;)g=g.B;return this.V(g),this.i}eraseElementByValue(c){let g=this.p;for(;g!==this.h;)g.l===c&&this.V(g),g=g.B;return this.i}eraseElementByIterator(c){let g=c.o;return g===this.h&&(0,p.throwIteratorAccessError)(),c=c.next(),this.V(g),c}pushBack(c){return this.G(c,this._),this.i}popBack(){if(this.i===0)return;let c=this._.l;return this.V(this._),c}pushFront(c){return this.G(c,this.h),this.i}popFront(){if(this.i===0)return;let c=this.p.l;return this.V(this.p),c}setElementByPos(c,g){if(c<0||c>this.i-1)throw new RangeError;let w=this.p;for(;c--;)w=w.B;w.l=g}insert(c,g,w=1){if(c<0||c>this.i)throw new RangeError;if(w<=0)return this.i;if(c===0)for(;w--;)this.pushFront(g);else if(c===this.i)for(;w--;)this.pushBack(g);else{let b=this.p;for(let I=1;I<c;++I)b=b.B;let D=b.B;for(this.i+=w;w--;)b.B={l:g,L:b},b.B.L=b,b=b.B;b.B=D,D.L=b}return this.i}find(c){let g=this.p;for(;g!==this.h;){if(g.l===c)return new h(g,this.h,this);g=g.B}return this.end()}reverse(){if(this.i<=1)return;let c=this.p,g=this._,w=0;for(;w<<1<this.i;){let b=c.l;c.l=g.l,g.l=b,c=c.B,g=g.L,w+=1}}unique(){if(this.i<=1)return this.i;let c=this.p;for(;c!==this.h;){let g=c;for(;g.B!==this.h&&g.l===g.B.l;)g=g.B,this.i-=1;c.B=g.B,c.B.L=c,c=c.B}return this.i}sort(c){if(this.i<=1)return;let g=[];this.forEach(function(b){g.push(b)}),g.sort(c);let w=this.p;g.forEach(function(b){w.l=b,w=w.B})}merge(c){let g=this;if(this.i===0)c.forEach(function(w){g.pushBack(w)});else{let w=this.p;c.forEach(function(b){for(;w!==g.h&&w.l<=b;)w=w.B;g.G(b,w.L)})}return this.i}forEach(c){let g=this.p,w=0;for(;g!==this.h;)c(g.l,w++,this),g=g.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let c=this.p;for(;c!==this.h;)yield c.l,c=c.B}).bind(this)()}}var l=d;o.default=l},{"../../utils/throwError":44,"../ContainerBase":25,"./Base":33}],36:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=p(n("./Base")),u=n("./Base/RandomIterator");function p(l){return l&&l.t?l:{default:l}}class f extends u.RandomIterator{constructor(a,c,g){super(a,g),this.container=c}copy(){return new f(this.o,this.container,this.iteratorType)}}class h extends s.default{constructor(a=[],c=!0){if(super(),Array.isArray(a))this.J=c?[...a]:a,this.i=a.length;else{this.J=[];let g=this;a.forEach(function(w){g.pushBack(w)})}}clear(){this.i=0,this.J.length=0}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let c=0;for(let g=0;g<this.i;++g)this.J[g]!==a&&(this.J[c++]=this.J[g]);return this.i=this.J.length=c,this.i}eraseElementByIterator(a){let c=a.o;return a=a.next(),this.eraseElementByPos(c),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,c){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=c}insert(a,c,g=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(g).fill(c)),this.i+=g,this.i}find(a){for(let c=0;c<this.i;++c)if(this.J[c]===a)return new f(c,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let c=1;c<this.i;++c)this.J[c]!==this.J[c-1]&&(this.J[a++]=this.J[c]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let c=0;c<this.i;++c)a(this.J[c],c,this)}[Symbol.iterator](){return(function*(){yield*En(this.J)}).bind(this)()}}var d=h;o.default=d},{"./Base":33,"./Base/RandomIterator":32}],37:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("../../ContainerBase"),u=n("../../../utils/throwError");class p extends s.ContainerIterator{constructor(d,l,a){super(a),this.o=d,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,u.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,u.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,u.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,u.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let d=this.o,l=this.h.tt;if(d===this.h)return l?l.rt-1:0;let a=0;for(d.U&&(a+=d.U.rt);d!==l;){let c=d.tt;d===c.W&&(a+=1,c.U&&(a+=c.U.rt)),d=c}return a}}var f=p;o.default=f},{"../../../utils/throwError":44,"../../ContainerBase":25}],38:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.TreeNodeEnableIndex=o.TreeNode=void 0;class s{constructor(f,h){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=f,this.l=h}L(){let f=this;if(f.ee===1&&f.tt.tt===f)f=f.W;else if(f.U)for(f=f.U;f.W;)f=f.W;else{let h=f.tt;for(;h.U===f;)f=h,h=f.tt;f=h}return f}B(){let f=this;if(f.W){for(f=f.W;f.U;)f=f.U;return f}else{let h=f.tt;for(;h.W===f;)f=h,h=f.tt;return f.W!==h?h:f}}te(){let f=this.tt,h=this.W,d=h.U;return f.tt===this?f.tt=h:f.U===this?f.U=h:f.W=h,h.tt=f,h.U=this,this.tt=h,this.W=d,d&&(d.tt=this),h}se(){let f=this.tt,h=this.U,d=h.W;return f.tt===this?f.tt=h:f.U===this?f.U=h:f.W=h,h.tt=f,h.W=this,this.tt=h,this.U=d,d&&(d.tt=this),h}}o.TreeNode=s;class u extends s{constructor(){super(...arguments),this.rt=1}te(){let f=super.te();return this.ie(),f.ie(),f}se(){let f=super.se();return this.ie(),f.ie(),f}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}o.TreeNodeEnableIndex=u},{}],39:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=n("./TreeNode"),u=n("../../ContainerBase"),p=n("../../../utils/throwError");class f extends u.Container{constructor(l=function(c,g){return c<g?-1:c>g?1:0},a=!1){super(),this.Y=void 0,this.v=l,a?(this.re=s.TreeNodeEnableIndex,this.M=function(c,g,w){let b=this.ne(c,g,w);if(b){let D=b.tt;for(;D!==this.h;)D.rt+=1,D=D.tt;let I=this.he(b);if(I){let{parentNode:E,grandParent:S,curNode:R}=I;E.ie(),S.ie(),R.ie()}}return this.i},this.V=function(c){let g=this.fe(c);for(;g!==this.h;)g.rt-=1,g=g.tt}):(this.re=s.TreeNode,this.M=function(c,g,w){let b=this.ne(c,g,w);return b&&this.he(b),this.i},this.V=this.fe),this.h=new this.re}X(l,a){let c=this.h;for(;l;){let g=this.v(l.u,a);if(g<0)l=l.W;else if(g>0)c=l,l=l.U;else return l}return c}Z(l,a){let c=this.h;for(;l;)this.v(l.u,a)<=0?l=l.W:(c=l,l=l.U);return c}$(l,a){let c=this.h;for(;l;){let g=this.v(l.u,a);if(g<0)c=l,l=l.W;else if(g>0)l=l.U;else return l}return c}rr(l,a){let c=this.h;for(;l;)this.v(l.u,a)<0?(c=l,l=l.W):l=l.U;return c}ue(l){for(;;){let a=l.tt;if(a===this.h)return;if(l.ee===1){l.ee=0;return}if(l===a.U){let c=a.W;if(c.ee===1)c.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(c.W&&c.W.ee===1){c.ee=a.ee,a.ee=0,c.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else c.U&&c.U.ee===1?(c.ee=1,c.U.ee=0,c.se()):(c.ee=1,l=a)}else{let c=a.U;if(c.ee===1)c.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(c.U&&c.U.ee===1){c.ee=a.ee,a.ee=0,c.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else c.W&&c.W.ee===1?(c.ee=1,c.W.ee=0,c.te()):(c.ee=1,l=a)}}}fe(l){if(this.i===1)return this.clear(),this.h;let a=l;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[l.u,a.u]=[a.u,l.u],[l.l,a.l]=[a.l,l.l],l=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let c=a.tt;return a===c.U?c.U=void 0:c.W=void 0,this.i-=1,this.Y.ee=0,c}oe(l,a){return l===void 0?!1:this.oe(l.U,a)||a(l)?!0:this.oe(l.W,a)}he(l){for(;;){let a=l.tt;if(a.ee===0)return;let c=a.tt;if(a===c.U){let g=c.W;if(g&&g.ee===1){if(g.ee=a.ee=0,c===this.Y)return;c.ee=1,l=c;continue}else if(l===a.W){if(l.ee=0,l.U&&(l.U.tt=a),l.W&&(l.W.tt=c),a.W=l.U,c.U=l.W,l.U=a,l.W=c,c===this.Y)this.Y=l,this.h.tt=l;else{let w=c.tt;w.U===c?w.U=l:w.W=l}return l.tt=c.tt,a.tt=l,c.tt=l,c.ee=1,{parentNode:a,grandParent:c,curNode:l}}else a.ee=0,c===this.Y?this.Y=c.se():c.se(),c.ee=1}else{let g=c.U;if(g&&g.ee===1){if(g.ee=a.ee=0,c===this.Y)return;c.ee=1,l=c;continue}else if(l===a.U){if(l.ee=0,l.U&&(l.U.tt=c),l.W&&(l.W.tt=a),c.W=l.U,a.U=l.W,l.U=c,l.W=a,c===this.Y)this.Y=l,this.h.tt=l;else{let w=c.tt;w.U===c?w.U=l:w.W=l}return l.tt=c.tt,a.tt=l,c.tt=l,c.ee=1,{parentNode:a,grandParent:c,curNode:l}}else a.ee=0,c===this.Y?this.Y=c.te():c.te(),c.ee=1}return}}ne(l,a,c){if(this.Y===void 0){this.i+=1,this.Y=new this.re(l,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let g,w=this.h.U,b=this.v(w.u,l);if(b===0){w.l=a;return}else if(b>0)w.U=new this.re(l,a),w.U.tt=w,g=w.U,this.h.U=g;else{let D=this.h.W,I=this.v(D.u,l);if(I===0){D.l=a;return}else if(I<0)D.W=new this.re(l,a),D.W.tt=D,g=D.W,this.h.W=g;else{if(c!==void 0){let E=c.o;if(E!==this.h){let S=this.v(E.u,l);if(S===0){E.l=a;return}else if(S>0){let R=E.L(),N=this.v(R.u,l);if(N===0){R.l=a;return}else N<0&&(g=new this.re(l,a),R.W===void 0?(R.W=g,g.tt=R):(E.U=g,g.tt=E))}}}if(g===void 0)for(g=this.Y;;){let E=this.v(g.u,l);if(E>0){if(g.U===void 0){g.U=new this.re(l,a),g.U.tt=g,g=g.U;break}g=g.U}else if(E<0){if(g.W===void 0){g.W=new this.re(l,a),g.W.tt=g,g=g.W;break}g=g.W}else{g.l=a;return}}}}return this.i+=1,g}I(l,a){for(;l;){let c=this.v(l.u,a);if(c<0)l=l.W;else if(c>0)l=l.U;else return l}return l||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(l,a){let c=l.o;if(c===this.h&&(0,p.throwIteratorAccessError)(),this.i===1)return c.u=a,!0;if(c===this.h.U)return this.v(c.B().u,a)>0?(c.u=a,!0):!1;if(c===this.h.W)return this.v(c.L().u,a)<0?(c.u=a,!0):!1;let g=c.L().u;if(this.v(g,a)>=0)return!1;let w=c.B().u;return this.v(w,a)<=0?!1:(c.u=a,!0)}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let a=0,c=this;return this.oe(this.Y,function(g){return l===a?(c.V(g),!0):(a+=1,!1)}),this.i}eraseElementByKey(l){if(this.i===0)return!1;let a=this.I(this.Y,l);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(l){let a=l.o;a===this.h&&(0,p.throwIteratorAccessError)();let c=a.W===void 0;return l.iteratorType===0?c&&l.next():(!c||a.U===void 0)&&l.next(),this.V(a),l}forEach(l){let a=0;for(let c of this)l(c,a++,this)}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let a,c=0;for(let g of this){if(c===l){a=g;break}c+=1}return a}getHeight(){if(this.i===0)return 0;let l=function(a){return a?Math.max(l(a.U),l(a.W))+1:0};return l(this.Y)}}var h=f;o.default=h},{"../../../utils/throwError":44,"../../ContainerBase":25,"./TreeNode":38}],40:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=f(n("./Base")),u=f(n("./Base/TreeIterator")),p=n("../../utils/throwError");function f(a){return a&&a.t?a:{default:a}}class h extends u.default{constructor(c,g,w,b){super(c,g,b),this.container=w}get pointer(){this.o===this.h&&(0,p.throwIteratorAccessError)();let c=this;return new Proxy([],{get(g,w){if(w==="0")return c.o.u;if(w==="1")return c.o.l},set(g,w,b){if(w!=="1")throw new TypeError("props must be 1");return c.o.l=b,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class d extends s.default{constructor(c=[],g,w){super(g,w);let b=this;c.forEach(function(D){b.setElement(D[0],D[1])})}*K(c){c!==void 0&&(yield*En(this.K(c.U)),yield[c.u,c.l],yield*En(this.K(c.W)))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i===0)return;let c=this.h.U;return[c.u,c.l]}back(){if(this.i===0)return;let c=this.h.W;return[c.u,c.l]}lowerBound(c){let g=this.X(this.Y,c);return new h(g,this.h,this)}upperBound(c){let g=this.Z(this.Y,c);return new h(g,this.h,this)}reverseLowerBound(c){let g=this.$(this.Y,c);return new h(g,this.h,this)}reverseUpperBound(c){let g=this.rr(this.Y,c);return new h(g,this.h,this)}setElement(c,g,w){return this.M(c,g,w)}find(c){let g=this.I(this.Y,c);return new h(g,this.h,this)}getElementByKey(c){return this.I(this.Y,c).l}union(c){let g=this;return c.forEach(function(w){g.setElement(w[0],w[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var l=d;o.default=l},{"../../utils/throwError":44,"./Base":39,"./Base/TreeIterator":37}],41:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=void 0;var s=f(n("./Base")),u=f(n("./Base/TreeIterator")),p=n("../../utils/throwError");function f(a){return a&&a.t?a:{default:a}}class h extends u.default{constructor(c,g,w,b){super(c,g,b),this.container=w}get pointer(){return this.o===this.h&&(0,p.throwIteratorAccessError)(),this.o.u}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class d extends s.default{constructor(c=[],g,w){super(g,w);let b=this;c.forEach(function(D){b.insert(D)})}*K(c){c!==void 0&&(yield*En(this.K(c.U)),yield c.u,yield*En(this.K(c.W)))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(c,g){return this.M(c,void 0,g)}find(c){let g=this.I(this.Y,c);return new h(g,this.h,this)}lowerBound(c){let g=this.X(this.Y,c);return new h(g,this.h,this)}upperBound(c){let g=this.Z(this.Y,c);return new h(g,this.h,this)}reverseLowerBound(c){let g=this.$(this.Y,c);return new h(g,this.h,this)}reverseUpperBound(c){let g=this.rr(this.Y,c);return new h(g,this.h,this)}union(c){let g=this;return c.forEach(function(w){g.insert(w)}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var l=d;o.default=l},{"../../utils/throwError":44,"./Base":39,"./Base/TreeIterator":37}],42:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),Object.defineProperty(o,"Deque",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(o,"HashMap",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(o,"HashSet",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(o,"LinkList",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(o,"OrderedMap",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(o,"OrderedSet",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(o,"PriorityQueue",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(o,"Queue",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(o,"Stack",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(o,"Vector",{enumerable:!0,get:function(){return f.default}});var s=w(n("./container/OtherContainer/Stack")),u=w(n("./container/OtherContainer/Queue")),p=w(n("./container/OtherContainer/PriorityQueue")),f=w(n("./container/SequentialContainer/Vector")),h=w(n("./container/SequentialContainer/LinkList")),d=w(n("./container/SequentialContainer/Deque")),l=w(n("./container/TreeContainer/OrderedSet")),a=w(n("./container/TreeContainer/OrderedMap")),c=w(n("./container/HashContainer/HashSet")),g=w(n("./container/HashContainer/HashMap"));function w(b){return b&&b.t?b:{default:b}}},{"./container/HashContainer/HashMap":27,"./container/HashContainer/HashSet":28,"./container/OtherContainer/PriorityQueue":29,"./container/OtherContainer/Queue":30,"./container/OtherContainer/Stack":31,"./container/SequentialContainer/Deque":34,"./container/SequentialContainer/LinkList":35,"./container/SequentialContainer/Vector":36,"./container/TreeContainer/OrderedMap":40,"./container/TreeContainer/OrderedSet":41}],43:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.default=s;function s(u){let p=typeof u;return p==="object"&&u!==null||p==="function"}},{}],44:[function(n,i,o){"use strict";Object.defineProperty(o,"t",{value:!0}),o.throwIteratorAccessError=s;function s(){throw new RangeError("Iterator access denied!")}},{}],45:[function(n,i,o){"use strict";let s=n("yallist"),u=Symbol("max"),p=Symbol("length"),f=Symbol("lengthCalculator"),h=Symbol("allowStale"),d=Symbol("maxAge"),l=Symbol("dispose"),a=Symbol("noDisposeOnSet"),c=Symbol("lruList"),g=Symbol("cache"),w=Symbol("updateAgeOnGet"),b=()=>1;class D{constructor(T){if(typeof T=="number"&&(T={max:T}),T||(T={}),T.max&&(typeof T.max!="number"||T.max<0))throw new TypeError("max must be a non-negative number");let P=this[u]=T.max||1/0,x=T.length||b;if(this[f]=typeof x!="function"?b:x,this[h]=T.stale||!1,T.maxAge&&typeof T.maxAge!="number")throw new TypeError("maxAge must be a number");this[d]=T.maxAge||0,this[l]=T.dispose,this[a]=T.noDisposeOnSet||!1,this[w]=T.updateAgeOnGet||!1,this.reset()}set max(T){if(typeof T!="number"||T<0)throw new TypeError("max must be a non-negative number");this[u]=T||1/0,S(this)}get max(){return this[u]}set allowStale(T){this[h]=!!T}get allowStale(){return this[h]}set maxAge(T){if(typeof T!="number")throw new TypeError("maxAge must be a non-negative number");this[d]=T,S(this)}get maxAge(){return this[d]}set lengthCalculator(T){typeof T!="function"&&(T=b),T!==this[f]&&(this[f]=T,this[p]=0,this[c].forEach(P=>{P.length=this[f](P.value,P.key),this[p]+=P.length})),S(this)}get lengthCalculator(){return this[f]}get length(){return this[p]}get itemCount(){return this[c].length}rforEach(T,P){P=P||this;for(let x=this[c].tail;x!==null;){let q=x.prev;H(this,T,x,P),x=q}}forEach(T,P){P=P||this;for(let x=this[c].head;x!==null;){let q=x.next;H(this,T,x,P),x=q}}keys(){return this[c].toArray().map(T=>T.key)}values(){return this[c].toArray().map(T=>T.value)}reset(){this[l]&&this[c]&&this[c].length&&this[c].forEach(T=>this[l](T.key,T.value)),this[g]=new Map,this[c]=new s,this[p]=0}dump(){return this[c].map(T=>E(this,T)?!1:{k:T.key,v:T.value,e:T.now+(T.maxAge||0)}).toArray().filter(T=>T)}dumpLru(){return this[c]}set(T,P,x){if(x=x||this[d],x&&typeof x!="number")throw new TypeError("maxAge must be a number");let q=x?Date.now():0,L=this[f](P,T);if(this[g].has(T)){if(L>this[u])return R(this,this[g].get(T)),!1;let se=this[g].get(T).value;return this[l]&&(this[a]||this[l](T,se.value)),se.now=q,se.maxAge=x,se.value=P,this[p]+=L-se.length,se.length=L,this.get(T),S(this),!0}let ae=new N(T,P,L,q,x);return ae.length>this[u]?(this[l]&&this[l](T,P),!1):(this[p]+=ae.length,this[c].unshift(ae),this[g].set(T,this[c].head),S(this),!0)}has(T){if(!this[g].has(T))return!1;let P=this[g].get(T).value;return!E(this,P)}get(T){return I(this,T,!0)}peek(T){return I(this,T,!1)}pop(){let T=this[c].tail;return T?(R(this,T),T.value):null}del(T){R(this,this[g].get(T))}load(T){this.reset();let P=Date.now();for(let x=T.length-1;x>=0;x--){let q=T[x],L=q.e||0;if(L===0)this.set(q.k,q.v);else{let ae=L-P;ae>0&&this.set(q.k,q.v,ae)}}}prune(){this[g].forEach((T,P)=>I(this,P,!1))}}let I=($,T,P)=>{let x=$[g].get(T);if(x){let q=x.value;if(E($,q)){if(R($,x),!$[h])return}else P&&($[w]&&(x.value.now=Date.now()),$[c].unshiftNode(x));return q.value}},E=($,T)=>{if(!T||!T.maxAge&&!$[d])return!1;let P=Date.now()-T.now;return T.maxAge?P>T.maxAge:$[d]&&P>$[d]},S=$=>{if($[p]>$[u])for(let T=$[c].tail;$[p]>$[u]&&T!==null;){let P=T.prev;R($,T),T=P}},R=($,T)=>{if(T){let P=T.value;$[l]&&$[l](P.key,P.value),$[p]-=P.length,$[g].delete(P.key),$[c].removeNode(T)}};class N{constructor(T,P,x,q,L){this.key=T,this.value=P,this.length=x,this.now=q,this.maxAge=L||0}}let H=($,T,P,x)=>{let q=P.value;E($,q)&&(R($,P),$[h]||(q=void 0)),q&&T.call(x,q.value,q.key,$)};i.exports=D},{yallist:84}],46:[function(n,i,o){(function(s){(function(){let u=i.exports;u.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},u.codes={};for(let f in u.types){let h=u.types[f];u.codes[h]=f}u.CMD_SHIFT=4,u.CMD_MASK=240,u.DUP_MASK=8,u.QOS_MASK=3,u.QOS_SHIFT=1,u.RETAIN_MASK=1,u.VARBYTEINT_MASK=127,u.VARBYTEINT_FIN_MASK=128,u.VARBYTEINT_MAX=268435455,u.SESSIONPRESENT_MASK=1,u.SESSIONPRESENT_HEADER=s.from([u.SESSIONPRESENT_MASK]),u.CONNACK_HEADER=s.from([u.codes.connack<<u.CMD_SHIFT]),u.USERNAME_MASK=128,u.PASSWORD_MASK=64,u.WILL_RETAIN_MASK=32,u.WILL_QOS_MASK=24,u.WILL_QOS_SHIFT=3,u.WILL_FLAG_MASK=4,u.CLEAN_SESSION_MASK=2,u.CONNECT_HEADER=s.from([u.codes.connect<<u.CMD_SHIFT]),u.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},u.propertiesCodes={};for(let f in u.properties){let h=u.properties[f];u.propertiesCodes[h]=f}u.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function p(f){return[0,1,2].map(h=>[0,1].map(d=>[0,1].map(l=>{let a=s.alloc(1);return a.writeUInt8(u.codes[f]<<u.CMD_SHIFT|(d?u.DUP_MASK:0)|h<<u.QOS_SHIFT|l,0,!0),a})))}u.PUBLISH_HEADER=p("publish"),u.SUBSCRIBE_HEADER=p("subscribe"),u.SUBSCRIBE_OPTIONS_QOS_MASK=3,u.SUBSCRIBE_OPTIONS_NL_MASK=1,u.SUBSCRIBE_OPTIONS_NL_SHIFT=2,u.SUBSCRIBE_OPTIONS_RAP_MASK=1,u.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,u.SUBSCRIBE_OPTIONS_RH_MASK=3,u.SUBSCRIBE_OPTIONS_RH_SHIFT=4,u.SUBSCRIBE_OPTIONS_RH=[0,16,32],u.SUBSCRIBE_OPTIONS_NL=4,u.SUBSCRIBE_OPTIONS_RAP=8,u.SUBSCRIBE_OPTIONS_QOS=[0,1,2],u.UNSUBSCRIBE_HEADER=p("unsubscribe"),u.ACKS={unsuback:p("unsuback"),puback:p("puback"),pubcomp:p("pubcomp"),pubrel:p("pubrel"),pubrec:p("pubrec")},u.SUBACK_HEADER=s.from([u.codes.suback<<u.CMD_SHIFT]),u.VERSION3=s.from([3]),u.VERSION4=s.from([4]),u.VERSION5=s.from([5]),u.VERSION131=s.from([131]),u.VERSION132=s.from([132]),u.QOS=[0,1,2].map(f=>s.from([f])),u.EMPTY={pingreq:s.from([u.codes.pingreq<<4,0]),pingresp:s.from([u.codes.pingresp<<4,0]),disconnect:s.from([u.codes.disconnect<<4,0])}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:3}],47:[function(n,i,o){(function(s){(function(){let u=n("./writeToStream"),p=n("events");function f(d,l){let a=new h;return u(d,a,l),a.concat()}class h extends p{constructor(){super(),this._array=new Array(20),this._i=0}write(l){return this._array[this._i++]=l,!0}concat(){let l=0,a=new Array(this._array.length),c=this._array,g=0,w;for(w=0;w<c.length&&c[w]!==void 0;w++)typeof c[w]!="string"?a[w]=c[w].length:a[w]=s.byteLength(c[w]),l+=a[w];let b=s.allocUnsafe(l);for(w=0;w<c.length&&c[w]!==void 0;w++)typeof c[w]!="string"?(c[w].copy(b,g),g+=a[w]):(b.write(c[w],g),g+=a[w]);return b}}i.exports=f}).call(this)}).call(this,n("buffer").Buffer)},{"./writeToStream":52,buffer:3,events:4}],48:[function(n,i,o){o.parser=n("./parser").parser,o.generate=n("./generate"),o.writeToStream=n("./writeToStream")},{"./generate":47,"./parser":51,"./writeToStream":52}],49:[function(n,i,o){(function(s){(function(){let p={},f=s.isBuffer(s.from([1,2]).subarray(0,1));function h(c){let g=s.allocUnsafe(2);return g.writeUInt8(c>>8,0),g.writeUInt8(c&255,1),g}function d(){for(let c=0;c<65536;c++)p[c]=h(c)}function l(c){let w=0,b=0,D=s.allocUnsafe(4);do w=c%128|0,c=c/128|0,c>0&&(w=w|128),D.writeUInt8(w,b++);while(c>0&&b<4);return c>0&&(b=0),f?D.subarray(0,b):D.slice(0,b)}function a(c){let g=s.allocUnsafe(4);return g.writeUInt32BE(c,0),g}i.exports={cache:p,generateCache:d,generateNumber:h,genBufVariableByteInt:l,generate4ByteBuffer:a}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:3}],50:[function(n,i,o){class s{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}i.exports=s},{}],51:[function(n,i,o){let s=n("bl"),u=n("events"),p=n("./packet"),f=n("./constants"),h=n("debug")("mqtt-packet:parser");class d extends u{constructor(){super(),this.parser=this.constructor.parser}static parser(a){return this instanceof d?(this.settings=a||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new d().parser(a)}_resetState(){h("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new p,this.error=null,this._list=s(),this._stateCounter=0}parse(a){for(this.error&&this._resetState(),this._list.append(a),h("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,h("parse: state complete. _stateCounter is now: %d",this._stateCounter),h("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return h("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let a=this._list.readUInt8(0);return this.packet.cmd=f.types[a>>f.CMD_SHIFT],this.packet.retain=(a&f.RETAIN_MASK)!==0,this.packet.qos=a>>f.QOS_SHIFT&f.QOS_MASK,this.packet.dup=(a&f.DUP_MASK)!==0,h("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){let a=this._parseVarByteNum(!0);return a&&(this.packet.length=a.value,this._list.consume(a.bytes)),h("_parseLength %d",a.value),!!a}_parsePayload(){h("_parsePayload: payload %O",this._list);let a=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}a=!0}return h("_parsePayload complete result: %s",a),a}_parseConnect(){h("_parseConnect");let a,c,g,w,b={},D=this.packet,I=this._parseString();if(I===null)return this._emitError(new Error("Cannot parse protocolId"));if(I!=="MQTT"&&I!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(D.protocolId=I,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(D.protocolVersion=this._list.readUInt8(this._pos),D.protocolVersion>=128&&(D.bridgeMode=!0,D.protocolVersion=D.protocolVersion-128),D.protocolVersion!==3&&D.protocolVersion!==4&&D.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(b.username=this._list.readUInt8(this._pos)&f.USERNAME_MASK,b.password=this._list.readUInt8(this._pos)&f.PASSWORD_MASK,b.will=this._list.readUInt8(this._pos)&f.WILL_FLAG_MASK,b.will&&(D.will={},D.will.retain=(this._list.readUInt8(this._pos)&f.WILL_RETAIN_MASK)!==0,D.will.qos=(this._list.readUInt8(this._pos)&f.WILL_QOS_MASK)>>f.WILL_QOS_SHIFT),D.clean=(this._list.readUInt8(this._pos)&f.CLEAN_SESSION_MASK)!==0,this._pos++,D.keepalive=this._parseNum(),D.keepalive===-1)return this._emitError(new Error("Packet too short"));if(D.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(D.properties=S)}let E=this._parseString();if(E===null)return this._emitError(new Error("Packet too short"));if(D.clientId=E,h("_parseConnect: packet.clientId: %s",D.clientId),b.will){if(D.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(D.will.properties=S)}if(a=this._parseString(),a===null)return this._emitError(new Error("Cannot parse will topic"));if(D.will.topic=a,h("_parseConnect: packet.will.topic: %s",D.will.topic),c=this._parseBuffer(),c===null)return this._emitError(new Error("Cannot parse will payload"));D.will.payload=c,h("_parseConnect: packet.will.paylaod: %s",D.will.payload)}if(b.username){if(w=this._parseString(),w===null)return this._emitError(new Error("Cannot parse username"));D.username=w,h("_parseConnect: packet.username: %s",D.username)}if(b.password){if(g=this._parseBuffer(),g===null)return this._emitError(new Error("Cannot parse password"));D.password=g}return this.settings=D,h("_parseConnect: complete"),D}_parseConnack(){h("_parseConnack");let a=this.packet;if(this._list.length<1)return null;if(a.sessionPresent=!!(this._list.readUInt8(this._pos++)&f.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?a.reasonCode=this._list.readUInt8(this._pos++):a.reasonCode=0;else{if(this._list.length<2)return null;a.returnCode=this._list.readUInt8(this._pos++)}if(a.returnCode===-1||a.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}h("_parseConnack: complete")}_parsePublish(){h("_parsePublish");let a=this.packet;if(a.topic=this._parseString(),a.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(a.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}a.payload=this._list.slice(this._pos,a.length),h("_parsePublish: payload from buffer list: %o",a.payload)}}_parseSubscribe(){h("_parseSubscribe");let a=this.packet,c,g,w,b,D,I,E;if(a.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(a.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(a.properties=S)}for(;this._pos<a.length;){if(c=this._parseString(),c===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=a.length)return this._emitError(new Error("Malformed Subscribe Payload"));g=this._parseByte(),w=g&f.SUBSCRIBE_OPTIONS_QOS_MASK,I=(g>>f.SUBSCRIBE_OPTIONS_NL_SHIFT&f.SUBSCRIBE_OPTIONS_NL_MASK)!==0,D=(g>>f.SUBSCRIBE_OPTIONS_RAP_SHIFT&f.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,b=g>>f.SUBSCRIBE_OPTIONS_RH_SHIFT&f.SUBSCRIBE_OPTIONS_RH_MASK,E={topic:c,qos:w},this.settings.protocolVersion===5?(E.nl=I,E.rap=D,E.rh=b):this.settings.bridgeMode&&(E.rh=0,E.rap=!0,E.nl=!0),h("_parseSubscribe: push subscription `%s` to subscription",E),a.subscriptions.push(E)}}}_parseSuback(){h("_parseSuback");let a=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){h("_parseUnsubscribe");let a=this.packet;if(a.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}for(;this._pos<a.length;){let c=this._parseString();if(c===null)return this._emitError(new Error("Cannot parse topic"));h("_parseUnsubscribe: push topic `%s` to unsubscriptions",c),a.unsubscriptions.push(c)}}}_parseUnsuback(){h("_parseUnsuback");let a=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){let c=this._parseProperties();for(Object.getOwnPropertyNames(c).length&&(a.properties=c),a.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){h("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let a=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(a.length>2?(a.reasonCode=this._parseByte(),h("_parseConfirmation: packet.reasonCode `%d`",a.reasonCode)):a.reasonCode=0,a.length>3)){let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}return!0}_parseDisconnect(){let a=this.packet;if(h("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?a.reasonCode=this._parseByte():a.reasonCode=0;let c=this._parseProperties();Object.getOwnPropertyNames(c).length&&(a.properties=c)}return h("_parseDisconnect result: true"),!0}_parseAuth(){h("_parseAuth");let a=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));a.reasonCode=this._parseByte();let c=this._parseProperties();return Object.getOwnPropertyNames(c).length&&(a.properties=c),h("_parseAuth: result: true"),!0}_parseMessageId(){let a=this.packet;return a.messageId=this._parseNum(),a.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(h("_parseMessageId: packet.messageId %d",a.messageId),!0)}_parseString(a){let c=this._parseNum(),g=c+this._pos;if(c===-1||g>this._list.length||g>this.packet.length)return null;let w=this._list.toString("utf8",this._pos,g);return this._pos+=c,h("_parseString: result: %s",w),w}_parseStringPair(){return h("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let a=this._parseNum(),c=a+this._pos;if(a===-1||c>this._list.length||c>this.packet.length)return null;let g=this._list.slice(this._pos,c);return this._pos+=a,h("_parseBuffer: result: %o",g),g}_parseNum(){if(this._list.length-this._pos<2)return-1;let a=this._list.readUInt16BE(this._pos);return this._pos+=2,h("_parseNum: result: %s",a),a}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let a=this._list.readUInt32BE(this._pos);return this._pos+=4,h("_parse4ByteNum: result: %s",a),a}_parseVarByteNum(a){h("_parseVarByteNum");let c=4,g=0,w=1,b=0,D=!1,I,E=this._pos?this._pos:0;for(;g<c&&E+g<this._list.length;){if(I=this._list.readUInt8(E+g++),b+=w*(I&f.VARBYTEINT_MASK),w*=128,!(I&f.VARBYTEINT_FIN_MASK)){D=!0;break}if(this._list.length<=g)break}return!D&&g===c&&this._list.length>=g&&this._emitError(new Error("Invalid variable byte integer")),E&&(this._pos+=g),D=D?a?{bytes:g,value:b}:b:!1,h("_parseVarByteNum: result: %o",D),D}_parseByte(){let a;return this._pos<this._list.length&&(a=this._list.readUInt8(this._pos),this._pos++),h("_parseByte: result: %o",a),a}_parseByType(a){switch(h("_parseByType: type: %s",a),a){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){h("_parseProperties");let a=this._parseVarByteNum(),g=this._pos+a,w={};for(;this._pos<g;){let b=this._parseByte();if(!b)return this._emitError(new Error("Cannot parse property code type")),!1;let D=f.propertiesCodes[b];if(!D)return this._emitError(new Error("Unknown property")),!1;if(D==="userProperties"){w[D]||(w[D]=Object.create(null));let I=this._parseByType(f.propertiesTypes[D]);if(w[D][I.name])if(Array.isArray(w[D][I.name]))w[D][I.name].push(I.value);else{let E=w[D][I.name];w[D][I.name]=[E],w[D][I.name].push(I.value)}else w[D][I.name]=I.value;continue}w[D]?Array.isArray(w[D])?w[D].push(this._parseByType(f.propertiesTypes[D])):(w[D]=[w[D]],w[D].push(this._parseByType(f.propertiesTypes[D]))):w[D]=this._parseByType(f.propertiesTypes[D])}return w}_newPacket(){return h("_newPacket"),this.packet&&(this._list.consume(this.packet.length),h("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),h("_newPacket: new packet"),this.packet=new p,this._pos=0,!0}_emitError(a){h("_emitError"),this.error=a,this.emit("error",a)}}i.exports=d},{"./constants":46,"./packet":50,bl:19,debug:20,events:4}],52:[function(n,i,o){(function(s){(function(){let u=n("./constants"),p=s.allocUnsafe(0),f=s.from([0]),h=n("./numbers"),d=n("process-nextick-args").nextTick,l=n("debug")("mqtt-packet:writeToStream"),a=h.cache,c=h.generateNumber,g=h.generateCache,w=h.genBufVariableByteInt,b=h.generate4ByteBuffer,D=U,I=!0;function E(V,F,Z){switch(l("generate called"),F.cork&&(F.cork(),d(S,F)),I&&(I=!1,g()),l("generate: packet.cmd: %s",V.cmd),V.cmd){case"connect":return R(V,F,Z);case"connack":return N(V,F,Z);case"publish":return H(V,F,Z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return $(V,F,Z);case"subscribe":return T(V,F,Z);case"suback":return P(V,F,Z);case"unsubscribe":return x(V,F,Z);case"unsuback":return q(V,F,Z);case"pingreq":case"pingresp":return L(V,F,Z);case"disconnect":return ae(V,F,Z);case"auth":return ue(V,F,Z);default:return F.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(E,"cacheNumbers",{get(){return D===U},set(V){V?((!a||Object.keys(a).length===0)&&(I=!0),D=U):(I=!1,D=G)}});function S(V){V.uncork()}function R(V,F,Z){let ie=V||{},k=ie.protocolId||"MQTT",A=ie.protocolVersion||4,j=ie.will,Y=ie.clean,K=ie.keepalive||0,C=ie.clientId||"",v=ie.username,m=ie.password,y=ie.properties;Y===void 0&&(Y=!0);let _=0;if(!k||typeof k!="string"&&!s.isBuffer(k))return F.emit("error",new Error("Invalid protocolId")),!1;if(_+=k.length+2,A!==3&&A!==4&&A!==5)return F.emit("error",new Error("Invalid protocol version")),!1;if(_+=1,(typeof C=="string"||s.isBuffer(C))&&(C||A>=4)&&(C||Y))_+=s.byteLength(C)+2;else{if(A<4)return F.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(Y*1===0)return F.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof K!="number"||K<0||K>65535||K%1!==0)return F.emit("error",new Error("Invalid keepalive")),!1;if(_+=2,_+=1,A===5){var B=z(F,y);if(!B)return!1;_+=B.length}if(j){if(typeof j!="object")return F.emit("error",new Error("Invalid will")),!1;if(!j.topic||typeof j.topic!="string")return F.emit("error",new Error("Invalid will topic")),!1;if(_+=s.byteLength(j.topic)+2,_+=2,j.payload)if(j.payload.length>=0)typeof j.payload=="string"?_+=s.byteLength(j.payload):_+=j.payload.length;else return F.emit("error",new Error("Invalid will payload")),!1;var Q={};if(A===5){if(Q=z(F,j.properties),!Q)return!1;_+=Q.length}}let ee=!1;if(v!=null)if(ne(v))ee=!0,_+=s.byteLength(v)+2;else return F.emit("error",new Error("Invalid username")),!1;if(m!=null){if(!ee)return F.emit("error",new Error("Username is required to use password")),!1;if(ne(m))_+=le(m)+2;else return F.emit("error",new Error("Invalid password")),!1}F.write(u.CONNECT_HEADER),J(F,_),re(F,k),ie.bridgeMode&&(A+=128),F.write(A===131?u.VERSION131:A===132?u.VERSION132:A===4?u.VERSION4:A===5?u.VERSION5:u.VERSION3);let de=0;return de|=v!=null?u.USERNAME_MASK:0,de|=m!=null?u.PASSWORD_MASK:0,de|=j&&j.retain?u.WILL_RETAIN_MASK:0,de|=j&&j.qos?j.qos<<u.WILL_QOS_SHIFT:0,de|=j?u.WILL_FLAG_MASK:0,de|=Y?u.CLEAN_SESSION_MASK:0,F.write(s.from([de])),D(F,K),A===5&&B.write(),re(F,C),j&&(A===5&&Q.write(),M(F,j.topic),re(F,j.payload)),v!=null&&re(F,v),m!=null&&re(F,m),!0}function N(V,F,Z){let ie=Z?Z.protocolVersion:4,k=V||{},A=ie===5?k.reasonCode:k.returnCode,j=k.properties,Y=2;if(typeof A!="number")return F.emit("error",new Error("Invalid return code")),!1;let K=null;if(ie===5){if(K=z(F,j),!K)return!1;Y+=K.length}return F.write(u.CONNACK_HEADER),J(F,Y),F.write(k.sessionPresent?u.SESSIONPRESENT_HEADER:f),F.write(s.from([A])),K?.write(),!0}function H(V,F,Z){l("publish: packet: %o",V);let ie=Z?Z.protocolVersion:4,k=V||{},A=k.qos||0,j=k.retain?u.RETAIN_MASK:0,Y=k.topic,K=k.payload||p,C=k.messageId,v=k.properties,m=0;if(typeof Y=="string")m+=s.byteLength(Y)+2;else if(s.isBuffer(Y))m+=Y.length+2;else return F.emit("error",new Error("Invalid topic")),!1;if(s.isBuffer(K)?m+=K.length:m+=s.byteLength(K),A&&typeof C!="number")return F.emit("error",new Error("Invalid messageId")),!1;A&&(m+=2);let y=null;if(ie===5){if(y=z(F,v),!y)return!1;m+=y.length}return F.write(u.PUBLISH_HEADER[A][k.dup?1:0][j?1:0]),J(F,m),D(F,le(Y)),F.write(Y),A>0&&D(F,C),y?.write(),l("publish: payload: %o",K),F.write(K)}function $(V,F,Z){let ie=Z?Z.protocolVersion:4,k=V||{},A=k.cmd||"puback",j=k.messageId,Y=k.dup&&A==="pubrel"?u.DUP_MASK:0,K=0,C=k.reasonCode,v=k.properties,m=ie===5?3:2;if(A==="pubrel"&&(K=1),typeof j!="number")return F.emit("error",new Error("Invalid messageId")),!1;let y=null;if(ie===5&&typeof v=="object"){if(y=W(F,v,Z,m),!y)return!1;m+=y.length}return F.write(u.ACKS[A][K][Y][0]),J(F,m),D(F,j),ie===5&&F.write(s.from([C])),y!==null&&y.write(),!0}function T(V,F,Z){l("subscribe: packet: ");let ie=Z?Z.protocolVersion:4,k=V||{},A=k.dup?u.DUP_MASK:0,j=k.messageId,Y=k.subscriptions,K=k.properties,C=0;if(typeof j!="number")return F.emit("error",new Error("Invalid messageId")),!1;C+=2;let v=null;if(ie===5){if(v=z(F,K),!v)return!1;C+=v.length}if(typeof Y=="object"&&Y.length)for(let y=0;y<Y.length;y+=1){let _=Y[y].topic,B=Y[y].qos;if(typeof _!="string")return F.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof B!="number")return F.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(ie===5){if(typeof(Y[y].nl||!1)!="boolean")return F.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Y[y].rap||!1)!="boolean")return F.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;let de=Y[y].rh||0;if(typeof de!="number"||de>2)return F.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}C+=s.byteLength(_)+2+1}else return F.emit("error",new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",u.SUBSCRIBE_HEADER),F.write(u.SUBSCRIBE_HEADER[1][A?1:0][0]),J(F,C),D(F,j),v!==null&&v.write();let m=!0;for(let y of Y){let _=y.topic,B=y.qos,Q=+y.nl,ee=+y.rap,de=y.rh,De;M(F,_),De=u.SUBSCRIBE_OPTIONS_QOS[B],ie===5&&(De|=Q?u.SUBSCRIBE_OPTIONS_NL:0,De|=ee?u.SUBSCRIBE_OPTIONS_RAP:0,De|=de?u.SUBSCRIBE_OPTIONS_RH[de]:0),m=F.write(s.from([De]))}return m}function P(V,F,Z){let ie=Z?Z.protocolVersion:4,k=V||{},A=k.messageId,j=k.granted,Y=k.properties,K=0;if(typeof A!="number")return F.emit("error",new Error("Invalid messageId")),!1;if(K+=2,typeof j=="object"&&j.length)for(let v=0;v<j.length;v+=1){if(typeof j[v]!="number")return F.emit("error",new Error("Invalid qos vector")),!1;K+=1}else return F.emit("error",new Error("Invalid qos vector")),!1;let C=null;if(ie===5){if(C=W(F,Y,Z,K),!C)return!1;K+=C.length}return F.write(u.SUBACK_HEADER),J(F,K),D(F,A),C!==null&&C.write(),F.write(s.from(j))}function x(V,F,Z){let ie=Z?Z.protocolVersion:4,k=V||{},A=k.messageId,j=k.dup?u.DUP_MASK:0,Y=k.unsubscriptions,K=k.properties,C=0;if(typeof A!="number")return F.emit("error",new Error("Invalid messageId")),!1;if(C+=2,typeof Y=="object"&&Y.length)for(let y=0;y<Y.length;y+=1){if(typeof Y[y]!="string")return F.emit("error",new Error("Invalid unsubscriptions")),!1;C+=s.byteLength(Y[y])+2}else return F.emit("error",new Error("Invalid unsubscriptions")),!1;let v=null;if(ie===5){if(v=z(F,K),!v)return!1;C+=v.length}F.write(u.UNSUBSCRIBE_HEADER[1][j?1:0][0]),J(F,C),D(F,A),v!==null&&v.write();let m=!0;for(let y=0;y<Y.length;y++)m=M(F,Y[y]);return m}function q(V,F,Z){let ie=Z?Z.protocolVersion:4,k=V||{},A=k.messageId,j=k.dup?u.DUP_MASK:0,Y=k.granted,K=k.properties,C=k.cmd,v=0,m=2;if(typeof A!="number")return F.emit("error",new Error("Invalid messageId")),!1;if(ie===5)if(typeof Y=="object"&&Y.length)for(let _=0;_<Y.length;_+=1){if(typeof Y[_]!="number")return F.emit("error",new Error("Invalid qos vector")),!1;m+=1}else return F.emit("error",new Error("Invalid qos vector")),!1;let y=null;if(ie===5){if(y=W(F,K,Z,m),!y)return!1;m+=y.length}return F.write(u.ACKS[C][v][j][0]),J(F,m),D(F,A),y!==null&&y.write(),ie===5&&F.write(s.from(Y)),!0}function L(V,F,Z){return F.write(u.EMPTY[V.cmd])}function ae(V,F,Z){let ie=Z?Z.protocolVersion:4,k=V||{},A=k.reasonCode,j=k.properties,Y=ie===5?1:0,K=null;if(ie===5){if(K=W(F,j,Z,Y),!K)return!1;Y+=K.length}return F.write(s.from([u.codes.disconnect<<4])),J(F,Y),ie===5&&F.write(s.from([A])),K!==null&&K.write(),!0}function ue(V,F,Z){let ie=Z?Z.protocolVersion:4,k=V||{},A=k.reasonCode,j=k.properties,Y=ie===5?1:0;ie!==5&&F.emit("error",new Error("Invalid mqtt version for auth packet"));let K=W(F,j,Z,Y);return K?(Y+=K.length,F.write(s.from([u.codes.auth<<4])),J(F,Y),F.write(s.from([A])),K!==null&&K.write(),!0):!1}let se={};function J(V,F){if(F>u.VARBYTEINT_MAX)return V.emit("error",new Error(`Invalid variable byte integer: ${F}`)),!1;let Z=se[F];return Z||(Z=w(F),F<16384&&(se[F]=Z)),l("writeVarByteInt: writing to stream: %o",Z),V.write(Z)}function M(V,F){let Z=s.byteLength(F);return D(V,Z),l("writeString: %s",F),V.write(F,"utf8")}function O(V,F,Z){M(V,F),M(V,Z)}function U(V,F){return l("writeNumberCached: number: %d",F),l("writeNumberCached: %o",a[F]),V.write(a[F])}function G(V,F){let Z=c(F);return l("writeNumberGenerated: %o",Z),V.write(Z)}function oe(V,F){let Z=b(F);return l("write4ByteNumber: %o",Z),V.write(Z)}function re(V,F){typeof F=="string"?M(V,F):F?(D(V,F.length),V.write(F)):D(V,0)}function z(V,F){if(typeof F!="object"||F.length!=null)return{length:1,write(){X(V,{},0)}};let Z=0;function ie(A,j){let Y=u.propertiesTypes[A],K=0;switch(Y){case"byte":{if(typeof j!="boolean")return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=2;break}case"int8":{if(typeof j!="number"||j<0||j>255)return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=2;break}case"binary":{if(j&&j===null)return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=1+s.byteLength(j)+2;break}case"int16":{if(typeof j!="number"||j<0||j>65535)return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=3;break}case"int32":{if(typeof j!="number"||j<0||j>4294967295)return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=5;break}case"var":{if(typeof j!="number"||j<0||j>268435455)return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=1+s.byteLength(w(j));break}case"string":{if(typeof j!="string")return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=3+s.byteLength(j.toString());break}case"pair":{if(typeof j!="object")return V.emit("error",new Error(`Invalid ${A}: ${j}`)),!1;K+=Object.getOwnPropertyNames(j).reduce((C,v)=>{let m=j[v];return Array.isArray(m)?C+=m.reduce((y,_)=>(y+=3+s.byteLength(v.toString())+2+s.byteLength(_.toString()),y),0):C+=3+s.byteLength(v.toString())+2+s.byteLength(j[v].toString()),C},0);break}default:return V.emit("error",new Error(`Invalid property ${A}: ${j}`)),!1}return K}if(F)for(let A in F){let j=0,Y=0,K=F[A];if(Array.isArray(K))for(let C=0;C<K.length;C++){if(Y=ie(A,K[C]),!Y)return!1;j+=Y}else{if(Y=ie(A,K),!Y)return!1;j=Y}if(!j)return!1;Z+=j}return{length:s.byteLength(w(Z))+Z,write(){X(V,F,Z)}}}function W(V,F,Z,ie){let k=["reasonString","userProperties"],A=Z&&Z.properties&&Z.properties.maximumPacketSize?Z.properties.maximumPacketSize:0,j=z(V,F);if(A)for(;ie+j.length>A;){let Y=k.shift();if(Y&&F[Y])delete F[Y],j=z(V,F);else return!1}return j}function te(V,F,Z){switch(u.propertiesTypes[F]){case"byte":{V.write(s.from([u.properties[F]])),V.write(s.from([+Z]));break}case"int8":{V.write(s.from([u.properties[F]])),V.write(s.from([Z]));break}case"binary":{V.write(s.from([u.properties[F]])),re(V,Z);break}case"int16":{V.write(s.from([u.properties[F]])),D(V,Z);break}case"int32":{V.write(s.from([u.properties[F]])),oe(V,Z);break}case"var":{V.write(s.from([u.properties[F]])),J(V,Z);break}case"string":{V.write(s.from([u.properties[F]])),M(V,Z);break}case"pair":{Object.getOwnPropertyNames(Z).forEach(k=>{let A=Z[k];Array.isArray(A)?A.forEach(j=>{V.write(s.from([u.properties[F]])),O(V,k.toString(),j.toString())}):(V.write(s.from([u.properties[F]])),O(V,k.toString(),A.toString()))});break}default:return V.emit("error",new Error(`Invalid property ${F} value: ${Z}`)),!1}}function X(V,F,Z){J(V,Z);for(let ie in F)if(Object.prototype.hasOwnProperty.call(F,ie)&&F[ie]!==null){let k=F[ie];if(Array.isArray(k))for(let A=0;A<k.length;A++)te(V,ie,k[A]);else te(V,ie,k)}}function le(V){return V?V instanceof s?V.length:s.byteLength(V):0}function ne(V){return typeof V=="string"||V instanceof s}i.exports=E}).call(this)}).call(this,n("buffer").Buffer)},{"./constants":46,"./numbers":49,buffer:3,debug:20,"process-nextick-args":57}],53:[function(n,i,o){var s=1e3,u=s*60,p=u*60,f=p*24,h=f*7,d=f*365.25;i.exports=function(w,b){b=b||{};var D=typeof w;if(D==="string"&&w.length>0)return l(w);if(D==="number"&&isFinite(w))return b.long?c(w):a(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function l(w){if(w=String(w),!(w.length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(w);if(b){var D=parseFloat(b[1]),I=(b[2]||"ms").toLowerCase();switch(I){case"years":case"year":case"yrs":case"yr":case"y":return D*d;case"weeks":case"week":case"w":return D*h;case"days":case"day":case"d":return D*f;case"hours":case"hour":case"hrs":case"hr":case"h":return D*p;case"minutes":case"minute":case"mins":case"min":case"m":return D*u;case"seconds":case"second":case"secs":case"sec":case"s":return D*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return D;default:return}}}}function a(w){var b=Math.abs(w);return b>=f?Math.round(w/f)+"d":b>=p?Math.round(w/p)+"h":b>=u?Math.round(w/u)+"m":b>=s?Math.round(w/s)+"s":w+"ms"}function c(w){var b=Math.abs(w);return b>=f?g(w,b,f,"day"):b>=p?g(w,b,p,"hour"):b>=u?g(w,b,u,"minute"):b>=s?g(w,b,s,"second"):w+" ms"}function g(w,b,D,I){var E=b>=D*1.5;return Math.round(w/D)+" "+I+(E?"s":"")}},{}],54:[function(n,i,o){let s=n("./lib/number-allocator.js");i.exports.NumberAllocator=s},{"./lib/number-allocator.js":55}],55:[function(n,i,o){"use strict";let s=n("js-sdsl").OrderedSet,u=n("debug")("number-allocator:trace"),p=n("debug")("number-allocator:error");function f(d,l){this.low=d,this.high=l}f.prototype.equals=function(d){return this.low===d.low&&this.high===d.high},f.prototype.compare=function(d){return this.low<d.low&&this.high<d.low?-1:d.low<this.low&&d.high<this.low?1:0};function h(d,l){if(!(this instanceof h))return new h(d,l);this.min=d,this.max=l,this.ss=new s([],(a,c)=>a.compare(c)),u("Create"),this.clear()}h.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},h.prototype.alloc=function(){if(this.ss.size()===0)return u("alloc():empty"),null;let d=this.ss.begin(),l=d.pointer.low,a=d.pointer.high,c=l;return c+1<=a?this.ss.updateKeyByIterator(d,new f(l+1,a)):this.ss.eraseElementByPos(0),u("alloc():"+c),c},h.prototype.use=function(d){let l=new f(d,d),a=this.ss.lowerBound(l);if(!a.equals(this.ss.end())){let c=a.pointer.low,g=a.pointer.high;return a.pointer.equals(l)?(this.ss.eraseElementByIterator(a),u("use():"+d),!0):c>d?!1:c===d?(this.ss.updateKeyByIterator(a,new f(c+1,g)),u("use():"+d),!0):g===d?(this.ss.updateKeyByIterator(a,new f(c,g-1)),u("use():"+d),!0):(this.ss.updateKeyByIterator(a,new f(d+1,g)),this.ss.insert(new f(c,d-1)),u("use():"+d),!0)}return u("use():failed"),!1},h.prototype.free=function(d){if(d<this.min||d>this.max){p("free():"+d+" is out of range");return}let l=new f(d,d),a=this.ss.upperBound(l);if(a.equals(this.ss.end())){if(a.equals(this.ss.begin())){this.ss.insert(l);return}a.pre();let c=a.pointer.high;a.pointer.high+1===d?this.ss.updateKeyByIterator(a,new f(c,d)):this.ss.insert(l)}else if(a.equals(this.ss.begin()))if(d+1===a.pointer.low){let c=a.pointer.high;this.ss.updateKeyByIterator(a,new f(d,c))}else this.ss.insert(l);else{let c=a.pointer.low,g=a.pointer.high;a.pre();let w=a.pointer.low;a.pointer.high+1===d?d+1===c?(this.ss.eraseElementByIterator(a),this.ss.updateKeyByIterator(a,new f(w,g))):this.ss.updateKeyByIterator(a,new f(w,d)):d+1===c?(this.ss.eraseElementByIterator(a.next()),this.ss.insert(new f(d,g))):this.ss.insert(l)}u("free():"+d)},h.prototype.clear=function(){u("clear()"),this.ss.clear(),this.ss.insert(new f(this.min,this.max))},h.prototype.intervalCount=function(){return this.ss.size()},h.prototype.dump=function(){console.log("length:"+this.ss.size());for(let d of this.ss)console.log(d)},i.exports=h},{debug:20,"js-sdsl":42}],56:[function(n,i,o){var s=n("wrappy");i.exports=s(u),i.exports.strict=s(p),u.proto=u(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return u(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return p(this)},configurable:!0})});function u(f){var h=function(){return h.called?h.value:(h.called=!0,h.value=f.apply(this,arguments))};return h.called=!1,h}function p(f){var h=function(){if(h.called)throw new Error(h.onceError);return h.called=!0,h.value=f.apply(this,arguments)},d=f.name||"Function wrapped with `once`";return h.onceError=d+" shouldn't be called more than once",h.called=!1,h}},{wrappy:80}],57:[function(n,i,o){(function(s){(function(){"use strict";typeof s>"u"||!s.version||s.version.indexOf("v0.")===0||s.version.indexOf("v1.")===0&&s.version.indexOf("v1.8.")!==0?i.exports={nextTick:u}:i.exports=s;function u(p,f,h,d){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var l=arguments.length,a,c;switch(l){case 0:case 1:return s.nextTick(p);case 2:return s.nextTick(function(){p.call(null,f)});case 3:return s.nextTick(function(){p.call(null,f,h)});case 4:return s.nextTick(function(){p.call(null,f,h,d)});default:for(a=new Array(l-1),c=0;c<a.length;)a[c++]=arguments[c];return s.nextTick(function(){p.apply(null,a)})}}}).call(this)}).call(this,n("_process"))},{_process:85}],58:[function(n,i,o){"use strict";function s(a,c){a.prototype=Object.create(c.prototype),a.prototype.constructor=a,a.__proto__=c}var u={};function p(a,c,g){g||(g=Error);function w(D,I,E){return typeof c=="string"?c:c(D,I,E)}var b=function(D){s(I,D);function I(E,S,R){return D.call(this,w(E,S,R))||this}return I}(g);b.prototype.name=g.name,b.prototype.code=a,u[a]=b}function f(a,c){if(Array.isArray(a)){var g=a.length;return a=a.map(function(w){return String(w)}),g>2?"one of ".concat(c," ").concat(a.slice(0,g-1).join(", "),", or ")+a[g-1]:g===2?"one of ".concat(c," ").concat(a[0]," or ").concat(a[1]):"of ".concat(c," ").concat(a[0])}else return"of ".concat(c," ").concat(String(a))}function h(a,c,g){return a.substr(!g||g<0?0:+g,c.length)===c}function d(a,c,g){return(g===void 0||g>a.length)&&(g=a.length),a.substring(g-c.length,g)===c}function l(a,c,g){return typeof g!="number"&&(g=0),g+c.length>a.length?!1:a.indexOf(c,g)!==-1}p("ERR_INVALID_OPT_VALUE",function(a,c){return'The value "'+c+'" is invalid for option "'+a+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(a,c,g){var w;typeof c=="string"&&h(c,"not ")?(w="must not be",c=c.replace(/^not /,"")):w="must be";var b;if(d(a," argument"))b="The ".concat(a," ").concat(w," ").concat(f(c,"type"));else{var D=l(a,".")?"property":"argument";b='The "'.concat(a,'" ').concat(D," ").concat(w," ").concat(f(c,"type"))}return b+=". Received type ".concat(typeof g),b},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),i.exports.codes=u},{}],59:[function(n,i,o){(function(s){(function(){"use strict";var u=Object.keys||function(w){var b=[];for(var D in w)b.push(D);return b};i.exports=a;var p=n("./_stream_readable"),f=n("./_stream_writable");n("inherits")(a,p);for(var h=u(f.prototype),d=0;d<h.length;d++){var l=h[d];a.prototype[l]||(a.prototype[l]=f.prototype[l])}function a(w){if(!(this instanceof a))return new a(w);p.call(this,w),f.call(this,w),this.allowHalfOpen=!0,w&&(w.readable===!1&&(this.readable=!1),w.writable===!1&&(this.writable=!1),w.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||s.nextTick(g,this)}function g(w){w.end()}Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,n("_process"))},{"./_stream_readable":61,"./_stream_writable":63,_process:85,inherits:24}],60:[function(n,i,o){"use strict";i.exports=u;var s=n("./_stream_transform");n("inherits")(u,s);function u(p){if(!(this instanceof u))return new u(p);s.call(this,p)}u.prototype._transform=function(p,f,h){h(null,p)}},{"./_stream_transform":62,inherits:24}],61:[function(n,i,o){(function(s,u){(function(){"use strict";i.exports=J;var p;J.ReadableState=se;var f=n("events").EventEmitter,h=function(v,m){return v.listeners(m).length},d=n("./internal/streams/stream"),l=n("buffer").Buffer,a=u.Uint8Array||function(){};function c(C){return l.from(C)}function g(C){return l.isBuffer(C)||C instanceof a}var w=n("util"),b;w&&w.debuglog?b=w.debuglog("stream"):b=function(){};var D=n("./internal/streams/buffer_list"),I=n("./internal/streams/destroy"),E=n("./internal/streams/state"),S=E.getHighWaterMark,R=n("../errors").codes,N=R.ERR_INVALID_ARG_TYPE,H=R.ERR_STREAM_PUSH_AFTER_EOF,$=R.ERR_METHOD_NOT_IMPLEMENTED,T=R.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,x,q;n("inherits")(J,d);var L=I.errorOrDestroy,ae=["error","close","destroy","pause","resume"];function ue(C,v,m){if(typeof C.prependListener=="function")return C.prependListener(v,m);!C._events||!C._events[v]?C.on(v,m):Array.isArray(C._events[v])?C._events[v].unshift(m):C._events[v]=[m,C._events[v]]}function se(C,v,m){p=p||n("./_stream_duplex"),C=C||{},typeof m!="boolean"&&(m=v instanceof p),this.objectMode=!!C.objectMode,m&&(this.objectMode=this.objectMode||!!C.readableObjectMode),this.highWaterMark=S(this,C,"readableHighWaterMark",m),this.buffer=new D,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=C.emitClose!==!1,this.autoDestroy=!!C.autoDestroy,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(P||(P=n("string_decoder/").StringDecoder),this.decoder=new P(C.encoding),this.encoding=C.encoding)}function J(C){if(p=p||n("./_stream_duplex"),!(this instanceof J))return new J(C);var v=this instanceof p;this._readableState=new se(C,this,v),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),d.call(this)}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(v){this._readableState&&(this._readableState.destroyed=v)}}),J.prototype.destroy=I.destroy,J.prototype._undestroy=I.undestroy,J.prototype._destroy=function(C,v){v(C)},J.prototype.push=function(C,v){var m=this._readableState,y;return m.objectMode?y=!0:typeof C=="string"&&(v=v||m.defaultEncoding,v!==m.encoding&&(C=l.from(C,v),v=""),y=!0),M(this,C,v,!1,y)},J.prototype.unshift=function(C){return M(this,C,null,!0,!1)};function M(C,v,m,y,_){b("readableAddChunk",v);var B=C._readableState;if(v===null)B.reading=!1,z(C,B);else{var Q;if(_||(Q=U(B,v)),Q)L(C,Q);else if(B.objectMode||v&&v.length>0)if(typeof v!="string"&&!B.objectMode&&Object.getPrototypeOf(v)!==l.prototype&&(v=c(v)),y)B.endEmitted?L(C,new T):O(C,B,v,!0);else if(B.ended)L(C,new H);else{if(B.destroyed)return!1;B.reading=!1,B.decoder&&!m?(v=B.decoder.write(v),B.objectMode||v.length!==0?O(C,B,v,!1):X(C,B)):O(C,B,v,!1)}else y||(B.reading=!1,X(C,B))}return!B.ended&&(B.length<B.highWaterMark||B.length===0)}function O(C,v,m,y){v.flowing&&v.length===0&&!v.sync?(v.awaitDrain=0,C.emit("data",m)):(v.length+=v.objectMode?1:m.length,y?v.buffer.unshift(m):v.buffer.push(m),v.needReadable&&W(C)),X(C,v)}function U(C,v){var m;return!g(v)&&typeof v!="string"&&v!==void 0&&!C.objectMode&&(m=new N("chunk",["string","Buffer","Uint8Array"],v)),m}J.prototype.isPaused=function(){return this._readableState.flowing===!1},J.prototype.setEncoding=function(C){P||(P=n("string_decoder/").StringDecoder);var v=new P(C);this._readableState.decoder=v,this._readableState.encoding=this._readableState.decoder.encoding;for(var m=this._readableState.buffer.head,y="";m!==null;)y+=v.write(m.data),m=m.next;return this._readableState.buffer.clear(),y!==""&&this._readableState.buffer.push(y),this._readableState.length=y.length,this};var G=1073741824;function oe(C){return C>=G?C=G:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function re(C,v){return C<=0||v.length===0&&v.ended?0:v.objectMode?1:C!==C?v.flowing&&v.length?v.buffer.head.data.length:v.length:(C>v.highWaterMark&&(v.highWaterMark=oe(C)),C<=v.length?C:v.ended?v.length:(v.needReadable=!0,0))}J.prototype.read=function(C){b("read",C),C=parseInt(C,10);var v=this._readableState,m=C;if(C!==0&&(v.emittedReadable=!1),C===0&&v.needReadable&&((v.highWaterMark!==0?v.length>=v.highWaterMark:v.length>0)||v.ended))return b("read: emitReadable",v.length,v.ended),v.length===0&&v.ended?j(this):W(this),null;if(C=re(C,v),C===0&&v.ended)return v.length===0&&j(this),null;var y=v.needReadable;b("need readable",y),(v.length===0||v.length-C<v.highWaterMark)&&(y=!0,b("length less than watermark",y)),v.ended||v.reading?(y=!1,b("reading or ended",y)):y&&(b("do read"),v.reading=!0,v.sync=!0,v.length===0&&(v.needReadable=!0),this._read(v.highWaterMark),v.sync=!1,v.reading||(C=re(m,v)));var _;return C>0?_=A(C,v):_=null,_===null?(v.needReadable=v.length<=v.highWaterMark,C=0):(v.length-=C,v.awaitDrain=0),v.length===0&&(v.ended||(v.needReadable=!0),m!==C&&v.ended&&j(this)),_!==null&&this.emit("data",_),_};function z(C,v){if(b("onEofChunk"),!v.ended){if(v.decoder){var m=v.decoder.end();m&&m.length&&(v.buffer.push(m),v.length+=v.objectMode?1:m.length)}v.ended=!0,v.sync?W(C):(v.needReadable=!1,v.emittedReadable||(v.emittedReadable=!0,te(C)))}}function W(C){var v=C._readableState;b("emitReadable",v.needReadable,v.emittedReadable),v.needReadable=!1,v.emittedReadable||(b("emitReadable",v.flowing),v.emittedReadable=!0,s.nextTick(te,C))}function te(C){var v=C._readableState;b("emitReadable_",v.destroyed,v.length,v.ended),!v.destroyed&&(v.length||v.ended)&&(C.emit("readable"),v.emittedReadable=!1),v.needReadable=!v.flowing&&!v.ended&&v.length<=v.highWaterMark,k(C)}function X(C,v){v.readingMore||(v.readingMore=!0,s.nextTick(le,C,v))}function le(C,v){for(;!v.reading&&!v.ended&&(v.length<v.highWaterMark||v.flowing&&v.length===0);){var m=v.length;if(b("maybeReadMore read 0"),C.read(0),m===v.length)break}v.readingMore=!1}J.prototype._read=function(C){L(this,new $("_read()"))},J.prototype.pipe=function(C,v){var m=this,y=this._readableState;switch(y.pipesCount){case 0:y.pipes=C;break;case 1:y.pipes=[y.pipes,C];break;default:y.pipes.push(C);break}y.pipesCount+=1,b("pipe count=%d opts=%j",y.pipesCount,v);var _=(!v||v.end!==!1)&&C!==s.stdout&&C!==s.stderr,B=_?ee:Bt;y.endEmitted?s.nextTick(B):m.once("end",B),C.on("unpipe",Q);function Q(wn,bn){b("onunpipe"),wn===m&&bn&&bn.hasUnpiped===!1&&(bn.hasUnpiped=!0,Re())}function ee(){b("onend"),C.end()}var de=ne(m);C.on("drain",de);var De=!1;function Re(){b("cleanup"),C.removeListener("close",jt),C.removeListener("finish",vn),C.removeListener("drain",de),C.removeListener("error",Oe),C.removeListener("unpipe",Q),m.removeListener("end",ee),m.removeListener("end",Bt),m.removeListener("data",He),De=!0,y.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&de()}m.on("data",He);function He(wn){b("ondata");var bn=C.write(wn);b("dest.write",bn),bn===!1&&((y.pipesCount===1&&y.pipes===C||y.pipesCount>1&&K(y.pipes,C)!==-1)&&!De&&(b("false write response, pause",y.awaitDrain),y.awaitDrain++),m.pause())}function Oe(wn){b("onerror",wn),Bt(),C.removeListener("error",Oe),h(C,"error")===0&&L(C,wn)}ue(C,"error",Oe);function jt(){C.removeListener("finish",vn),Bt()}C.once("close",jt);function vn(){b("onfinish"),C.removeListener("close",jt),Bt()}C.once("finish",vn);function Bt(){b("unpipe"),m.unpipe(C)}return C.emit("pipe",m),y.flowing||(b("pipe resume"),m.resume()),C};function ne(C){return function(){var m=C._readableState;b("pipeOnDrain",m.awaitDrain),m.awaitDrain&&m.awaitDrain--,m.awaitDrain===0&&h(C,"data")&&(m.flowing=!0,k(C))}}J.prototype.unpipe=function(C){var v=this._readableState,m={hasUnpiped:!1};if(v.pipesCount===0)return this;if(v.pipesCount===1)return C&&C!==v.pipes?this:(C||(C=v.pipes),v.pipes=null,v.pipesCount=0,v.flowing=!1,C&&C.emit("unpipe",this,m),this);if(!C){var y=v.pipes,_=v.pipesCount;v.pipes=null,v.pipesCount=0,v.flowing=!1;for(var B=0;B<_;B++)y[B].emit("unpipe",this,{hasUnpiped:!1});return this}var Q=K(v.pipes,C);return Q===-1?this:(v.pipes.splice(Q,1),v.pipesCount-=1,v.pipesCount===1&&(v.pipes=v.pipes[0]),C.emit("unpipe",this,m),this)},J.prototype.on=function(C,v){var m=d.prototype.on.call(this,C,v),y=this._readableState;return C==="data"?(y.readableListening=this.listenerCount("readable")>0,y.flowing!==!1&&this.resume()):C==="readable"&&!y.endEmitted&&!y.readableListening&&(y.readableListening=y.needReadable=!0,y.flowing=!1,y.emittedReadable=!1,b("on readable",y.length,y.reading),y.length?W(this):y.reading||s.nextTick(F,this)),m},J.prototype.addListener=J.prototype.on,J.prototype.removeListener=function(C,v){var m=d.prototype.removeListener.call(this,C,v);return C==="readable"&&s.nextTick(V,this),m},J.prototype.removeAllListeners=function(C){var v=d.prototype.removeAllListeners.apply(this,arguments);return(C==="readable"||C===void 0)&&s.nextTick(V,this),v};function V(C){var v=C._readableState;v.readableListening=C.listenerCount("readable")>0,v.resumeScheduled&&!v.paused?v.flowing=!0:C.listenerCount("data")>0&&C.resume()}function F(C){b("readable nexttick read 0"),C.read(0)}J.prototype.resume=function(){var C=this._readableState;return C.flowing||(b("resume"),C.flowing=!C.readableListening,Z(this,C)),C.paused=!1,this};function Z(C,v){v.resumeScheduled||(v.resumeScheduled=!0,s.nextTick(ie,C,v))}function ie(C,v){b("resume",v.reading),v.reading||C.read(0),v.resumeScheduled=!1,C.emit("resume"),k(C),v.flowing&&!v.reading&&C.read(0)}J.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function k(C){var v=C._readableState;for(b("flow",v.flowing);v.flowing&&C.read()!==null;);}J.prototype.wrap=function(C){var v=this,m=this._readableState,y=!1;C.on("end",function(){if(b("wrapped end"),m.decoder&&!m.ended){var Q=m.decoder.end();Q&&Q.length&&v.push(Q)}v.push(null)}),C.on("data",function(Q){if(b("wrapped data"),m.decoder&&(Q=m.decoder.write(Q)),!(m.objectMode&&Q==null)&&!(!m.objectMode&&(!Q||!Q.length))){var ee=v.push(Q);ee||(y=!0,C.pause())}});for(var _ in C)this[_]===void 0&&typeof C[_]=="function"&&(this[_]=function(ee){return function(){return C[ee].apply(C,arguments)}}(_));for(var B=0;B<ae.length;B++)C.on(ae[B],this.emit.bind(this,ae[B]));return this._read=function(Q){b("wrapped _read",Q),y&&(y=!1,C.resume())},this},typeof Symbol=="function"&&(J.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=n("./internal/streams/async_iterator")),x(this)}),Object.defineProperty(J.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(J.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(J.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(v){this._readableState&&(this._readableState.flowing=v)}}),J._fromList=A,Object.defineProperty(J.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function A(C,v){if(v.length===0)return null;var m;return v.objectMode?m=v.buffer.shift():!C||C>=v.length?(v.decoder?m=v.buffer.join(""):v.buffer.length===1?m=v.buffer.first():m=v.buffer.concat(v.length),v.buffer.clear()):m=v.buffer.consume(C,v.decoder),m}function j(C){var v=C._readableState;b("endReadable",v.endEmitted),v.endEmitted||(v.ended=!0,s.nextTick(Y,v,C))}function Y(C,v){if(b("endReadableNT",C.endEmitted,C.length),!C.endEmitted&&C.length===0&&(C.endEmitted=!0,v.readable=!1,v.emit("end"),C.autoDestroy)){var m=v._writableState;(!m||m.autoDestroy&&m.finished)&&v.destroy()}}typeof Symbol=="function"&&(J.from=function(C,v){return q===void 0&&(q=n("./internal/streams/from")),q(J,C,v)});function K(C,v){for(var m=0,y=C.length;m<y;m++)if(C[m]===v)return m;return-1}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":58,"./_stream_duplex":59,"./internal/streams/async_iterator":64,"./internal/streams/buffer_list":65,"./internal/streams/destroy":66,"./internal/streams/from":68,"./internal/streams/state":70,"./internal/streams/stream":71,_process:85,buffer:3,events:4,inherits:24,"string_decoder/":78,util:2}],62:[function(n,i,o){"use strict";i.exports=a;var s=n("../errors").codes,u=s.ERR_METHOD_NOT_IMPLEMENTED,p=s.ERR_MULTIPLE_CALLBACK,f=s.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=s.ERR_TRANSFORM_WITH_LENGTH_0,d=n("./_stream_duplex");n("inherits")(a,d);function l(w,b){var D=this._transformState;D.transforming=!1;var I=D.writecb;if(I===null)return this.emit("error",new p);D.writechunk=null,D.writecb=null,b!=null&&this.push(b),I(w);var E=this._readableState;E.reading=!1,(E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}function a(w){if(!(this instanceof a))return new a(w);d.call(this,w),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,w&&(typeof w.transform=="function"&&(this._transform=w.transform),typeof w.flush=="function"&&(this._flush=w.flush)),this.on("prefinish",c)}function c(){var w=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(b,D){g(w,b,D)}):g(this,null,null)}a.prototype.push=function(w,b){return this._transformState.needTransform=!1,d.prototype.push.call(this,w,b)},a.prototype._transform=function(w,b,D){D(new u("_transform()"))},a.prototype._write=function(w,b,D){var I=this._transformState;if(I.writecb=D,I.writechunk=w,I.writeencoding=b,!I.transforming){var E=this._readableState;(I.needTransform||E.needReadable||E.length<E.highWaterMark)&&this._read(E.highWaterMark)}},a.prototype._read=function(w){var b=this._transformState;b.writechunk!==null&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0},a.prototype._destroy=function(w,b){d.prototype._destroy.call(this,w,function(D){b(D)})};function g(w,b,D){if(b)return w.emit("error",b);if(D!=null&&w.push(D),w._writableState.length)throw new h;if(w._transformState.transforming)throw new f;return w.push(null)}},{"../errors":58,"./_stream_duplex":59,inherits:24}],63:[function(n,i,o){(function(s,u){(function(){"use strict";i.exports=se;function p(k,A,j){this.chunk=k,this.encoding=A,this.callback=j,this.next=null}function f(k){var A=this;this.next=null,this.entry=null,this.finish=function(){ie(A,k)}}var h;se.WritableState=ae;var d={deprecate:n("util-deprecate")},l=n("./internal/streams/stream"),a=n("buffer").Buffer,c=u.Uint8Array||function(){};function g(k){return a.from(k)}function w(k){return a.isBuffer(k)||k instanceof c}var b=n("./internal/streams/destroy"),D=n("./internal/streams/state"),I=D.getHighWaterMark,E=n("../errors").codes,S=E.ERR_INVALID_ARG_TYPE,R=E.ERR_METHOD_NOT_IMPLEMENTED,N=E.ERR_MULTIPLE_CALLBACK,H=E.ERR_STREAM_CANNOT_PIPE,$=E.ERR_STREAM_DESTROYED,T=E.ERR_STREAM_NULL_VALUES,P=E.ERR_STREAM_WRITE_AFTER_END,x=E.ERR_UNKNOWN_ENCODING,q=b.errorOrDestroy;n("inherits")(se,l);function L(){}function ae(k,A,j){h=h||n("./_stream_duplex"),k=k||{},typeof j!="boolean"&&(j=A instanceof h),this.objectMode=!!k.objectMode,j&&(this.objectMode=this.objectMode||!!k.writableObjectMode),this.highWaterMark=I(this,k,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Y=k.decodeStrings===!1;this.decodeStrings=!Y,this.defaultEncoding=k.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(K){z(A,K)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new f(this)}ae.prototype.getBuffer=function(){for(var A=this.bufferedRequest,j=[];A;)j.push(A),A=A.next;return j},function(){try{Object.defineProperty(ae.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var ue;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(ue=Function.prototype[Symbol.hasInstance],Object.defineProperty(se,Symbol.hasInstance,{value:function(A){return ue.call(this,A)?!0:this!==se?!1:A&&A._writableState instanceof ae}})):ue=function(A){return A instanceof this};function se(k){h=h||n("./_stream_duplex");var A=this instanceof h;if(!A&&!ue.call(se,this))return new se(k);this._writableState=new ae(k,this,A),this.writable=!0,k&&(typeof k.write=="function"&&(this._write=k.write),typeof k.writev=="function"&&(this._writev=k.writev),typeof k.destroy=="function"&&(this._destroy=k.destroy),typeof k.final=="function"&&(this._final=k.final)),l.call(this)}se.prototype.pipe=function(){q(this,new H)};function J(k,A){var j=new P;q(k,j),s.nextTick(A,j)}function M(k,A,j,Y){var K;return j===null?K=new T:typeof j!="string"&&!A.objectMode&&(K=new S("chunk",["string","Buffer"],j)),K?(q(k,K),s.nextTick(Y,K),!1):!0}se.prototype.write=function(k,A,j){var Y=this._writableState,K=!1,C=!Y.objectMode&&w(k);return C&&!a.isBuffer(k)&&(k=g(k)),typeof A=="function"&&(j=A,A=null),C?A="buffer":A||(A=Y.defaultEncoding),typeof j!="function"&&(j=L),Y.ending?J(this,j):(C||M(this,Y,k,j))&&(Y.pendingcb++,K=U(this,Y,C,k,A,j)),K},se.prototype.cork=function(){this._writableState.corked++},se.prototype.uncork=function(){var k=this._writableState;k.corked&&(k.corked--,!k.writing&&!k.corked&&!k.bufferProcessing&&k.bufferedRequest&&X(this,k))},se.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new x(A);return this._writableState.defaultEncoding=A,this},Object.defineProperty(se.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function O(k,A,j){return!k.objectMode&&k.decodeStrings!==!1&&typeof A=="string"&&(A=a.from(A,j)),A}Object.defineProperty(se.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(k,A,j,Y,K,C){if(!j){var v=O(A,Y,K);Y!==v&&(j=!0,K="buffer",Y=v)}var m=A.objectMode?1:Y.length;A.length+=m;var y=A.length<A.highWaterMark;if(y||(A.needDrain=!0),A.writing||A.corked){var _=A.lastBufferedRequest;A.lastBufferedRequest={chunk:Y,encoding:K,isBuf:j,callback:C,next:null},_?_.next=A.lastBufferedRequest:A.bufferedRequest=A.lastBufferedRequest,A.bufferedRequestCount+=1}else G(k,A,!1,m,Y,K,C);return y}function G(k,A,j,Y,K,C,v){A.writelen=Y,A.writecb=v,A.writing=!0,A.sync=!0,A.destroyed?A.onwrite(new $("write")):j?k._writev(K,A.onwrite):k._write(K,C,A.onwrite),A.sync=!1}function oe(k,A,j,Y,K){--A.pendingcb,j?(s.nextTick(K,Y),s.nextTick(F,k,A),k._writableState.errorEmitted=!0,q(k,Y)):(K(Y),k._writableState.errorEmitted=!0,q(k,Y),F(k,A))}function re(k){k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0}function z(k,A){var j=k._writableState,Y=j.sync,K=j.writecb;if(typeof K!="function")throw new N;if(re(j),A)oe(k,j,Y,A,K);else{var C=le(j)||k.destroyed;!C&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&X(k,j),Y?s.nextTick(W,k,j,C,K):W(k,j,C,K)}}function W(k,A,j,Y){j||te(k,A),A.pendingcb--,Y(),F(k,A)}function te(k,A){A.length===0&&A.needDrain&&(A.needDrain=!1,k.emit("drain"))}function X(k,A){A.bufferProcessing=!0;var j=A.bufferedRequest;if(k._writev&&j&&j.next){var Y=A.bufferedRequestCount,K=new Array(Y),C=A.corkedRequestsFree;C.entry=j;for(var v=0,m=!0;j;)K[v]=j,j.isBuf||(m=!1),j=j.next,v+=1;K.allBuffers=m,G(k,A,!0,A.length,K,"",C.finish),A.pendingcb++,A.lastBufferedRequest=null,C.next?(A.corkedRequestsFree=C.next,C.next=null):A.corkedRequestsFree=new f(A),A.bufferedRequestCount=0}else{for(;j;){var y=j.chunk,_=j.encoding,B=j.callback,Q=A.objectMode?1:y.length;if(G(k,A,!1,Q,y,_,B),j=j.next,A.bufferedRequestCount--,A.writing)break}j===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=j,A.bufferProcessing=!1}se.prototype._write=function(k,A,j){j(new R("_write()"))},se.prototype._writev=null,se.prototype.end=function(k,A,j){var Y=this._writableState;return typeof k=="function"?(j=k,k=null,A=null):typeof A=="function"&&(j=A,A=null),k!=null&&this.write(k,A),Y.corked&&(Y.corked=1,this.uncork()),Y.ending||Z(this,Y,j),this},Object.defineProperty(se.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function le(k){return k.ending&&k.length===0&&k.bufferedRequest===null&&!k.finished&&!k.writing}function ne(k,A){k._final(function(j){A.pendingcb--,j&&q(k,j),A.prefinished=!0,k.emit("prefinish"),F(k,A)})}function V(k,A){!A.prefinished&&!A.finalCalled&&(typeof k._final=="function"&&!A.destroyed?(A.pendingcb++,A.finalCalled=!0,s.nextTick(ne,k,A)):(A.prefinished=!0,k.emit("prefinish")))}function F(k,A){var j=le(A);if(j&&(V(k,A),A.pendingcb===0&&(A.finished=!0,k.emit("finish"),A.autoDestroy))){var Y=k._readableState;(!Y||Y.autoDestroy&&Y.endEmitted)&&k.destroy()}return j}function Z(k,A,j){A.ending=!0,F(k,A),j&&(A.finished?s.nextTick(j):k.once("finish",j)),A.ended=!0,k.writable=!1}function ie(k,A,j){var Y=k.entry;for(k.entry=null;Y;){var K=Y.callback;A.pendingcb--,K(j),Y=Y.next}A.corkedRequestsFree.next=k}Object.defineProperty(se.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),se.prototype.destroy=b.destroy,se.prototype._undestroy=b.undestroy,se.prototype._destroy=function(k,A){A(k)}}).call(this)}).call(this,n("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":58,"./_stream_duplex":59,"./internal/streams/destroy":66,"./internal/streams/state":70,"./internal/streams/stream":71,_process:85,buffer:3,inherits:24,"util-deprecate":79}],64:[function(n,i,o){(function(s){(function(){"use strict";var u;function p(H,$,T){return $ in H?Object.defineProperty(H,$,{value:T,enumerable:!0,configurable:!0,writable:!0}):H[$]=T,H}var f=n("./end-of-stream"),h=Symbol("lastResolve"),d=Symbol("lastReject"),l=Symbol("error"),a=Symbol("ended"),c=Symbol("lastPromise"),g=Symbol("handlePromise"),w=Symbol("stream");function b(H,$){return{value:H,done:$}}function D(H){var $=H[h];if($!==null){var T=H[w].read();T!==null&&(H[c]=null,H[h]=null,H[d]=null,$(b(T,!1)))}}function I(H){s.nextTick(D,H)}function E(H,$){return function(T,P){H.then(function(){if($[a]){T(b(void 0,!0));return}$[g](T,P)},P)}}var S=Object.getPrototypeOf(function(){}),R=Object.setPrototypeOf((u={get stream(){return this[w]},next:function(){var $=this,T=this[l];if(T!==null)return Promise.reject(T);if(this[a])return Promise.resolve(b(void 0,!0));if(this[w].destroyed)return new Promise(function(L,ae){s.nextTick(function(){$[l]?ae($[l]):L(b(void 0,!0))})});var P=this[c],x;if(P)x=new Promise(E(P,this));else{var q=this[w].read();if(q!==null)return Promise.resolve(b(q,!1));x=new Promise(this[g])}return this[c]=x,x}},p(u,Symbol.asyncIterator,function(){return this}),p(u,"return",function(){var $=this;return new Promise(function(T,P){$[w].destroy(null,function(x){if(x){P(x);return}T(b(void 0,!0))})})}),u),S),N=function($){var T,P=Object.create(R,(T={},p(T,w,{value:$,writable:!0}),p(T,h,{value:null,writable:!0}),p(T,d,{value:null,writable:!0}),p(T,l,{value:null,writable:!0}),p(T,a,{value:$._readableState.endEmitted,writable:!0}),p(T,g,{value:function(q,L){var ae=P[w].read();ae?(P[c]=null,P[h]=null,P[d]=null,q(b(ae,!1))):(P[h]=q,P[d]=L)},writable:!0}),T));return P[c]=null,f($,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var q=P[d];q!==null&&(P[c]=null,P[h]=null,P[d]=null,q(x)),P[l]=x;return}var L=P[h];L!==null&&(P[c]=null,P[h]=null,P[d]=null,L(b(void 0,!0))),P[a]=!0}),$.on("readable",I.bind(null,P)),P};i.exports=N}).call(this)}).call(this,n("_process"))},{"./end-of-stream":67,_process:85}],65:[function(n,i,o){"use strict";function s(D,I){var E=Object.keys(D);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(D);I&&(S=S.filter(function(R){return Object.getOwnPropertyDescriptor(D,R).enumerable})),E.push.apply(E,S)}return E}function u(D){for(var I=1;I<arguments.length;I++){var E=arguments[I]!=null?arguments[I]:{};I%2?s(Object(E),!0).forEach(function(S){p(D,S,E[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(E)):s(Object(E)).forEach(function(S){Object.defineProperty(D,S,Object.getOwnPropertyDescriptor(E,S))})}return D}function p(D,I,E){return I in D?Object.defineProperty(D,I,{value:E,enumerable:!0,configurable:!0,writable:!0}):D[I]=E,D}function f(D,I){if(!(D instanceof I))throw new TypeError("Cannot call a class as a function")}function h(D,I){for(var E=0;E<I.length;E++){var S=I[E];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(D,S.key,S)}}function d(D,I,E){return I&&h(D.prototype,I),E&&h(D,E),D}var l=n("buffer"),a=l.Buffer,c=n("util"),g=c.inspect,w=g&&g.custom||"inspect";function b(D,I,E){a.prototype.copy.call(D,I,E)}i.exports=function(){function D(){f(this,D),this.head=null,this.tail=null,this.length=0}return d(D,[{key:"push",value:function(E){var S={data:E,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(E){var S={data:E,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var E=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,E}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(E){if(this.length===0)return"";for(var S=this.head,R=""+S.data;S=S.next;)R+=E+S.data;return R}},{key:"concat",value:function(E){if(this.length===0)return a.alloc(0);for(var S=a.allocUnsafe(E>>>0),R=this.head,N=0;R;)b(R.data,S,N),N+=R.data.length,R=R.next;return S}},{key:"consume",value:function(E,S){var R;return E<this.head.data.length?(R=this.head.data.slice(0,E),this.head.data=this.head.data.slice(E)):E===this.head.data.length?R=this.shift():R=S?this._getString(E):this._getBuffer(E),R}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(E){var S=this.head,R=1,N=S.data;for(E-=N.length;S=S.next;){var H=S.data,$=E>H.length?H.length:E;if($===H.length?N+=H:N+=H.slice(0,E),E-=$,E===0){$===H.length?(++R,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=H.slice($));break}++R}return this.length-=R,N}},{key:"_getBuffer",value:function(E){var S=a.allocUnsafe(E),R=this.head,N=1;for(R.data.copy(S),E-=R.data.length;R=R.next;){var H=R.data,$=E>H.length?H.length:E;if(H.copy(S,S.length-E,0,$),E-=$,E===0){$===H.length?(++N,R.next?this.head=R.next:this.head=this.tail=null):(this.head=R,R.data=H.slice($));break}++N}return this.length-=N,S}},{key:w,value:function(E,S){return g(this,u({},S,{depth:0,customInspect:!1}))}}]),D}()},{buffer:3,util:2}],66:[function(n,i,o){(function(s){(function(){"use strict";function u(a,c){var g=this,w=this._readableState&&this._readableState.destroyed,b=this._writableState&&this._writableState.destroyed;return w||b?(c?c(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,s.nextTick(d,this,a)):s.nextTick(d,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(D){!c&&D?g._writableState?g._writableState.errorEmitted?s.nextTick(f,g):(g._writableState.errorEmitted=!0,s.nextTick(p,g,D)):s.nextTick(p,g,D):c?(s.nextTick(f,g),c(D)):s.nextTick(f,g)}),this)}function p(a,c){d(a,c),f(a)}function f(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function d(a,c){a.emit("error",c)}function l(a,c){var g=a._readableState,w=a._writableState;g&&g.autoDestroy||w&&w.autoDestroy?a.destroy(c):a.emit("error",c)}i.exports={destroy:u,undestroy:h,errorOrDestroy:l}}).call(this)}).call(this,n("_process"))},{_process:85}],67:[function(n,i,o){"use strict";var s=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function u(d){var l=!1;return function(){if(!l){l=!0;for(var a=arguments.length,c=new Array(a),g=0;g<a;g++)c[g]=arguments[g];d.apply(this,c)}}}function p(){}function f(d){return d.setHeader&&typeof d.abort=="function"}function h(d,l,a){if(typeof l=="function")return h(d,null,l);l||(l={}),a=u(a||p);var c=l.readable||l.readable!==!1&&d.readable,g=l.writable||l.writable!==!1&&d.writable,w=function(){d.writable||D()},b=d._writableState&&d._writableState.finished,D=function(){g=!1,b=!0,c||a.call(d)},I=d._readableState&&d._readableState.endEmitted,E=function(){c=!1,I=!0,g||a.call(d)},S=function($){a.call(d,$)},R=function(){var $;if(c&&!I)return(!d._readableState||!d._readableState.ended)&&($=new s),a.call(d,$);if(g&&!b)return(!d._writableState||!d._writableState.ended)&&($=new s),a.call(d,$)},N=function(){d.req.on("finish",D)};return f(d)?(d.on("complete",D),d.on("abort",R),d.req?N():d.on("request",N)):g&&!d._writableState&&(d.on("end",w),d.on("close",w)),d.on("end",E),d.on("finish",D),l.error!==!1&&d.on("error",S),d.on("close",R),function(){d.removeListener("complete",D),d.removeListener("abort",R),d.removeListener("request",N),d.req&&d.req.removeListener("finish",D),d.removeListener("end",w),d.removeListener("close",w),d.removeListener("finish",D),d.removeListener("end",E),d.removeListener("error",S),d.removeListener("close",R)}}i.exports=h},{"../../../errors":58}],68:[function(n,i,o){i.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],69:[function(n,i,o){"use strict";var s;function u(D){var I=!1;return function(){I||(I=!0,D.apply(void 0,arguments))}}var p=n("../../../errors").codes,f=p.ERR_MISSING_ARGS,h=p.ERR_STREAM_DESTROYED;function d(D){if(D)throw D}function l(D){return D.setHeader&&typeof D.abort=="function"}function a(D,I,E,S){S=u(S);var R=!1;D.on("close",function(){R=!0}),s===void 0&&(s=n("./end-of-stream")),s(D,{readable:I,writable:E},function(H){if(H)return S(H);R=!0,S()});var N=!1;return function(H){if(!R&&!N){if(N=!0,l(D))return D.abort();if(typeof D.destroy=="function")return D.destroy();S(H||new h("pipe"))}}}function c(D){D()}function g(D,I){return D.pipe(I)}function w(D){return!D.length||typeof D[D.length-1]!="function"?d:D.pop()}function b(){for(var D=arguments.length,I=new Array(D),E=0;E<D;E++)I[E]=arguments[E];var S=w(I);if(Array.isArray(I[0])&&(I=I[0]),I.length<2)throw new f("streams");var R,N=I.map(function(H,$){var T=$<I.length-1,P=$>0;return a(H,T,P,function(x){R||(R=x),x&&N.forEach(c),!T&&(N.forEach(c),S(R))})});return I.reduce(g)}i.exports=b},{"../../../errors":58,"./end-of-stream":67}],70:[function(n,i,o){"use strict";var s=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;function u(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null}function p(f,h,d,l){var a=u(h,l,d);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var c=l?d:"highWaterMark";throw new s(c,a)}return Math.floor(a)}return f.objectMode?16:16*1024}i.exports={getHighWaterMark:p}},{"../../../errors":58}],71:[function(n,i,o){i.exports=n("events").EventEmitter},{events:4}],72:[function(n,i,o){o=i.exports=n("./lib/_stream_readable.js"),o.Stream=o,o.Readable=o,o.Writable=n("./lib/_stream_writable.js"),o.Duplex=n("./lib/_stream_duplex.js"),o.Transform=n("./lib/_stream_transform.js"),o.PassThrough=n("./lib/_stream_passthrough.js"),o.finished=n("./lib/internal/streams/end-of-stream.js"),o.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":59,"./lib/_stream_passthrough.js":60,"./lib/_stream_readable.js":61,"./lib/_stream_transform.js":62,"./lib/_stream_writable.js":63,"./lib/internal/streams/end-of-stream.js":67,"./lib/internal/streams/pipeline.js":69}],73:[function(n,i,o){"use strict";function s(p,f,h){var d=this;this._callback=p,this._args=h,this._interval=setInterval(p,f,this._args),this.reschedule=function(l){l||(l=d._interval),d._interval&&clearInterval(d._interval),d._interval=setInterval(d._callback,l,d._args)},this.clear=function(){d._interval&&(clearInterval(d._interval),d._interval=void 0)},this.destroy=function(){d._interval&&clearInterval(d._interval),d._callback=void 0,d._interval=void 0,d._args=void 0}}function u(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var p;if(arguments.length>0){p=new Array(arguments.length-2);for(var f=0;f<p.length;f++)p[f]=arguments[f+2]}return new s(arguments[0],arguments[1],p)}i.exports=u},{}],74:[function(n,i,o){"use strict";i.exports=n("./index.js")()},{"./index.js":75}],75:[function(n,i,o){(function(s){(function(){"use strict";i.exports=p;function u(h){return h instanceof s?s.from(h):new h.constructor(h.buffer.slice(),h.byteOffset,h.length)}function p(h){if(h=h||{},h.circles)return f(h);return h.proto?a:l;function d(c,g){for(var w=Object.keys(c),b=new Array(w.length),D=0;D<w.length;D++){var I=w[D],E=c[I];typeof E!="object"||E===null?b[I]=E:E instanceof Date?b[I]=new Date(E):ArrayBuffer.isView(E)?b[I]=u(E):b[I]=g(E)}return b}function l(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return d(c,l);if(c instanceof Map)return new Map(d(Array.from(c),l));if(c instanceof Set)return new Set(d(Array.from(c),l));var g={};for(var w in c)if(Object.hasOwnProperty.call(c,w)!==!1){var b=c[w];typeof b!="object"||b===null?g[w]=b:b instanceof Date?g[w]=new Date(b):b instanceof Map?g[w]=new Map(d(Array.from(b),l)):b instanceof Set?g[w]=new Set(d(Array.from(b),l)):ArrayBuffer.isView(b)?g[w]=u(b):g[w]=l(b)}return g}function a(c){if(typeof c!="object"||c===null)return c;if(c instanceof Date)return new Date(c);if(Array.isArray(c))return d(c,a);if(c instanceof Map)return new Map(d(Array.from(c),a));if(c instanceof Set)return new Set(d(Array.from(c),a));var g={};for(var w in c){var b=c[w];typeof b!="object"||b===null?g[w]=b:b instanceof Date?g[w]=new Date(b):b instanceof Map?g[w]=new Map(d(Array.from(b),a)):b instanceof Set?g[w]=new Set(d(Array.from(b),a)):ArrayBuffer.isView(b)?g[w]=u(b):g[w]=a(b)}return g}}function f(h){var d=[],l=[];return h.proto?g:c;function a(w,b){for(var D=Object.keys(w),I=new Array(D.length),E=0;E<D.length;E++){var S=D[E],R=w[S];if(typeof R!="object"||R===null)I[S]=R;else if(R instanceof Date)I[S]=new Date(R);else if(ArrayBuffer.isView(R))I[S]=u(R);else{var N=d.indexOf(R);N!==-1?I[S]=l[N]:I[S]=b(R)}}return I}function c(w){if(typeof w!="object"||w===null)return w;if(w instanceof Date)return new Date(w);if(Array.isArray(w))return a(w,c);if(w instanceof Map)return new Map(a(Array.from(w),c));if(w instanceof Set)return new Set(a(Array.from(w),c));var b={};d.push(w),l.push(b);for(var D in w)if(Object.hasOwnProperty.call(w,D)!==!1){var I=w[D];if(typeof I!="object"||I===null)b[D]=I;else if(I instanceof Date)b[D]=new Date(I);else if(I instanceof Map)b[D]=new Map(a(Array.from(I),c));else if(I instanceof Set)b[D]=new Set(a(Array.from(I),c));else if(ArrayBuffer.isView(I))b[D]=u(I);else{var E=d.indexOf(I);E!==-1?b[D]=l[E]:b[D]=c(I)}}return d.pop(),l.pop(),b}function g(w){if(typeof w!="object"||w===null)return w;if(w instanceof Date)return new Date(w);if(Array.isArray(w))return a(w,g);if(w instanceof Map)return new Map(a(Array.from(w),g));if(w instanceof Set)return new Set(a(Array.from(w),g));var b={};d.push(w),l.push(b);for(var D in w){var I=w[D];if(typeof I!="object"||I===null)b[D]=I;else if(I instanceof Date)b[D]=new Date(I);else if(I instanceof Map)b[D]=new Map(a(Array.from(I),g));else if(I instanceof Set)b[D]=new Set(a(Array.from(I),g));else if(ArrayBuffer.isView(I))b[D]=u(I);else{var E=d.indexOf(I);E!==-1?b[D]=l[E]:b[D]=g(I)}}return d.pop(),l.pop(),b}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:3}],76:[function(n,i,o){var s=n("buffer"),u=s.Buffer;function p(h,d){for(var l in h)d[l]=h[l]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?i.exports=s:(p(s,o),o.Buffer=f);function f(h,d,l){return u(h,d,l)}f.prototype=Object.create(u.prototype),p(u,f),f.from=function(h,d,l){if(typeof h=="number")throw new TypeError("Argument must not be a number");return u(h,d,l)},f.alloc=function(h,d,l){if(typeof h!="number")throw new TypeError("Argument must be a number");var a=u(h);return d!==void 0?typeof l=="string"?a.fill(d,l):a.fill(d):a.fill(0),a},f.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u(h)},f.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return s.SlowBuffer(h)}},{buffer:3}],77:[function(n,i,o){i.exports=s;function s(p){var f=p._readableState;return f?f.objectMode||typeof p._duplexState=="number"?p.read():p.read(u(f)):null}function u(p){return p.buffer.length?p.buffer.head?p.buffer.head.data.length:p.buffer[0].length:p.length}},{}],78:[function(n,i,o){"use strict";var s=n("safe-buffer").Buffer,u=s.isEncoding||function(N){switch(N=""+N,N&&N.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(N){if(!N)return"utf8";for(var H;;)switch(N){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return N;default:if(H)return;N=(""+N).toLowerCase(),H=!0}}function f(N){var H=p(N);if(typeof H!="string"&&(s.isEncoding===u||!u(N)))throw new Error("Unknown encoding: "+N);return H||N}o.StringDecoder=h;function h(N){this.encoding=f(N);var H;switch(this.encoding){case"utf16le":this.text=b,this.end=D,H=4;break;case"utf8":this.fillLast=c,H=4;break;case"base64":this.text=I,this.end=E,H=3;break;default:this.write=S,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(H)}h.prototype.write=function(N){if(N.length===0)return"";var H,$;if(this.lastNeed){if(H=this.fillLast(N),H===void 0)return"";$=this.lastNeed,this.lastNeed=0}else $=0;return $<N.length?H?H+this.text(N,$):this.text(N,$):H||""},h.prototype.end=w,h.prototype.text=g,h.prototype.fillLast=function(N){if(this.lastNeed<=N.length)return N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,this.lastTotal-this.lastNeed,0,N.length),this.lastNeed-=N.length};function d(N){return N<=127?0:N>>5===6?2:N>>4===14?3:N>>3===30?4:N>>6===2?-1:-2}function l(N,H,$){var T=H.length-1;if(T<$)return 0;var P=d(H[T]);return P>=0?(P>0&&(N.lastNeed=P-1),P):--T<$||P===-2?0:(P=d(H[T]),P>=0?(P>0&&(N.lastNeed=P-2),P):--T<$||P===-2?0:(P=d(H[T]),P>=0?(P>0&&(P===2?P=0:N.lastNeed=P-3),P):0))}function a(N,H,$){if((H[0]&192)!==128)return N.lastNeed=0,"\uFFFD";if(N.lastNeed>1&&H.length>1){if((H[1]&192)!==128)return N.lastNeed=1,"\uFFFD";if(N.lastNeed>2&&H.length>2&&(H[2]&192)!==128)return N.lastNeed=2,"\uFFFD"}}function c(N){var H=this.lastTotal-this.lastNeed,$=a(this,N,H);if($!==void 0)return $;if(this.lastNeed<=N.length)return N.copy(this.lastChar,H,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);N.copy(this.lastChar,H,0,N.length),this.lastNeed-=N.length}function g(N,H){var $=l(this,N,H);if(!this.lastNeed)return N.toString("utf8",H);this.lastTotal=$;var T=N.length-($-this.lastNeed);return N.copy(this.lastChar,0,T),N.toString("utf8",H,T)}function w(N){var H=N&&N.length?this.write(N):"";return this.lastNeed?H+"\uFFFD":H}function b(N,H){if((N.length-H)%2===0){var $=N.toString("utf16le",H);if($){var T=$.charCodeAt($.length-1);if(T>=55296&&T<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1],$.slice(0,-1)}return $}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=N[N.length-1],N.toString("utf16le",H,N.length-1)}function D(N){var H=N&&N.length?this.write(N):"";if(this.lastNeed){var $=this.lastTotal-this.lastNeed;return H+this.lastChar.toString("utf16le",0,$)}return H}function I(N,H){var $=(N.length-H)%3;return $===0?N.toString("base64",H):(this.lastNeed=3-$,this.lastTotal=3,$===1?this.lastChar[0]=N[N.length-1]:(this.lastChar[0]=N[N.length-2],this.lastChar[1]=N[N.length-1]),N.toString("base64",H,N.length-$))}function E(N){var H=N&&N.length?this.write(N):"";return this.lastNeed?H+this.lastChar.toString("base64",0,3-this.lastNeed):H}function S(N){return N.toString(this.encoding)}function R(N){return N&&N.length?this.write(N):""}},{"safe-buffer":76}],79:[function(n,i,o){(function(s){(function(){i.exports=u;function u(f,h){if(p("noDeprecation"))return f;var d=!1;function l(){if(!d){if(p("throwDeprecation"))throw new Error(h);p("traceDeprecation")?console.trace(h):console.warn(h),d=!0}return f.apply(this,arguments)}return l}function p(f){try{if(!s.localStorage)return!1}catch{return!1}var h=s.localStorage[f];return h==null?!1:String(h).toLowerCase()==="true"}}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],80:[function(n,i,o){i.exports=s;function s(u,p){if(u&&p)return s(u)(p);if(typeof u!="function")throw new TypeError("need wrapper function");return Object.keys(u).forEach(function(h){f[h]=u[h]}),f;function f(){for(var h=new Array(arguments.length),d=0;d<h.length;d++)h[d]=arguments[d];var l=u.apply(this,h),a=h[h.length-1];return typeof l=="function"&&l!==a&&Object.keys(a).forEach(function(c){l[c]=a[c]}),l}}},{}],81:[function(n,i,o){"use strict";i.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],82:[function(n,i,o){i.exports=u;var s=Object.prototype.hasOwnProperty;function u(){for(var p={},f=0;f<arguments.length;f++){var h=arguments[f];for(var d in h)s.call(h,d)&&(p[d]=h[d])}return p}},{}],83:[function(n,i,o){"use strict";i.exports=function(s){s.prototype[Symbol.iterator]=function*(){for(let u=this.head;u;u=u.next)yield u.value}}},{}],84:[function(n,i,o){"use strict";i.exports=s,s.Node=h,s.create=s;function s(d){var l=this;if(l instanceof s||(l=new s),l.tail=null,l.head=null,l.length=0,d&&typeof d.forEach=="function")d.forEach(function(g){l.push(g)});else if(arguments.length>0)for(var a=0,c=arguments.length;a<c;a++)l.push(arguments[a]);return l}s.prototype.removeNode=function(d){if(d.list!==this)throw new Error("removing node which does not belong to this list");var l=d.next,a=d.prev;return l&&(l.prev=a),a&&(a.next=l),d===this.head&&(this.head=l),d===this.tail&&(this.tail=a),d.list.length--,d.next=null,d.prev=null,d.list=null,l},s.prototype.unshiftNode=function(d){if(d!==this.head){d.list&&d.list.removeNode(d);var l=this.head;d.list=this,d.next=l,l&&(l.prev=d),this.head=d,this.tail||(this.tail=d),this.length++}},s.prototype.pushNode=function(d){if(d!==this.tail){d.list&&d.list.removeNode(d);var l=this.tail;d.list=this,d.prev=l,l&&(l.next=d),this.tail=d,this.head||(this.head=d),this.length++}},s.prototype.push=function(){for(var d=0,l=arguments.length;d<l;d++)p(this,arguments[d]);return this.length},s.prototype.unshift=function(){for(var d=0,l=arguments.length;d<l;d++)f(this,arguments[d]);return this.length},s.prototype.pop=function(){if(this.tail){var d=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,d}},s.prototype.shift=function(){if(this.head){var d=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,d}},s.prototype.forEach=function(d,l){l=l||this;for(var a=this.head,c=0;a!==null;c++)d.call(l,a.value,c,this),a=a.next},s.prototype.forEachReverse=function(d,l){l=l||this;for(var a=this.tail,c=this.length-1;a!==null;c--)d.call(l,a.value,c,this),a=a.prev},s.prototype.get=function(d){for(var l=0,a=this.head;a!==null&&l<d;l++)a=a.next;if(l===d&&a!==null)return a.value},s.prototype.getReverse=function(d){for(var l=0,a=this.tail;a!==null&&l<d;l++)a=a.prev;if(l===d&&a!==null)return a.value},s.prototype.map=function(d,l){l=l||this;for(var a=new s,c=this.head;c!==null;)a.push(d.call(l,c.value,this)),c=c.next;return a},s.prototype.mapReverse=function(d,l){l=l||this;for(var a=new s,c=this.tail;c!==null;)a.push(d.call(l,c.value,this)),c=c.prev;return a},s.prototype.reduce=function(d,l){var a,c=this.head;if(arguments.length>1)a=l;else if(this.head)c=this.head.next,a=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var g=0;c!==null;g++)a=d(a,c.value,g),c=c.next;return a},s.prototype.reduceReverse=function(d,l){var a,c=this.tail;if(arguments.length>1)a=l;else if(this.tail)c=this.tail.prev,a=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var g=this.length-1;c!==null;g--)a=d(a,c.value,g),c=c.prev;return a},s.prototype.toArray=function(){for(var d=new Array(this.length),l=0,a=this.head;a!==null;l++)d[l]=a.value,a=a.next;return d},s.prototype.toArrayReverse=function(){for(var d=new Array(this.length),l=0,a=this.tail;a!==null;l++)d[l]=a.value,a=a.prev;return d},s.prototype.slice=function(d,l){l=l||this.length,l<0&&(l+=this.length),d=d||0,d<0&&(d+=this.length);var a=new s;if(l<d||l<0)return a;d<0&&(d=0),l>this.length&&(l=this.length);for(var c=0,g=this.head;g!==null&&c<d;c++)g=g.next;for(;g!==null&&c<l;c++,g=g.next)a.push(g.value);return a},s.prototype.sliceReverse=function(d,l){l=l||this.length,l<0&&(l+=this.length),d=d||0,d<0&&(d+=this.length);var a=new s;if(l<d||l<0)return a;d<0&&(d=0),l>this.length&&(l=this.length);for(var c=this.length,g=this.tail;g!==null&&c>l;c--)g=g.prev;for(;g!==null&&c>d;c--,g=g.prev)a.push(g.value);return a},s.prototype.splice=function(d,l,...a){d>this.length&&(d=this.length-1),d<0&&(d=this.length+d);for(var c=0,g=this.head;g!==null&&c<d;c++)g=g.next;for(var w=[],c=0;g&&c<l;c++)w.push(g.value),g=this.removeNode(g);g===null&&(g=this.tail),g!==this.head&&g!==this.tail&&(g=g.prev);for(var c=0;c<a.length;c++)g=u(this,g,a[c]);return w},s.prototype.reverse=function(){for(var d=this.head,l=this.tail,a=d;a!==null;a=a.prev){var c=a.prev;a.prev=a.next,a.next=c}return this.head=l,this.tail=d,this};function u(d,l,a){var c=l===d.head?new h(a,null,l,d):new h(a,l,l.next,d);return c.next===null&&(d.tail=c),c.prev===null&&(d.head=c),d.length++,c}function p(d,l){d.tail=new h(l,d.tail,null,d),d.head||(d.head=d.tail),d.length++}function f(d,l){d.head=new h(l,null,d.head,d),d.tail||(d.tail=d.head),d.length++}function h(d,l,a,c){if(!(this instanceof h))return new h(d,l,a,c);this.list=c,this.value=d,l?(l.next=this,this.prev=l):this.prev=null,a?(a.prev=this,this.next=a):this.next=null}try{n("./iterator.js")(s)}catch{}},{"./iterator.js":83}],85:[function(n,i,o){var s=i.exports={},u,p;function f(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?u=setTimeout:u=f}catch{u=f}try{typeof clearTimeout=="function"?p=clearTimeout:p=h}catch{p=h}})();function d(S){if(u===setTimeout)return setTimeout(S,0);if((u===f||!u)&&setTimeout)return u=setTimeout,setTimeout(S,0);try{return u(S,0)}catch{try{return u.call(null,S,0)}catch{return u.call(this,S,0)}}}function l(S){if(p===clearTimeout)return clearTimeout(S);if((p===h||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(S);try{return p(S)}catch{try{return p.call(null,S)}catch{return p.call(this,S)}}}var a=[],c=!1,g,w=-1;function b(){!c||!g||(c=!1,g.length?a=g.concat(a):w=-1,a.length&&D())}function D(){if(!c){var S=d(b);c=!0;for(var R=a.length;R;){for(g=a,a=[];++w<R;)g&&g[w].run();w=-1,R=a.length}g=null,c=!1,l(S)}}s.nextTick=function(S){var R=new Array(arguments.length-1);if(arguments.length>1)for(var N=1;N<arguments.length;N++)R[N-1]=arguments[N];a.push(new I(S,R)),a.length===1&&!c&&d(D)};function I(S,R){this.fun=S,this.array=R}I.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function E(){}s.on=E,s.addListener=E,s.once=E,s.off=E,s.removeListener=E,s.removeAllListeners=E,s.emit=E,s.prependListener=E,s.prependOnceListener=E,s.listeners=function(S){return[]},s.binding=function(S){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(S){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],86:[function(n,i,o){(function(s){(function(){(function(u){var p=typeof o=="object"&&o&&!o.nodeType&&o,f=typeof i=="object"&&i&&!i.nodeType&&i,h=typeof s=="object"&&s;(h.global===h||h.window===h||h.self===h)&&(u=h);var d,l=2147483647,a=36,c=1,g=26,w=38,b=700,D=72,I=128,E="-",S=/^xn--/,R=/[^\x20-\x7E]/,N=/[\x2E\u3002\uFF0E\uFF61]/g,H={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=a-c,T=Math.floor,P=String.fromCharCode,x;function q(z){throw new RangeError(H[z])}function L(z,W){for(var te=z.length,X=[];te--;)X[te]=W(z[te]);return X}function ae(z,W){var te=z.split("@"),X="";te.length>1&&(X=te[0]+"@",z=te[1]),z=z.replace(N,".");var le=z.split("."),ne=L(le,W).join(".");return X+ne}function ue(z){for(var W=[],te=0,X=z.length,le,ne;te<X;)le=z.charCodeAt(te++),le>=55296&&le<=56319&&te<X?(ne=z.charCodeAt(te++),(ne&64512)==56320?W.push(((le&1023)<<10)+(ne&1023)+65536):(W.push(le),te--)):W.push(le);return W}function se(z){return L(z,function(W){var te="";return W>65535&&(W-=65536,te+=P(W>>>10&1023|55296),W=56320|W&1023),te+=P(W),te}).join("")}function J(z){return z-48<10?z-22:z-65<26?z-65:z-97<26?z-97:a}function M(z,W){return z+22+75*(z<26)-((W!=0)<<5)}function O(z,W,te){var X=0;for(z=te?T(z/b):z>>1,z+=T(z/W);z>$*g>>1;X+=a)z=T(z/$);return T(X+($+1)*z/(z+w))}function U(z){var W=[],te=z.length,X,le=0,ne=I,V=D,F,Z,ie,k,A,j,Y,K,C;for(F=z.lastIndexOf(E),F<0&&(F=0),Z=0;Z<F;++Z)z.charCodeAt(Z)>=128&&q("not-basic"),W.push(z.charCodeAt(Z));for(ie=F>0?F+1:0;ie<te;){for(k=le,A=1,j=a;ie>=te&&q("invalid-input"),Y=J(z.charCodeAt(ie++)),(Y>=a||Y>T((l-le)/A))&&q("overflow"),le+=Y*A,K=j<=V?c:j>=V+g?g:j-V,!(Y<K);j+=a)C=a-K,A>T(l/C)&&q("overflow"),A*=C;X=W.length+1,V=O(le-k,X,k==0),T(le/X)>l-ne&&q("overflow"),ne+=T(le/X),le%=X,W.splice(le++,0,ne)}return se(W)}function G(z){var W,te,X,le,ne,V,F,Z,ie,k,A,j=[],Y,K,C,v;for(z=ue(z),Y=z.length,W=I,te=0,ne=D,V=0;V<Y;++V)A=z[V],A<128&&j.push(P(A));for(X=le=j.length,le&&j.push(E);X<Y;){for(F=l,V=0;V<Y;++V)A=z[V],A>=W&&A<F&&(F=A);for(K=X+1,F-W>T((l-te)/K)&&q("overflow"),te+=(F-W)*K,W=F,V=0;V<Y;++V)if(A=z[V],A<W&&++te>l&&q("overflow"),A==W){for(Z=te,ie=a;k=ie<=ne?c:ie>=ne+g?g:ie-ne,!(Z<k);ie+=a)v=Z-k,C=a-k,j.push(P(M(k+v%C,0))),Z=T(v/C);j.push(P(M(Z,0))),ne=O(te,K,X==le),te=0,++X}++te,++W}return j.join("")}function oe(z){return ae(z,function(W){return S.test(W)?U(W.slice(4).toLowerCase()):W})}function re(z){return ae(z,function(W){return R.test(W)?"xn--"+G(W):W})}if(d={version:"1.4.1",ucs2:{decode:ue,encode:se},decode:U,encode:G,toASCII:re,toUnicode:oe},typeof e=="function"&&typeof e.amd=="object"&&e.amd)e("punycode",function(){return d});else if(p&&f)if(i.exports==p)f.exports=d;else for(x in d)d.hasOwnProperty(x)&&(p[x]=d[x]);else u.punycode=d})(this)}).call(this)}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],87:[function(n,i,o){"use strict";function s(p,f){return Object.prototype.hasOwnProperty.call(p,f)}i.exports=function(p,f,h,d){f=f||"&",h=h||"=";var l={};if(typeof p!="string"||p.length===0)return l;var a=/\+/g;p=p.split(f);var c=1e3;d&&typeof d.maxKeys=="number"&&(c=d.maxKeys);var g=p.length;c>0&&g>c&&(g=c);for(var w=0;w<g;++w){var b=p[w].replace(a,"%20"),D=b.indexOf(h),I,E,S,R;D>=0?(I=b.substr(0,D),E=b.substr(D+1)):(I=b,E=""),S=decodeURIComponent(I),R=decodeURIComponent(E),s(l,S)?u(l[S])?l[S].push(R):l[S]=[l[S],R]:l[S]=R}return l};var u=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"}},{}],88:[function(n,i,o){"use strict";var s=function(h){switch(typeof h){case"string":return h;case"boolean":return h?"true":"false";case"number":return isFinite(h)?h:"";default:return""}};i.exports=function(h,d,l,a){return d=d||"&",l=l||"=",h===null&&(h=void 0),typeof h=="object"?p(f(h),function(c){var g=encodeURIComponent(s(c))+l;return u(h[c])?p(h[c],function(w){return g+encodeURIComponent(s(w))}).join(d):g+encodeURIComponent(s(h[c]))}).join(d):a?encodeURIComponent(s(a))+l+encodeURIComponent(s(h)):""};var u=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function p(h,d){if(h.map)return h.map(d);for(var l=[],a=0;a<h.length;a++)l.push(d(h[a],a));return l}var f=Object.keys||function(h){var d=[];for(var l in h)Object.prototype.hasOwnProperty.call(h,l)&&d.push(l);return d}},{}],89:[function(n,i,o){"use strict";o.decode=o.parse=n("./decode"),o.encode=o.stringify=n("./encode")},{"./decode":87,"./encode":88}],90:[function(n,i,o){"use strict";var s=n("punycode"),u=n("./util");o.parse=H,o.resolve=T,o.resolveObject=P,o.format=$,o.Url=p;function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var f=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,d=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r",`
`,"	"],a=["{","}","|","\\","^","`"].concat(l),c=["'"].concat(a),g=["%","/","?",";","#"].concat(c),w=["/","?","#"],b=255,D=/^[+a-z0-9A-Z_-]{0,63}$/,I=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},R={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},N=n("querystring");function H(x,q,L){if(x&&u.isObject(x)&&x instanceof p)return x;var ae=new p;return ae.parse(x,q,L),ae}p.prototype.parse=function(x,q,L){if(!u.isString(x))throw new TypeError("Parameter 'url' must be a string, not "+typeof x);var ae=x.indexOf("?"),ue=ae!==-1&&ae<x.indexOf("#")?"?":"#",se=x.split(ue),J=/\\/g;se[0]=se[0].replace(J,"/"),x=se.join(ue);var M=x;if(M=M.trim(),!L&&x.split("#").length===1){var O=d.exec(M);if(O)return this.path=M,this.href=M,this.pathname=O[1],O[2]?(this.search=O[2],q?this.query=N.parse(this.search.substr(1)):this.query=this.search.substr(1)):q&&(this.search="",this.query={}),this}var U=f.exec(M);if(U){U=U[0];var G=U.toLowerCase();this.protocol=G,M=M.substr(U.length)}if(L||U||M.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe=M.substr(0,2)==="//";oe&&!(U&&S[U])&&(M=M.substr(2),this.slashes=!0)}if(!S[U]&&(oe||U&&!R[U])){for(var re=-1,z=0;z<w.length;z++){var W=M.indexOf(w[z]);W!==-1&&(re===-1||W<re)&&(re=W)}var te,X;re===-1?X=M.lastIndexOf("@"):X=M.lastIndexOf("@",re),X!==-1&&(te=M.slice(0,X),M=M.slice(X+1),this.auth=decodeURIComponent(te)),re=-1;for(var z=0;z<g.length;z++){var W=M.indexOf(g[z]);W!==-1&&(re===-1||W<re)&&(re=W)}re===-1&&(re=M.length),this.host=M.slice(0,re),M=M.slice(re),this.parseHost(),this.hostname=this.hostname||"";var le=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!le)for(var ne=this.hostname.split(/\./),z=0,V=ne.length;z<V;z++){var F=ne[z];if(F&&!F.match(D)){for(var Z="",ie=0,k=F.length;ie<k;ie++)F.charCodeAt(ie)>127?Z+="x":Z+=F[ie];if(!Z.match(D)){var A=ne.slice(0,z),j=ne.slice(z+1),Y=F.match(I);Y&&(A.push(Y[1]),j.unshift(Y[2])),j.length&&(M="/"+j.join(".")+M),this.hostname=A.join(".");break}}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),le||(this.hostname=s.toASCII(this.hostname));var K=this.port?":"+this.port:"",C=this.hostname||"";this.host=C+K,this.href+=this.host,le&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),M[0]!=="/"&&(M="/"+M))}if(!E[G])for(var z=0,V=c.length;z<V;z++){var v=c[z];if(M.indexOf(v)!==-1){var m=encodeURIComponent(v);m===v&&(m=escape(v)),M=M.split(v).join(m)}}var y=M.indexOf("#");y!==-1&&(this.hash=M.substr(y),M=M.slice(0,y));var _=M.indexOf("?");if(_!==-1?(this.search=M.substr(_),this.query=M.substr(_+1),q&&(this.query=N.parse(this.query)),M=M.slice(0,_)):q&&(this.search="",this.query={}),M&&(this.pathname=M),R[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var K=this.pathname||"",B=this.search||"";this.path=K+B}return this.href=this.format(),this};function $(x){return u.isString(x)&&(x=H(x)),x instanceof p?x.format():p.prototype.format.call(x)}p.prototype.format=function(){var x=this.auth||"";x&&(x=encodeURIComponent(x),x=x.replace(/%3A/i,":"),x+="@");var q=this.protocol||"",L=this.pathname||"",ae=this.hash||"",ue=!1,se="";this.host?ue=x+this.host:this.hostname&&(ue=x+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ue+=":"+this.port)),this.query&&u.isObject(this.query)&&Object.keys(this.query).length&&(se=N.stringify(this.query));var J=this.search||se&&"?"+se||"";return q&&q.substr(-1)!==":"&&(q+=":"),this.slashes||(!q||R[q])&&ue!==!1?(ue="//"+(ue||""),L&&L.charAt(0)!=="/"&&(L="/"+L)):ue||(ue=""),ae&&ae.charAt(0)!=="#"&&(ae="#"+ae),J&&J.charAt(0)!=="?"&&(J="?"+J),L=L.replace(/[?#]/g,function(M){return encodeURIComponent(M)}),J=J.replace("#","%23"),q+ue+L+J+ae};function T(x,q){return H(x,!1,!0).resolve(q)}p.prototype.resolve=function(x){return this.resolveObject(H(x,!1,!0)).format()};function P(x,q){return x?H(x,!1,!0).resolveObject(q):q}p.prototype.resolveObject=function(x){if(u.isString(x)){var q=new p;q.parse(x,!1,!0),x=q}for(var L=new p,ae=Object.keys(this),ue=0;ue<ae.length;ue++){var se=ae[ue];L[se]=this[se]}if(L.hash=x.hash,x.href==="")return L.href=L.format(),L;if(x.slashes&&!x.protocol){for(var J=Object.keys(x),M=0;M<J.length;M++){var O=J[M];O!=="protocol"&&(L[O]=x[O])}return R[L.protocol]&&L.hostname&&!L.pathname&&(L.path=L.pathname="/"),L.href=L.format(),L}if(x.protocol&&x.protocol!==L.protocol){if(!R[x.protocol]){for(var U=Object.keys(x),G=0;G<U.length;G++){var oe=U[G];L[oe]=x[oe]}return L.href=L.format(),L}if(L.protocol=x.protocol,!x.host&&!S[x.protocol]){for(var V=(x.pathname||"").split("/");V.length&&!(x.host=V.shift()););x.host||(x.host=""),x.hostname||(x.hostname=""),V[0]!==""&&V.unshift(""),V.length<2&&V.unshift(""),L.pathname=V.join("/")}else L.pathname=x.pathname;if(L.search=x.search,L.query=x.query,L.host=x.host||"",L.auth=x.auth,L.hostname=x.hostname||x.host,L.port=x.port,L.pathname||L.search){var re=L.pathname||"",z=L.search||"";L.path=re+z}return L.slashes=L.slashes||x.slashes,L.href=L.format(),L}var W=L.pathname&&L.pathname.charAt(0)==="/",te=x.host||x.pathname&&x.pathname.charAt(0)==="/",X=te||W||L.host&&x.pathname,le=X,ne=L.pathname&&L.pathname.split("/")||[],V=x.pathname&&x.pathname.split("/")||[],F=L.protocol&&!R[L.protocol];if(F&&(L.hostname="",L.port=null,L.host&&(ne[0]===""?ne[0]=L.host:ne.unshift(L.host)),L.host="",x.protocol&&(x.hostname=null,x.port=null,x.host&&(V[0]===""?V[0]=x.host:V.unshift(x.host)),x.host=null),X=X&&(V[0]===""||ne[0]==="")),te)L.host=x.host||x.host===""?x.host:L.host,L.hostname=x.hostname||x.hostname===""?x.hostname:L.hostname,L.search=x.search,L.query=x.query,ne=V;else if(V.length)ne||(ne=[]),ne.pop(),ne=ne.concat(V),L.search=x.search,L.query=x.query;else if(!u.isNullOrUndefined(x.search)){if(F){L.hostname=L.host=ne.shift();var Z=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;Z&&(L.auth=Z.shift(),L.host=L.hostname=Z.shift())}return L.search=x.search,L.query=x.query,(!u.isNull(L.pathname)||!u.isNull(L.search))&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.href=L.format(),L}if(!ne.length)return L.pathname=null,L.search?L.path="/"+L.search:L.path=null,L.href=L.format(),L;for(var ie=ne.slice(-1)[0],k=(L.host||x.host||ne.length>1)&&(ie==="."||ie==="..")||ie==="",A=0,j=ne.length;j>=0;j--)ie=ne[j],ie==="."?ne.splice(j,1):ie===".."?(ne.splice(j,1),A++):A&&(ne.splice(j,1),A--);if(!X&&!le)for(;A--;A)ne.unshift("..");X&&ne[0]!==""&&(!ne[0]||ne[0].charAt(0)!=="/")&&ne.unshift(""),k&&ne.join("/").substr(-1)!=="/"&&ne.push("");var Y=ne[0]===""||ne[0]&&ne[0].charAt(0)==="/";if(F){L.hostname=L.host=Y?"":ne.length?ne.shift():"";var Z=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;Z&&(L.auth=Z.shift(),L.host=L.hostname=Z.shift())}return X=X||L.host&&ne.length,X&&!Y&&ne.unshift(""),ne.length?L.pathname=ne.join("/"):(L.pathname=null,L.path=null),(!u.isNull(L.pathname)||!u.isNull(L.search))&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.auth=x.auth||L.auth,L.slashes=L.slashes||x.slashes,L.href=L.format(),L},p.prototype.parseHost=function(){var x=this.host,q=h.exec(x);q&&(q=q[0],q!==":"&&(this.port=q.substr(1)),x=x.substr(0,x.length-q.length)),x&&(this.hostname=x)}},{"./util":91,punycode:86,querystring:89}],91:[function(n,i,o){"use strict";i.exports={isString:function(s){return typeof s=="string"},isObject:function(s){return typeof s=="object"&&s!==null},isNull:function(s){return s===null},isNullOrUndefined:function(s){return s==null}}},{}]},{},[17])(17)})});var Zo=null;var Qo=1,ec=Symbol("SIGNAL");function Ae(e){let t=Zo;return Zo=e,t}function tc(){return Zo}var Ko={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tp(e){if(!(ns(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Qo)){if(!e.producerMustRecompute(e)&&!Xo(e)){e.dirty=!1,e.lastCleanEpoch=Qo;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Qo}}function Jo(e){return e&&(e.nextProducerIndex=0),Ae(e)}function nc(e,t){if(Ae(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ns(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ts(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Xo(e){rs(e);for(let t=0;t<e.producerNode.length;t++){let r=e.producerNode[t],n=e.producerLastReadVersion[t];if(n!==r.version||(tp(r),n!==r.version))return!0}return!1}function es(e){if(rs(e),ns(e))for(let t=0;t<e.producerNode.length;t++)ts(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ts(e,t){if(np(e),e.liveConsumerNode.length===1&&rp(e))for(let n=0;n<e.producerNode.length;n++)ts(e.producerNode[n],e.producerIndexOfThis[n]);let r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let n=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];rs(i),i.producerIndexOfThis[n]=t}}function ns(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function rs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function np(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function rp(e){return e.producerNode!==void 0}function ip(){throw new Error}var op=ip;function rc(e){op=e}function pe(e){return typeof e=="function"}function Dn(e){let r=e(n=>{Error.call(n),n.stack=new Error().stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var ui=Dn(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:
${r.map((n,i)=>`${i+1}) ${n.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=r});function gr(e,t){if(e){let r=e.indexOf(t);0<=r&&e.splice(r,1)}}var je=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(let o of r)o.remove(this);else r.remove(this);let{initialTeardown:n}=this;if(pe(n))try{n()}catch(o){t=o instanceof ui?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ic(o)}catch(s){t=t??[],s instanceof ui?t=[...t,...s.errors]:t.push(s)}}if(t)throw new ui(t)}}add(t){var r;if(t&&t!==this)if(this.closed)ic(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(t)}}_hasParent(t){let{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){let{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){let{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&gr(r,t)}remove(t){let{_finalizers:r}=this;r&&gr(r,t),t instanceof e&&t._removeParent(this)}};je.EMPTY=(()=>{let e=new je;return e.closed=!0,e})();var is=je.EMPTY;function ci(e){return e instanceof je||e&&"closed"in e&&pe(e.remove)&&pe(e.add)&&pe(e.unsubscribe)}function ic(e){pe(e)?e():e.unsubscribe()}var ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var In={setTimeout(e,t,...r){let{delegate:n}=In;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){let{delegate:t}=In;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function li(e){In.setTimeout(()=>{let{onUnhandledError:t}=ct;if(t)t(e);else throw e})}function mr(){}var oc=os("C",void 0,void 0);function sc(e){return os("E",void 0,e)}function ac(e){return os("N",e,void 0)}function os(e,t,r){return{kind:e,value:t,error:r}}var Zt=null;function Cn(e){if(ct.useDeprecatedSynchronousErrorHandling){let t=!Zt;if(t&&(Zt={errorThrown:!1,error:null}),e(),t){let{errorThrown:r,error:n}=Zt;if(Zt=null,r)throw n}}else e()}function uc(e){ct.useDeprecatedSynchronousErrorHandling&&Zt&&(Zt.errorThrown=!0,Zt.error=e)}var Kt=class extends je{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,ci(t)&&t.add(this)):this.destination=up}static create(t,r,n){return new _n(t,r,n)}next(t){this.isStopped?as(ac(t),this):this._next(t)}error(t){this.isStopped?as(sc(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?as(oc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sp=Function.prototype.bind;function ss(e,t){return sp.call(e,t)}var us=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){fi(n)}}error(t){let{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){fi(n)}else fi(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){fi(r)}}},_n=class extends Kt{constructor(t,r,n){super();let i;if(pe(t)||!t)i={next:t??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&ct.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&ss(t.next,o),error:t.error&&ss(t.error,o),complete:t.complete&&ss(t.complete,o)}):i=t}this.destination=new us(i)}};function fi(e){ct.useDeprecatedSynchronousErrorHandling?uc(e):li(e)}function ap(e){throw e}function as(e,t){let{onStoppedNotification:r}=ct;r&&In.setTimeout(()=>r(e,t))}var up={closed:!0,next:mr,error:ap,complete:mr};var Sn=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ke(e){return e}function cs(...e){return ls(e)}function ls(e){return e.length===0?Ke:e.length===1?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}var Ce=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){let n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,i){let o=lp(r)?r:new _n(r,n,i);return Cn(()=>{let{operator:s,source:u}=this;o.add(s?s.call(o,u):u?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return n=cc(n),new n((i,o)=>{let s=new _n({next:u=>{try{r(u)}catch(p){o(p),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(r){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(r)}[Sn](){return this}pipe(...r){return ls(r)(this)}toPromise(r){return r=cc(r),new r((n,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>n(o))})}}return e.create=t=>new e(t),e})();function cc(e){var t;return(t=e??ct.Promise)!==null&&t!==void 0?t:Promise}function cp(e){return e&&pe(e.next)&&pe(e.error)&&pe(e.complete)}function lp(e){return e&&e instanceof Kt||cp(e)&&ci(e)}function fs(e){return pe(e?.lift)}function Ie(e){return t=>{if(fs(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Me(e,t,r,n,i){return new ds(e,t,r,n,i)}var ds=class extends Kt{constructor(t,r,n,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=r?function(u){try{r(u)}catch(p){t.error(p)}}:super._next,this._error=i?function(u){try{i(u)}catch(p){t.error(p)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:r}=this;super.unsubscribe(),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function Ut(){return Ie((e,t)=>{let r=null;e._refCount++;let n=Me(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){r=null;return}let i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}var Vt=class extends Ce{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,fs(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new je;let r=this.getSubject();t.add(this.source.subscribe(Me(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=je.EMPTY)}return t}refCount(){return Ut()(this)}};var lc=Dn(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class e extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){let n=new di(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new lc}next(r){Cn(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let n of this.currentObservers)n.next(r)}})}error(r){Cn(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;let{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){Cn(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){let{hasError:n,isStopped:i,observers:o}=this;return n||i?is:(this.currentObservers=null,o.push(r),new je(()=>{this.currentObservers=null,gr(o,r)}))}_checkFinalizedStatuses(r){let{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){let r=new Ce;return r.source=this,r}}return e.create=(t,r)=>new di(t,r),e})(),di=class extends Fe{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.next)===null||n===void 0||n.call(r,t)}error(t){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.error)===null||n===void 0||n.call(r,t)}complete(){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||r===void 0||r.call(t)}_subscribe(t){var r,n;return(n=(r=this.source)===null||r===void 0?void 0:r.subscribe(t))!==null&&n!==void 0?n:is}};var Be=class extends Fe{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){let{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}};var hs={now(){return(hs.delegate||Date).now()},delegate:void 0};var hi=class extends Fe{constructor(t=1/0,r=1/0,n=hs){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){let{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;r||(n.push(t),!i&&n.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!t.closed;s+=n?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){let{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!i){let s=r.now(),u=0;for(let p=1;p<n.length&&n[p]<=s;p+=2)u=p;u&&n.splice(0,u+1)}}};var We=new Ce(e=>e.complete());function fc(e){return e&&pe(e.schedule)}function ps(e){return e[e.length-1]}function dc(e){return pe(ps(e))?e.pop():void 0}function mt(e){return fc(ps(e))?e.pop():void 0}function hc(e,t){return typeof ps(e)=="number"?e.pop():t}function gc(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function u(h){try{f(n.next(h))}catch(d){s(d)}}function p(h){try{f(n.throw(h))}catch(d){s(d)}}function f(h){h.done?o(h.value):i(h.value).then(u,p)}f((n=n.apply(e,t||[])).next())})}function pc(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Jt(e){return this instanceof Jt?(this.v=e,this):new Jt(e)}function mc(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(a){return function(c){return Promise.resolve(c).then(a,d)}}function u(a,c){n[a]&&(i[a]=function(g){return new Promise(function(w,b){o.push([a,g,w,b])>1||p(a,g)})},c&&(i[a]=c(i[a])))}function p(a,c){try{f(n[a](c))}catch(g){l(o[0][3],g)}}function f(a){a.value instanceof Jt?Promise.resolve(a.value.v).then(h,d):l(o[0][2],a)}function h(a){p("next",a)}function d(a){p("throw",a)}function l(a,c){a(c),o.shift(),o.length&&p(o[0][0],o[0][1])}}function yc(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof pc=="function"?pc(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(s){return new Promise(function(u,p){s=e[o](s),i(u,p,s.done,s.value)})}}function i(o,s,u,p){Promise.resolve(p).then(function(f){o({value:f,done:u})},s)}}var pi=e=>e&&typeof e.length=="number"&&typeof e!="function";function gi(e){return pe(e?.then)}function mi(e){return pe(e[Sn])}function yi(e){return Symbol.asyncIterator&&pe(e?.[Symbol.asyncIterator])}function vi(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wi=fp();function bi(e){return pe(e?.[wi])}function Ei(e){return mc(this,arguments,function*(){let r=e.getReader();try{for(;;){let{value:n,done:i}=yield Jt(r.read());if(i)return yield Jt(void 0);yield yield Jt(n)}}finally{r.releaseLock()}})}function Di(e){return pe(e?.getReader)}function Le(e){if(e instanceof Ce)return e;if(e!=null){if(mi(e))return dp(e);if(pi(e))return hp(e);if(gi(e))return pp(e);if(yi(e))return vc(e);if(bi(e))return gp(e);if(Di(e))return mp(e)}throw vi(e)}function dp(e){return new Ce(t=>{let r=e[Sn]();if(pe(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hp(e){return new Ce(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function pp(e){return new Ce(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,li)})}function gp(e){return new Ce(t=>{for(let r of e)if(t.next(r),t.closed)return;t.complete()})}function vc(e){return new Ce(t=>{yp(e,t).catch(r=>t.error(r))})}function mp(e){return vc(Ei(e))}function yp(e,t){var r,n,i,o;return gc(this,void 0,void 0,function*(){try{for(r=yc(e);n=yield r.next(),!n.done;){let s=n.value;if(t.next(s),t.closed)return}}catch(s){i={error:s}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}t.complete()})}function Qe(e,t,r,n=0,i=!1){let o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function Ii(e,t=0){return Ie((r,n)=>{r.subscribe(Me(n,i=>Qe(n,e,()=>n.next(i),t),()=>Qe(n,e,()=>n.complete(),t),i=>Qe(n,e,()=>n.error(i),t)))})}function Ci(e,t=0){return Ie((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function wc(e,t){return Le(e).pipe(Ci(t),Ii(t))}function bc(e,t){return Le(e).pipe(Ci(t),Ii(t))}function Ec(e,t){return new Ce(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}function Dc(e,t){return new Ce(r=>{let n;return Qe(r,t,()=>{n=e[wi](),Qe(r,t,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(s){r.error(s);return}o?r.complete():r.next(i)},0,!0)}),()=>pe(n?.return)&&n.return()})}function _i(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ce(r=>{Qe(r,t,()=>{let n=e[Symbol.asyncIterator]();Qe(r,t,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Ic(e,t){return _i(Ei(e),t)}function Cc(e,t){if(e!=null){if(mi(e))return wc(e,t);if(pi(e))return Ec(e,t);if(gi(e))return bc(e,t);if(yi(e))return _i(e,t);if(bi(e))return Dc(e,t);if(Di(e))return Ic(e,t)}throw vi(e)}function Ue(e,t){return t?Cc(e,t):Le(e)}function ye(...e){let t=mt(e);return Ue(e,t)}function Mn(e,t){let r=pe(e)?e:()=>e,n=i=>i.error(r());return new Ce(t?i=>t.schedule(n,0,i):n)}function gs(e){return!!e&&(e instanceof Ce||pe(e.lift)&&pe(e.subscribe))}var Mt=Dn(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function _e(e,t){return Ie((r,n)=>{let i=0;r.subscribe(Me(n,o=>{n.next(e.call(t,o,i++))}))})}var{isArray:vp}=Array;function wp(e,t){return vp(t)?e(...t):e(t)}function _c(e){return _e(t=>wp(e,t))}var{isArray:bp}=Array,{getPrototypeOf:Ep,prototype:Dp,keys:Ip}=Object;function Sc(e){if(e.length===1){let t=e[0];if(bp(t))return{args:t,keys:null};if(Cp(t)){let r=Ip(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}function Cp(e){return e&&typeof e=="object"&&Ep(e)===Dp}function Mc(e,t){return e.reduce((r,n,i)=>(r[n]=t[i],r),{})}function Si(...e){let t=mt(e),r=dc(e),{args:n,keys:i}=Sc(e);if(n.length===0)return Ue([],t);let o=new Ce(_p(n,t,i?s=>Mc(i,s):Ke));return r?o.pipe(_c(r)):o}function _p(e,t,r=Ke){return n=>{xc(t,()=>{let{length:i}=e,o=new Array(i),s=i,u=i;for(let p=0;p<i;p++)xc(t,()=>{let f=Ue(e[p],t),h=!1;f.subscribe(Me(n,d=>{o[p]=d,h||(h=!0,u--),u||n.next(r(o.slice()))},()=>{--s||n.complete()}))},n)},n)}}function xc(e,t,r){e?Qe(r,e,t):t()}function Tc(e,t,r,n,i,o,s,u){let p=[],f=0,h=0,d=!1,l=()=>{d&&!p.length&&!f&&t.complete()},a=g=>f<n?c(g):p.push(g),c=g=>{o&&t.next(g),f++;let w=!1;Le(r(g,h++)).subscribe(Me(t,b=>{i?.(b),o?a(b):t.next(b)},()=>{w=!0},void 0,()=>{if(w)try{for(f--;p.length&&f<n;){let b=p.shift();s?Qe(t,s,()=>c(b)):c(b)}l()}catch(b){t.error(b)}}))};return e.subscribe(Me(t,a,()=>{d=!0,l()})),()=>{u?.()}}function $e(e,t,r=1/0){return pe(t)?$e((n,i)=>_e((o,s)=>t(n,o,i,s))(Le(e(n,i))),r):(typeof t=="number"&&(r=t),Ie((n,i)=>Tc(n,i,e,r)))}function yr(e=1/0){return $e(Ke,e)}function Ac(){return yr(1)}function xn(...e){return Ac()(Ue(e,mt(e)))}function Mi(e){return new Ce(t=>{Le(e()).subscribe(t)})}function ms(...e){let t=mt(e),r=hc(e,1/0),n=e;return n.length?n.length===1?Le(n[0]):yr(r)(Ue(n,t)):We}function Je(e,t){return Ie((r,n)=>{let i=0;r.subscribe(Me(n,o=>e.call(t,o,i++)&&n.next(o)))})}function ys(e,t){return new Ce(r=>{let n=e(),i=t(n);return(i?Le(i):We).subscribe(r),()=>{n&&n.unsubscribe()}})}function Ht(e){return Ie((t,r)=>{let n=null,i=!1,o;n=t.subscribe(Me(r,void 0,void 0,s=>{o=Le(e(s,Ht(e)(t))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function Nc(e,t,r,n,i){return(o,s)=>{let u=r,p=t,f=0;o.subscribe(Me(s,h=>{let d=f++;p=u?e(p,h,d):(u=!0,h),n&&s.next(p)},i&&(()=>{u&&s.next(p),s.complete()})))}}function Tn(e,t){return pe(t)?$e(e,t,1):$e(e,1)}function Rc(e){return new Ce(t=>e.subscribe(t))}var Sp={connector:()=>new Fe};function xi(e,t=Sp){let{connector:r}=t;return Ie((n,i)=>{let o=r();Le(e(Rc(o))).subscribe(i),i.add(n.subscribe(o))})}function $t(e){return Ie((t,r)=>{let n=!1;t.subscribe(Me(r,i=>{n=!0,r.next(i)},()=>{n||r.next(e),r.complete()}))})}function xt(e){return e<=0?()=>We:Ie((t,r)=>{let n=0;t.subscribe(Me(r,i=>{++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function vs(e){return _e(()=>e)}function Ti(e=Mp){return Ie((t,r)=>{let n=!1;t.subscribe(Me(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(e())))})}function Mp(){return new Mt}function vr(e){return Ie((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}function yt(e,t){let r=arguments.length>=2;return n=>n.pipe(e?Je((i,o)=>e(i,o,n)):Ke,xt(1),r?$t(t):Ti(()=>new Mt))}function An(e){return e<=0?()=>We:Ie((t,r)=>{let n=[];t.subscribe(Me(r,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(let i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function ws(e,t){let r=arguments.length>=2;return n=>n.pipe(e?Je((i,o)=>e(i,o,n)):Ke,An(1),r?$t(t):Ti(()=>new Mt))}function Ai(e,t){let r=pe(e)?e:()=>e;return pe(t)?xi(t,{connector:r}):n=>new Vt(n,r)}function bs(e){return e?t=>xi(e)(t):t=>Ai(new Fe)(t)}function Es(e,t,r,n){r&&!pe(r)&&(n=r);let i=pe(r)?r:void 0;return o=>Ai(new hi(e,t,n),i)(o)}function Ds(e,t){return Ie(Nc(e,t,arguments.length>=2,!0))}function Is(...e){let t=mt(e);return Ie((r,n)=>{(t?xn(e,r,t):xn(e,r)).subscribe(n)})}function lt(e,t){return Ie((r,n)=>{let i=null,o=0,s=!1,u=()=>s&&!i&&n.complete();r.subscribe(Me(n,p=>{i?.unsubscribe();let f=0,h=o++;Le(e(p,h)).subscribe(i=Me(n,d=>n.next(t?t(p,d,h,f++):d),()=>{i=null,u()}))},()=>{s=!0,u()}))})}function Cs(e){return Ie((t,r)=>{Le(e).subscribe(Me(r,()=>r.complete(),mr)),!r.closed&&t.subscribe(r)})}function ze(e,t,r){let n=pe(e)||t||r?{next:e,error:t,complete:r}:e;return n?Ie((i,o)=>{var s;(s=n.subscribe)===null||s===void 0||s.call(n);let u=!0;i.subscribe(Me(o,p=>{var f;(f=n.next)===null||f===void 0||f.call(n,p),o.next(p)},()=>{var p;u=!1,(p=n.complete)===null||p===void 0||p.call(n),o.complete()},p=>{var f;u=!1,(f=n.error)===null||f===void 0||f.call(n,p),o.error(p)},()=>{var p,f;u&&((p=n.unsubscribe)===null||p===void 0||p.call(n)),(f=n.finalize)===null||f===void 0||f.call(n)}))}):Ke}var xp="https://g.co/ng/security#xss",ge=class extends Error{constructor(t,r){super(ya(t,r)),this.code=t}};function ya(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function io(e){return{toString:e}.toString()}function Ne(e){for(let t in e)if(e[t]===Ne)return t;throw Error("Could not find renamed property on target object.")}function Ze(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(Ze).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r===-1?t:t.substring(0,r)}function Oc(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var Tp=Ne({__forward_ref__:Ne});function yl(e){return e.__forward_ref__=yl,e.toString=function(){return Ze(this())},e}function it(e){return vl(e)?e():e}function vl(e){return typeof e=="function"&&e.hasOwnProperty(Tp)&&e.__forward_ref__===yl}function he(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function zn(e){return{providers:e.providers||[],imports:e.imports||[]}}function oo(e){return Pc(e,bl)||Pc(e,El)}function wl(e){return oo(e)!==null}function Pc(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ap(e){let t=e&&(e[bl]||e[El]);return t||null}function kc(e){return e&&(e.hasOwnProperty(Fc)||e.hasOwnProperty(Np))?e[Fc]:null}var bl=Ne({\u0275prov:Ne}),Fc=Ne({\u0275inj:Ne}),El=Ne({ngInjectableDef:Ne}),Np=Ne({ngInjectorDef:Ne}),me=class{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof r=="number"?this.__NG_ELEMENT_ID__=r:r!==void 0&&(this.\u0275prov=he({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Dl(e){return e&&!!e.\u0275providers}var Rp=Ne({\u0275cmp:Ne}),Op=Ne({\u0275dir:Ne}),Pp=Ne({\u0275pipe:Ne}),kp=Ne({\u0275mod:Ne}),ji=Ne({\u0275fac:Ne}),Er=Ne({__NG_ELEMENT_ID__:Ne}),Lc=Ne({__NG_ENV_ID__:Ne});function Il(e){return typeof e=="string"?e:e==null?"":String(e)}function Fp(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Il(e)}function Lp(e,t){let r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ge(-200,e)}function va(e,t){throw new ge(-201,!1)}var Ee=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ee||{}),Fs;function Cl(){return Fs}function rt(e){let t=Fs;return Fs=e,t}function _l(e,t,r){let n=oo(e);if(n&&n.providedIn=="root")return n.value===void 0?n.value=n.factory():n.value;if(r&Ee.Optional)return null;if(t!==void 0)return t;va(e,"Injector")}var jp={},Dr=jp,Bp="__NG_DI_FLAG__",Bi="ngTempTokenPath",Up="ngTokenPath",Vp=/\n/gm,Hp="\u0275",jc="__source",Pn;function $p(){return Pn}function Wt(e){let t=Pn;return Pn=e,t}function Wp(e,t=Ee.Default){if(Pn===void 0)throw new ge(-203,!1);return Pn===null?_l(e,void 0,t):Pn.get(e,t&Ee.Optional?null:void 0,t)}function we(e,t=Ee.Default){return(Cl()||Wp)(it(e),t)}function ce(e,t=Ee.Default){return we(e,so(t))}function so(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ls(e){let t=[];for(let r=0;r<e.length;r++){let n=it(e[r]);if(Array.isArray(n)){if(n.length===0)throw new ge(900,!1);let i,o=Ee.Default;for(let s=0;s<n.length;s++){let u=n[s],p=zp(u);typeof p=="number"?p===-1?i=u.token:o|=p:i=u}t.push(we(i,o))}else t.push(we(n))}return t}function zp(e){return e[Bp]}function qp(e,t,r,n){let i=e[Bi];throw t[jc]&&i.unshift(t[jc]),e.message=Gp(`
`+e.message,i,r,n),e[Up]=i,e[Bi]=null,e}function Gp(e,t,r,n=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Hp?e.slice(2):e;let i=Ze(t);if(Array.isArray(t))i=t.map(Ze).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let u=t[s];o.push(s+":"+(typeof u=="string"?JSON.stringify(u):Ze(u)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(Vp,`
  `)}`}function Fn(e,t){let r=e.hasOwnProperty(ji);return r?e[ji]:null}function wa(e,t){e.forEach(r=>Array.isArray(r)?wa(r,t):t(r))}function Sl(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Ui(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Yp(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(i===1)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=r,e[t+1]=n}}function Qp(e,t,r){let n=Rr(e,t);return n>=0?e[n|1]=r:(n=~n,Yp(e,n,t,r)),n}function _s(e,t){let r=Rr(e,t);if(r>=0)return e[r|1]}function Rr(e,t){return Zp(e,t,1)}function Zp(e,t,r){let n=0,i=e.length>>r;for(;i!==n;){let o=n+(i-n>>1),s=e[o<<r];if(t===s)return o<<r;s>t?i=o:n=o+1}return~(i<<r)}var Ir={},dt=[],Ln=new me(""),Ml=new me("",-1),xl=new me(""),Vi=class{get(t,r=Dr){if(r===Dr){let n=new Error(`NullInjectorError: No provider for ${Ze(t)}!`);throw n.name="NullInjectorError",n}return r}},Tl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Tl||{}),bt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(bt||{}),qt=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(qt||{});function Kp(e,t,r){let n=e.length;for(;;){let i=e.indexOf(t,r);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}r=i+1}}function js(e,t,r){let n=0;for(;n<r.length;){let i=r[n];if(typeof i=="number"){if(i!==0)break;n++;let o=r[n++],s=r[n++],u=r[n++];e.setAttribute(t,s,u,o)}else{let o=i,s=r[++n];Xp(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),n++}}return n}function Jp(e){return e===3||e===4||e===6}function Xp(e){return e.charCodeAt(0)===64}function ba(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){let i=t[n];typeof i=="number"?r=i:r===0||(r===-1||r===2?Bc(e,r,i,null,t[++n]):Bc(e,r,i,null,null))}}return e}function Bc(e,t,r,n,i){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let u=e[o++];if(typeof u=="number"){if(u===t){s=-1;break}else if(u>t){s=o-1;break}}}for(;o<e.length;){let u=e[o];if(typeof u=="number")break;if(u===r){if(n===null){i!==null&&(e[o+1]=i);return}else if(n===e[o+1]){e[o+2]=i;return}}o++,n!==null&&o++,i!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,r),n!==null&&e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}var Al="ng-template";function eg(e,t,r,n){let i=0;if(n){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&Kp(t[i+1].toLowerCase(),r,0)!==-1)return!0}else if(Ea(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===r)return!0}return!1}function Ea(e){return e.type===4&&e.value!==Al}function tg(e,t,r){let n=e.type===4&&!r?Al:e.value;return t===n}function ng(e,t,r){let n=4,i=e.attrs,o=i!==null?og(i):0,s=!1;for(let u=0;u<t.length;u++){let p=t[u];if(typeof p=="number"){if(!s&&!ft(n)&&!ft(p))return!1;if(s&&ft(p))continue;s=!1,n=p|n&1;continue}if(!s)if(n&4){if(n=2|n&1,p!==""&&!tg(e,p,r)||p===""&&t.length===1){if(ft(n))return!1;s=!0}}else if(n&8){if(i===null||!eg(e,i,p,r)){if(ft(n))return!1;s=!0}}else{let f=t[++u],h=rg(p,i,Ea(e),r);if(h===-1){if(ft(n))return!1;s=!0;continue}if(f!==""){let d;if(h>o?d="":d=i[h+1].toLowerCase(),n&2&&f!==d){if(ft(n))return!1;s=!0}}}}return ft(n)||s}function ft(e){return(e&1)===0}function rg(e,t,r,n){if(t===null)return-1;let i=0;if(n||!r){let o=!1;for(;i<t.length;){let s=t[i];if(s===e)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let u=t[++i];for(;typeof u=="string";)u=t[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return sg(t,e)}function ig(e,t,r=!1){for(let n=0;n<t.length;n++)if(ng(e,t[n],r))return!0;return!1}function og(e){for(let t=0;t<e.length;t++){let r=e[t];if(Jp(r))return t}return e.length}function sg(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){let n=e[r];if(typeof n=="number")return-1;if(n===t)return r;r++}return-1}function Uc(e,t){return e?":not("+t.trim()+")":t}function ag(e){let t=e[0],r=1,n=2,i="",o=!1;for(;r<e.length;){let s=e[r];if(typeof s=="string")if(n&2){let u=e[++r];i+="["+s+(u.length>0?'="'+u+'"':"")+"]"}else n&8?i+="."+s:n&4&&(i+=" "+s);else i!==""&&!ft(s)&&(t+=Uc(o,i),i=""),n=s,o=o||!ft(n);r++}return i!==""&&(t+=Uc(o,i)),t}function ug(e){return e.map(ag).join(",")}function cg(e){let t=[],r=[],n=1,i=2;for(;n<e.length;){let o=e[n];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++n]):i===8&&r.push(o);else{if(!ft(i))break;i=o}n++}return{attrs:t,classes:r}}function ao(e){return io(()=>{let t=kl(e),r=Pe(fe({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Tl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||bt.Emulated,styles:e.styles||dt,_:null,schemas:e.schemas||null,tView:null,id:""});Fl(r);let n=e.dependencies;return r.directiveDefs=Hc(n,!1),r.pipeDefs=Hc(n,!0),r.id=dg(r),r})}function lg(e){return rn(e)||Nl(e)}function fg(e){return e!==null}function qn(e){return io(()=>({type:e.type,bootstrap:e.bootstrap||dt,declarations:e.declarations||dt,imports:e.imports||dt,exports:e.exports||dt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Vc(e,t){if(e==null)return Ir;let r={};for(let n in e)if(e.hasOwnProperty(n)){let i=e[n],o,s,u=qt.None;Array.isArray(i)?(u=i[0],o=i[1],s=i[2]??o):(o=i,s=i),t?(r[o]=u!==qt.None?[n,u]:n,t[o]=s):r[o]=n}return r}function Da(e){return io(()=>{let t=kl(e);return Fl(t),t})}function rn(e){return e[Rp]||null}function Nl(e){return e[Op]||null}function Rl(e){return e[Pp]||null}function Ol(e){let t=rn(e)||Nl(e)||Rl(e);return t!==null?t.standalone:!1}function Pl(e,t){let r=e[kp]||null;if(!r&&t===!0)throw new Error(`Type ${Ze(e)} does not have '\u0275mod' property.`);return r}function kl(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Ir,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||dt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vc(e.inputs,t),outputs:Vc(e.outputs),debugInfo:null}}function Fl(e){e.features?.forEach(t=>t(e))}function Hc(e,t){if(!e)return null;let r=t?Rl:lg;return()=>(typeof e=="function"?e():e).map(n=>r(n)).filter(fg)}function dg(e){let t=0,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let i of r)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function uo(e){return{\u0275providers:e}}function Ia(...e){return{\u0275providers:Ll(!0,e),\u0275fromNgModule:!0}}function Ll(e,...t){let r=[],n=new Set,i,o=s=>{r.push(s)};return wa(t,s=>{let u=s;Bs(u,o,[],n)&&(i||=[],i.push(u))}),i!==void 0&&jl(i,o),r}function jl(e,t){for(let r=0;r<e.length;r++){let{ngModule:n,providers:i}=e[r];Ca(i,o=>{t(o,n)})}}function Bs(e,t,r,n){if(e=it(e),!e)return!1;let i=null,o=kc(e),s=!o&&rn(e);if(!o&&!s){let p=e.ngModule;if(o=kc(p),o)i=p;else return!1}else{if(s&&!s.standalone)return!1;i=e}let u=n.has(i);if(s){if(u)return!1;if(n.add(i),s.dependencies){let p=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let f of p)Bs(f,t,r,n)}}else if(o){if(o.imports!=null&&!u){n.add(i);let f;try{wa(o.imports,h=>{Bs(h,t,r,n)&&(f||=[],f.push(h))})}finally{}f!==void 0&&jl(f,t)}if(!u){let f=Fn(i)||(()=>new i);t({provide:i,useFactory:f,deps:dt},i),t({provide:xl,useValue:i,multi:!0},i),t({provide:Ln,useValue:()=>we(i),multi:!0},i)}let p=o.providers;if(p!=null&&!u){let f=e;Ca(p,h=>{t(h,f)})}}else return!1;return i!==e&&e.providers!==void 0}function Ca(e,t){for(let r of e)Dl(r)&&(r=r.\u0275providers),Array.isArray(r)?Ca(r,t):t(r)}var hg=Ne({provide:String,useValue:Ne});function Bl(e){return e!==null&&typeof e=="object"&&hg in e}function pg(e){return!!(e&&e.useExisting)}function gg(e){return!!(e&&e.useFactory)}function Us(e){return typeof e=="function"}var co=new me(""),Oi={},mg={},Ss;function _a(){return Ss===void 0&&(Ss=new Vi),Ss}var at=class{},Cr=class extends at{get destroyed(){return this._destroyed}constructor(t,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Hs(t,s=>this.processProvider(s)),this.records.set(Ml,Nn(void 0,this)),i.has("environment")&&this.records.set(at,Nn(void 0,this));let o=this.records.get(co);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xl,dt,Ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=Ae(null);try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let r=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of r)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ae(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let r=Wt(this),n=rt(void 0),i;try{return t()}finally{Wt(r),rt(n)}}get(t,r=Dr,n=Ee.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(Lc))return t[Lc](this);n=so(n);let i,o=Wt(this),s=rt(void 0);try{if(!(n&Ee.SkipSelf)){let p=this.records.get(t);if(p===void 0){let f=Dg(t)&&oo(t);f&&this.injectableDefInScope(f)?p=Nn(Vs(t),Oi):p=null,this.records.set(t,p)}if(p!=null)return this.hydrate(t,p)}let u=n&Ee.Self?_a():this.parent;return r=n&Ee.Optional&&r===Dr?null:r,u.get(t,r)}catch(u){if(u.name==="NullInjectorError"){if((u[Bi]=u[Bi]||[]).unshift(Ze(t)),o)throw u;return qp(u,t,"R3InjectorError",this.source)}else throw u}finally{rt(s),Wt(o)}}resolveInjectorInitializers(){let t=Ae(null),r=Wt(this),n=rt(void 0),i;try{let o=this.get(Ln,dt,Ee.Self);for(let s of o)s()}finally{Wt(r),rt(n),Ae(t)}}toString(){let t=[],r=this.records;for(let n of r.keys())t.push(Ze(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(t){t=it(t);let r=Us(t)?t:it(t&&t.provide),n=vg(t);if(!Us(t)&&t.multi===!0){let i=this.records.get(r);i||(i=Nn(void 0,Oi,!0),i.factory=()=>Ls(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}this.records.set(r,n)}hydrate(t,r){let n=Ae(null);try{return r.value===Oi&&(r.value=mg,r.value=r.factory()),typeof r.value=="object"&&r.value&&Eg(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{Ae(n)}}injectableDefInScope(t){if(!t.providedIn)return!1;let r=it(t.providedIn);return typeof r=="string"?r==="any"||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){let r=this._onDestroyHooks.indexOf(t);r!==-1&&this._onDestroyHooks.splice(r,1)}};function Vs(e){let t=oo(e),r=t!==null?t.factory:Fn(e);if(r!==null)return r;if(e instanceof me)throw new ge(204,!1);if(e instanceof Function)return yg(e);throw new ge(204,!1)}function yg(e){if(e.length>0)throw new ge(204,!1);let r=Ap(e);return r!==null?()=>r.factory(e):()=>new e}function vg(e){if(Bl(e))return Nn(void 0,e.useValue);{let t=wg(e);return Nn(t,Oi)}}function wg(e,t,r){let n;if(Us(e)){let i=it(e);return Fn(i)||Vs(i)}else if(Bl(e))n=()=>it(e.useValue);else if(gg(e))n=()=>e.useFactory(...Ls(e.deps||[]));else if(pg(e))n=()=>we(it(e.useExisting));else{let i=it(e&&(e.useClass||e.provide));if(bg(e))n=()=>new i(...Ls(e.deps));else return Fn(i)||Vs(i)}return n}function Nn(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function bg(e){return!!e.deps}function Eg(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function Dg(e){return typeof e=="function"||typeof e=="object"&&e instanceof me}function Hs(e,t){for(let r of e)Array.isArray(r)?Hs(r,t):r&&Dl(r)?Hs(r.\u0275providers,t):t(r)}function Ot(e,t){e instanceof Cr&&e.assertNotDestroyed();let r,n=Wt(e),i=rt(void 0);try{return t()}finally{Wt(n),rt(i)}}function Ig(){return Cl()!==void 0||$p()!=null}function Cg(e){return typeof e=="function"}var Pt=0,Se=1,ve=2,Ge=3,ht=4,pt=5,Hi=6,$i=7,Tt=8,jn=9,At=10,Xe=11,_r=12,$c=13,Or=14,Et=15,Sr=16,Rn=17,lo=18,fo=19,Ul=20,zt=21,Ms=22,ot=23,on=25,Vl=1;var sn=7,Wi=8,zi=9,st=10,qi=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(qi||{});function tn(e){return Array.isArray(e)&&typeof e[Vl]=="object"}function kt(e){return Array.isArray(e)&&e[Vl]===!0}function Hl(e){return(e.flags&4)!==0}function Sa(e){return e.componentOffset>-1}function $l(e){return(e.flags&1)===1}function Pr(e){return!!e.template}function $s(e){return(e[ve]&512)!==0}var Ws=class{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}};function Wl(e,t,r,n){t!==null?t.applyValueToInputSignal(t,n):e[r]=n}function ho(){return zl}function zl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Sg),_g}ho.ngInherit=!0;function _g(){let e=Gl(this),t=e?.current;if(t){let r=e.previous;if(r===Ir)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function Sg(e,t,r,n,i){let o=this.declaredInputs[n],s=Gl(e)||Mg(e,{previous:Ir,current:null}),u=s.current||(s.current={}),p=s.previous,f=p[o];u[o]=new Ws(f&&f.currentValue,r,p===Ir),Wl(e,t,i,r)}var ql="__ngSimpleChanges__";function Gl(e){return e[ql]||null}function Mg(e,t){return e[ql]=t}var Wc=null;var vt=function(e,t,r){Wc?.(e,t,r)},xg="svg",Tg="math";function Dt(e){for(;Array.isArray(e);)e=e[Pt];return e}function Yl(e,t){return Dt(t[e])}function It(e,t){return Dt(t[e.index])}function Ag(e,t){return e.data[t]}function Gn(e,t){let r=t[e];return tn(r)?r:r[Pt]}function Ma(e){return(e[ve]&128)===128}function Ng(e){return kt(e[Ge])}function zc(e,t){return t==null?null:e[t]}function Ql(e){e[Rn]=0}function Zl(e){e[ve]&1024||(e[ve]|=1024,Ma(e)&&go(e))}function po(e){return!!(e[ve]&9216||e[ot]?.dirty)}function zs(e){e[At].changeDetectionScheduler?.notify(8),e[ve]&64&&(e[ve]|=1024),po(e)&&go(e)}function go(e){e[At].changeDetectionScheduler?.notify(0);let t=an(e);for(;t!==null&&!(t[ve]&8192||(t[ve]|=8192,!Ma(t)));)t=an(t)}function Kl(e,t){if((e[ve]&256)===256)throw new ge(911,!1);e[zt]===null&&(e[zt]=[]),e[zt].push(t)}function Rg(e,t){if(e[zt]===null)return;let r=e[zt].indexOf(t);r!==-1&&e[zt].splice(r,1)}function an(e){let t=e[Ge];return kt(t)?t[Ge]:t}var xe={lFrame:af(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Jl=!1;function Og(){return xe.lFrame.elementDepthCount}function Pg(){xe.lFrame.elementDepthCount++}function kg(){xe.lFrame.elementDepthCount--}function Xl(){return xe.bindingsEnabled}function Fg(){return xe.skipHydrationRootTNode!==null}function Lg(e){return xe.skipHydrationRootTNode===e}function jg(){xe.skipHydrationRootTNode=null}function Ye(){return xe.lFrame.lView}function Yn(){return xe.lFrame.tView}function Ct(){let e=ef();for(;e!==null&&e.type===64;)e=e.parent;return e}function ef(){return xe.lFrame.currentTNode}function Bg(){let e=xe.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function mo(e,t){let r=xe.lFrame;r.currentTNode=e,r.isParent=t}function tf(){return xe.lFrame.isParent}function Ug(){xe.lFrame.isParent=!1}function nf(){return Jl}function qc(e){Jl=e}function Vg(e){return xe.lFrame.bindingIndex=e}function Hg(){return xe.lFrame.bindingIndex++}function $g(e){let t=xe.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function Wg(){return xe.lFrame.inI18n}function zg(e,t){let r=xe.lFrame;r.bindingIndex=r.bindingRootIndex=e,qs(t)}function qg(){return xe.lFrame.currentDirectiveIndex}function qs(e){xe.lFrame.currentDirectiveIndex=e}function Gg(e){let t=xe.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function rf(e){xe.lFrame.currentQueryIndex=e}function Yg(e){let t=e[Se];return t.type===2?t.declTNode:t.type===1?e[pt]:null}function of(e,t,r){if(r&Ee.SkipSelf){let i=t,o=e;for(;i=i.parent,i===null&&!(r&Ee.Host);)if(i=Yg(o),i===null||(o=o[Or],i.type&10))break;if(i===null)return!1;t=i,e=o}let n=xe.lFrame=sf();return n.currentTNode=t,n.lView=e,!0}function xa(e){let t=sf(),r=e[Se];xe.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function sf(){let e=xe.lFrame,t=e===null?null:e.child;return t===null?af(e):t}function af(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function uf(){let e=xe.lFrame;return xe.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var cf=uf;function Ta(){let e=uf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qn(){return xe.lFrame.selectedIndex}function un(e){xe.lFrame.selectedIndex=e}function Qg(){return xe.lFrame.currentNamespace}var lf=!0;function ff(){return lf}function df(e){lf=e}function Zg(e,t,r){let{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){let s=zl(t);(r.preOrderHooks??=[]).push(e,s),(r.preOrderCheckHooks??=[]).push(e,s)}i&&(r.preOrderHooks??=[]).push(0-e,i),o&&((r.preOrderHooks??=[]).push(e,o),(r.preOrderCheckHooks??=[]).push(e,o))}function hf(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){let o=e.data[r].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:u,ngAfterViewInit:p,ngAfterViewChecked:f,ngOnDestroy:h}=o;s&&(e.contentHooks??=[]).push(-r,s),u&&((e.contentHooks??=[]).push(r,u),(e.contentCheckHooks??=[]).push(r,u)),p&&(e.viewHooks??=[]).push(-r,p),f&&((e.viewHooks??=[]).push(r,f),(e.viewCheckHooks??=[]).push(r,f)),h!=null&&(e.destroyHooks??=[]).push(r,h)}}function Pi(e,t,r){pf(e,t,3,r)}function ki(e,t,r,n){(e[ve]&3)===r&&pf(e,t,r,n)}function xs(e,t){let r=e[ve];(r&3)===t&&(r&=16383,r+=1,e[ve]=r)}function pf(e,t,r,n){let i=n!==void 0?e[Rn]&65535:0,o=n??-1,s=t.length-1,u=0;for(let p=i;p<s;p++)if(typeof t[p+1]=="number"){if(u=t[p],n!=null&&u>=n)break}else t[p]<0&&(e[Rn]+=65536),(u<o||o==-1)&&(Kg(e,r,t,p),e[Rn]=(e[Rn]&4294901760)+p+2),p++}function Gc(e,t){vt(4,e,t);let r=Ae(null);try{t.call(e)}finally{Ae(r),vt(5,e,t)}}function Kg(e,t,r,n){let i=r[n]<0,o=r[n+1],s=i?-r[n]:r[n],u=e[s];i?e[ve]>>14<e[Rn]>>16&&(e[ve]&3)===t&&(e[ve]+=16384,Gc(u,o)):Gc(u,o)}var kn=-1,Mr=class{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}};function Jg(e){return e instanceof Mr}function Xg(e){return(e.flags&8)!==0}function em(e){return(e.flags&16)!==0}var Ts={},Gs=class{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=so(n);let i=this.injector.get(t,Ts,n);return i!==Ts||r===Ts?i:this.parentInjector.get(t,r,n)}};function gf(e){return e!==kn}function Gi(e){return e&32767}function tm(e){return e>>16}function Yi(e,t){let r=tm(e),n=t;for(;r>0;)n=n[Or],r--;return n}var Ys=!0;function Yc(e){let t=Ys;return Ys=e,t}var nm=256,mf=nm-1,yf=5,rm=0,wt={};function im(e,t,r){let n;typeof r=="string"?n=r.charCodeAt(0)||0:r.hasOwnProperty(Er)&&(n=r[Er]),n==null&&(n=r[Er]=rm++);let i=n&mf,o=1<<i;t.data[e+(i>>yf)]|=o}function vf(e,t){let r=wf(e,t);if(r!==-1)return r;let n=t[Se];n.firstCreatePass&&(e.injectorIndex=t.length,As(n.data,e),As(t,null),As(n.blueprint,null));let i=Aa(e,t),o=e.injectorIndex;if(gf(i)){let s=Gi(i),u=Yi(i,t),p=u[Se].data;for(let f=0;f<8;f++)t[o+f]=u[s+f]|p[s+f]}return t[o+8]=i,o}function As(e,t){e.push(0,0,0,0,0,0,0,0,t)}function wf(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Aa(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;i!==null;){if(n=Cf(i),n===null)return kn;if(r++,i=i[Or],n.injectorIndex!==-1)return n.injectorIndex|r<<16}return kn}function om(e,t,r){im(e,t,r)}function bf(e,t,r){if(r&Ee.Optional||e!==void 0)return e;va(t,"NodeInjector")}function Ef(e,t,r,n){if(r&Ee.Optional&&n===void 0&&(n=null),!(r&(Ee.Self|Ee.Host))){let i=e[jn],o=rt(void 0);try{return i?i.get(t,n,r&Ee.Optional):_l(t,n,r&Ee.Optional)}finally{rt(o)}}return bf(n,t,r)}function Df(e,t,r,n=Ee.Default,i){if(e!==null){if(t[ve]&2048&&!(n&Ee.Self)){let s=lm(e,t,r,n,wt);if(s!==wt)return s}let o=If(e,t,r,n,wt);if(o!==wt)return o}return Ef(t,r,n,i)}function If(e,t,r,n,i){let o=um(r);if(typeof o=="function"){if(!of(t,e,n))return n&Ee.Host?bf(i,r,n):Ef(t,r,n,i);try{let s;if(s=o(n),s==null&&!(n&Ee.Optional))va(r);else return s}finally{cf()}}else if(typeof o=="number"){let s=null,u=wf(e,t),p=kn,f=n&Ee.Host?t[Et][pt]:null;for((u===-1||n&Ee.SkipSelf)&&(p=u===-1?Aa(e,t):t[u+8],p===kn||!Zc(n,!1)?u=-1:(s=t[Se],u=Gi(p),t=Yi(p,t)));u!==-1;){let h=t[Se];if(Qc(o,u,h.data)){let d=sm(u,t,r,s,n,f);if(d!==wt)return d}p=t[u+8],p!==kn&&Zc(n,t[Se].data[u+8]===f)&&Qc(o,u,t)?(s=h,u=Gi(p),t=Yi(p,t)):u=-1}}return i}function sm(e,t,r,n,i,o){let s=t[Se],u=s.data[e+8],p=n==null?Sa(u)&&Ys:n!=s&&(u.type&3)!==0,f=i&Ee.Host&&o===u,h=am(u,s,r,p,f);return h!==null?xr(t,s,h,u):wt}function am(e,t,r,n,i){let o=e.providerIndexes,s=t.data,u=o&1048575,p=e.directiveStart,f=e.directiveEnd,h=o>>20,d=n?u:u+h,l=i?u+h:f;for(let a=d;a<l;a++){let c=s[a];if(a<p&&r===c||a>=p&&c.type===r)return a}if(i){let a=s[p];if(a&&Pr(a)&&a.type===r)return p}return null}function xr(e,t,r,n){let i=e[r],o=t.data;if(Jg(i)){let s=i;s.resolving&&Lp(Fp(o[r]));let u=Yc(s.canSeeViewProviders);s.resolving=!0;let p,f=s.injectImpl?rt(s.injectImpl):null,h=of(e,n,Ee.Default);try{i=e[r]=s.factory(void 0,o,e,n),t.firstCreatePass&&r>=n.directiveStart&&Zg(r,o[r],t)}finally{f!==null&&rt(f),Yc(u),s.resolving=!1,cf()}}return i}function um(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Er)?e[Er]:void 0;return typeof t=="number"?t>=0?t&mf:cm:t}function Qc(e,t,r){let n=1<<e;return!!(r[t+(e>>yf)]&n)}function Zc(e,t){return!(e&Ee.Self)&&!(e&Ee.Host&&t)}var nn=class{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return Df(this._tNode,this._lView,t,so(n),r)}};function cm(){return new nn(Ct(),Ye())}function Na(e){return io(()=>{let t=e.prototype.constructor,r=t[ji]||Qs(t),n=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){let o=i[ji]||Qs(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Qs(e){return vl(e)?()=>{let t=Qs(it(e));return t&&t()}:Fn(e)}function lm(e,t,r,n,i){let o=e,s=t;for(;o!==null&&s!==null&&s[ve]&2048&&!(s[ve]&512);){let u=If(o,s,r,n|Ee.Self,wt);if(u!==wt)return u;let p=o.parent;if(!p){let f=s[Ul];if(f){let h=f.get(r,wt,n);if(h!==wt)return h}p=Cf(s),s=s[Or]}o=p}return i}function Cf(e){let t=e[Se],r=t.type;return r===2?t.declTNode:r===1?e[pt]:null}function Kc(e,t=null,r=null,n){let i=_f(e,t,r,n);return i.resolveInjectorInitializers(),i}function _f(e,t=null,r=null,n,i=new Set){let o=[r||dt,Ia(e)];return n=n||(typeof e=="object"?void 0:Ze(e)),new Cr(o,t||_a(),n||null,i)}var Xt=class Xt{static create(t,r){if(Array.isArray(t))return Kc({name:""},r,t,"");{let n=t.name??"";return Kc({name:n},t.parent,t.providers,n)}}};Xt.THROW_IF_NOT_FOUND=Dr,Xt.NULL=new Vi,Xt.\u0275prov=he({token:Xt,providedIn:"any",factory:()=>we(Ml)}),Xt.__NG_ELEMENT_ID__=-1;var cn=Xt;var fm=new me("");fm.__NG_ELEMENT_ID__=e=>{let t=Ct();if(t===null)throw new ge(204,!1);if(t.type&2)return t.value;if(e&Ee.Optional)return null;throw new ge(204,!1)};var dm="ngOriginalError";function Ns(e){return e[dm]}var Sf=!0,Mf=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=hm,t.__NG_ENV_ID__=n=>n;let e=t;return e})(),Zs=class extends Mf{constructor(t){super(),this._lView=t}onDestroy(t){return Kl(this._lView,t),()=>Rg(this._lView,t)}};function hm(){return new Zs(Ye())}var Zn=(()=>{let t=class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Be(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};t.\u0275prov=he({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})();var Ks=class extends Fe{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Ig()&&(this.destroyRef=ce(Mf,{optional:!0})??void 0,this.pendingTasks=ce(Zn,{optional:!0})??void 0)}emit(t){let r=Ae(null);try{super.next(t)}finally{Ae(r)}}subscribe(t,r,n){let i=t,o=r||(()=>null),s=n;if(t&&typeof t=="object"){let p=t;i=p.next?.bind(p),o=p.error?.bind(p),s=p.complete?.bind(p)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let u=super.subscribe({next:i,error:o,complete:s});return t instanceof je&&t.add(u),u}wrapInTimeout(t){return r=>{let n=this.pendingTasks?.add();setTimeout(()=>{t(r),n!==void 0&&this.pendingTasks?.remove(n)})}}},ke=Ks;function Qi(...e){}function xf(e){let t,r;function n(){e=Qi;try{r!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(r),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),n()}),typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(()=>{e(),n()})),()=>n()}function Jc(e){return queueMicrotask(()=>e()),()=>{e=Qi}}var Ra="isAngularZone",Zi=Ra+"_ID",pm=0,Ve=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ke(!1),this.onMicrotaskEmpty=new ke(!1),this.onStable=new ke(!1),this.onError=new ke(!1);let{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Sf}=t;if(typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&n,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ym(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ra)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new ge(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,gm,Qi,Qi);try{return o.runTask(s,r,n)}finally{o.cancelTask(s)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}},gm={};function Oa(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mm(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){xf(()=>{e.callbackScheduled=!1,Js(e),e.isCheckStableRunning=!0,Oa(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Js(e)}function ym(e){let t=()=>{mm(e)},r=pm++;e._inner=e._inner.fork({name:"angular",properties:{[Ra]:!0,[Zi]:r,[Zi+r]:!0},onInvokeTask:(n,i,o,s,u,p)=>{if(vm(p))return n.invokeTask(o,s,u,p);try{return Xc(e),n.invokeTask(o,s,u,p)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),el(e)}},onInvoke:(n,i,o,s,u,p,f)=>{try{return Xc(e),n.invoke(o,s,u,p,f)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!wm(p)&&t(),el(e)}},onHasTask:(n,i,o,s)=>{n.hasTask(o,s),i===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Js(e),Oa(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,o,s)=>(n.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Js(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Xc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function el(e){e._nesting--,Oa(e)}var Xs=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ke,this.onMicrotaskEmpty=new ke,this.onStable=new ke,this.onError=new ke}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,i){return t.apply(r,n)}};function vm(e){return Tf(e,"__ignore_ng_zone__")}function wm(e){return Tf(e,"__scheduler_tick__")}function Tf(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Nt=class{constructor(){this._console=console}handleError(t){let r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&Ns(t);for(;r&&Ns(r);)r=Ns(r);return r||null}},bm=new me("",{providedIn:"root",factory:()=>{let e=ce(Ve),t=ce(Nt);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Em(){return Pa(Ct(),Ye())}function Pa(e,t){return new yo(It(e,t))}var yo=(()=>{let t=class t{constructor(n){this.nativeElement=n}};t.__NG_ELEMENT_ID__=Em;let e=t;return e})();function Af(e){return(e.flags&128)===128}var Nf=new Map,Dm=0;function Im(){return Dm++}function Cm(e){Nf.set(e[fo],e)}function ea(e){Nf.delete(e[fo])}var tl="__ngContext__";function Bn(e,t){tn(t)?(e[tl]=t[fo],Cm(t)):e[tl]=t}function Rf(e){return Pf(e[_r])}function Of(e){return Pf(e[ht])}function Pf(e){for(;e!==null&&!kt(e);)e=e[ht];return e}var ta;function kf(e){ta=e}function _m(){if(ta!==void 0)return ta;if(typeof document<"u")return document;throw new ge(210,!1)}var ka=new me("",{providedIn:"root",factory:()=>Sm}),Sm="ng",Fa=new me(""),Kn=new me("",{providedIn:"platform",factory:()=>"unknown"});var La=new me("",{providedIn:"root",factory:()=>_m().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Mm="h",xm="b";var Tm=()=>null;function ja(e,t,r=!1){return Tm(e,t,r)}var Ff=!1,Am=new me("",{providedIn:"root",factory:()=>Ff});var na=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xp})`}};function Ba(e){return e instanceof na?e.changingThisBreaksApplicationSecurity:e}function vo(e){return e.ownerDocument.defaultView}function Lf(e){return e instanceof Function?e():e}var Rt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Rt||{}),Nm;function Ua(e,t){return Nm(e,t)}function On(e,t,r,n,i){if(n!=null){let o,s=!1;kt(n)?o=n:tn(n)&&(s=!0,n=n[Pt]);let u=Dt(n);e===0&&r!==null?i==null?Hf(t,r,u):Ki(t,r,u,i||null,!0):e===1&&r!==null?Ki(t,r,u,i||null,!0):e===2?qm(t,u,s):e===3&&t.destroyNode(u),o!=null&&Ym(t,e,o,r,i)}}function Rm(e,t){return e.createText(t)}function Om(e,t,r){e.setValue(t,r)}function jf(e,t,r){return e.createElement(t,r)}function Pm(e,t){Bf(e,t),t[Pt]=null,t[pt]=null}function km(e,t,r,n,i,o){n[Pt]=i,n[pt]=t,wo(e,n,r,1,i,o)}function Bf(e,t){t[At].changeDetectionScheduler?.notify(9),wo(e,t,t[Xe],2,null,null)}function Fm(e){let t=e[_r];if(!t)return Rs(e[Se],e);for(;t;){let r=null;if(tn(t))r=t[_r];else{let n=t[st];n&&(r=n)}if(!r){for(;t&&!t[ht]&&t!==e;)tn(t)&&Rs(t[Se],t),t=t[Ge];t===null&&(t=e),tn(t)&&Rs(t[Se],t),r=t&&t[ht]}t=r}}function Lm(e,t,r,n){let i=st+n,o=r.length;n>0&&(r[i-1][ht]=t),n<o-st?(t[ht]=r[i],Sl(r,st+n,t)):(r.push(t),t[ht]=null),t[Ge]=r;let s=t[Sr];s!==null&&r!==s&&Uf(s,t);let u=t[lo];u!==null&&u.insertView(e),zs(t),t[ve]|=128}function Uf(e,t){let r=e[zi],n=t[Ge];if(tn(n))e[ve]|=qi.HasTransplantedViews;else{let i=n[Ge][Et];t[Et]!==i&&(e[ve]|=qi.HasTransplantedViews)}r===null?e[zi]=[t]:r.push(t)}function Va(e,t){let r=e[zi],n=r.indexOf(t);r.splice(n,1)}function ra(e,t){if(e.length<=st)return;let r=st+t,n=e[r];if(n){let i=n[Sr];i!==null&&i!==e&&Va(i,n),t>0&&(e[r-1][ht]=n[ht]);let o=Ui(e,st+t);Pm(n[Se],n);let s=o[lo];s!==null&&s.detachView(o[Se]),n[Ge]=null,n[ht]=null,n[ve]&=-129}return n}function Vf(e,t){if(!(t[ve]&256)){let r=t[Xe];r.destroyNode&&wo(e,t,r,3,null,null),Fm(t)}}function Rs(e,t){if(t[ve]&256)return;let r=Ae(null);try{t[ve]&=-129,t[ve]|=256,t[ot]&&es(t[ot]),Bm(e,t),jm(e,t),t[Se].type===1&&t[Xe].destroy();let n=t[Sr];if(n!==null&&kt(t[Ge])){n!==t[Ge]&&Va(n,t);let i=t[lo];i!==null&&i.detachView(e)}ea(t)}finally{Ae(r)}}function jm(e,t){let r=e.cleanup,n=t[$i];if(r!==null)for(let o=0;o<r.length-1;o+=2)if(typeof r[o]=="string"){let s=r[o+3];s>=0?n[s]():n[-s].unsubscribe(),o+=2}else{let s=n[r[o+1]];r[o].call(s)}n!==null&&(t[$i]=null);let i=t[zt];if(i!==null){t[zt]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Bm(e,t){let r;if(e!=null&&(r=e.destroyHooks)!=null)for(let n=0;n<r.length;n+=2){let i=t[r[n]];if(!(i instanceof Mr)){let o=r[n+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let u=i[o[s]],p=o[s+1];vt(4,u,p);try{p.call(u)}finally{vt(5,u,p)}}else{vt(4,i,o);try{o.call(i)}finally{vt(5,i,o)}}}}}function Um(e,t,r){return Vm(e,t.parent,r)}function Vm(e,t,r){let n=t;for(;n!==null&&n.type&168;)t=n,n=t.parent;if(n===null)return r[Pt];{let{componentOffset:i}=n;if(i>-1){let{encapsulation:o}=e.data[n.directiveStart+i];if(o===bt.None||o===bt.Emulated)return null}return It(n,r)}}function Ki(e,t,r,n,i){e.insertBefore(t,r,n,i)}function Hf(e,t,r){e.appendChild(t,r)}function nl(e,t,r,n,i){n!==null?Ki(e,t,r,n,i):Hf(e,t,r)}function $f(e,t){return e.parentNode(t)}function Hm(e,t){return e.nextSibling(t)}function $m(e,t,r){return zm(e,t,r)}function Wm(e,t,r){return e.type&40?It(e,r):null}var zm=Wm,rl;function Wf(e,t,r,n){let i=Um(e,n,t),o=t[Xe],s=n.parent||t[pt],u=$m(s,n,t);if(i!=null)if(Array.isArray(r))for(let p=0;p<r.length;p++)nl(o,i,r[p],u,!1);else nl(o,i,r,u,!1);rl!==void 0&&rl(o,n,t,r,i)}function wr(e,t){if(t!==null){let r=t.type;if(r&3)return It(t,e);if(r&4)return ia(-1,e[t.index]);if(r&8){let n=t.child;if(n!==null)return wr(e,n);{let i=e[t.index];return kt(i)?ia(-1,i):Dt(i)}}else{if(r&128)return wr(e,t.next);if(r&32)return Ua(t,e)()||Dt(e[t.index]);{let n=zf(e,t);if(n!==null){if(Array.isArray(n))return n[0];let i=an(e[Et]);return wr(i,n)}else return wr(e,t.next)}}}return null}function zf(e,t){if(t!==null){let n=e[Et][pt],i=t.projection;return n.projection[i]}return null}function ia(e,t){let r=st+e+1;if(r<t.length){let n=t[r],i=n[Se].firstChild;if(i!==null)return wr(n,i)}return t[sn]}function qm(e,t,r){e.removeChild(null,t,r)}function Ha(e,t,r,n,i,o,s){for(;r!=null;){if(r.type===128){r=r.next;continue}let u=n[r.index],p=r.type;if(s&&t===0&&(u&&Bn(Dt(u),n),r.flags|=2),(r.flags&32)!==32)if(p&8)Ha(e,t,r.child,n,i,o,!1),On(t,e,i,u,o);else if(p&32){let f=Ua(r,n),h;for(;h=f();)On(t,e,i,h,o);On(t,e,i,u,o)}else p&16?Gm(e,t,n,r,i,o):On(t,e,i,u,o);r=s?r.projectionNext:r.next}}function wo(e,t,r,n,i,o){Ha(r,n,e.firstChild,t,i,o,!1)}function Gm(e,t,r,n,i,o){let s=r[Et],p=s[pt].projection[n.projection];if(Array.isArray(p))for(let f=0;f<p.length;f++){let h=p[f];On(t,e,i,h,o)}else{let f=p,h=s[Ge];Af(n)&&(f.flags|=128),Ha(e,t,f,h,i,o,!0)}}function Ym(e,t,r,n,i){let o=r[sn],s=Dt(r);o!==s&&On(t,e,n,o,i);for(let u=st;u<r.length;u++){let p=r[u];wo(p[Se],p,e,t,n,o)}}function Qm(e,t,r,n,i){if(t)i?e.addClass(r,n):e.removeClass(r,n);else{let o=n.indexOf("-")===-1?void 0:Rt.DashCase;i==null?e.removeStyle(r,n,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Rt.Important),e.setStyle(r,n,i,o))}}function Zm(e,t,r){e.setAttribute(t,"style",r)}function qf(e,t,r){r===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function Gf(e,t,r){let{mergedAttrs:n,classes:i,styles:o}=r;n!==null&&js(e,t,n),i!==null&&qf(e,t,i),o!==null&&Zm(e,t,o)}var Jn={};function bo(e=1){Yf(Yn(),Ye(),Qn()+e,!1)}function Yf(e,t,r,n){if(!n)if((t[ve]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Pi(t,o,r)}else{let o=e.preOrderHooks;o!==null&&ki(t,o,0,r)}un(r)}function Xn(e,t=Ee.Default){let r=Ye();if(r===null)return we(e,t);let n=Ct();return Df(n,r,it(e),t)}function Qf(e,t,r,n,i,o){let s=Ae(null);try{let u=null;i&qt.SignalBased&&(u=t[n][ec]),u!==null&&u.transformFn!==void 0&&(o=u.transformFn(o)),i&qt.HasDecoratorInputTransform&&(o=e.inputTransforms[n].call(t,o)),e.setInput!==null?e.setInput(t,u,o,r,n):Wl(t,u,n,o)}finally{Ae(s)}}function Km(e,t){let r=e.hostBindingOpCodes;if(r!==null)try{for(let n=0;n<r.length;n++){let i=r[n];if(i<0)un(~i);else{let o=i,s=r[++n],u=r[++n];zg(s,o);let p=t[o];u(2,p)}}}finally{un(-1)}}function $a(e,t,r,n,i,o,s,u,p,f,h){let d=t.blueprint.slice();return d[Pt]=i,d[ve]=n|4|128|8|64,(f!==null||e&&e[ve]&2048)&&(d[ve]|=2048),Ql(d),d[Ge]=d[Or]=e,d[Tt]=r,d[At]=s||e&&e[At],d[Xe]=u||e&&e[Xe],d[jn]=p||e&&e[jn]||null,d[pt]=o,d[fo]=Im(),d[Hi]=h,d[Ul]=f,d[Et]=t.type==2?e[Et]:d,d}function Wa(e,t,r,n,i){let o=e.data[t];if(o===null)o=Jm(e,t,r,n,i),Wg()&&(o.flags|=32);else if(o.type&64){o.type=r,o.value=n,o.attrs=i;let s=Bg();o.injectorIndex=s===null?-1:s.injectorIndex}return mo(o,!0),o}function Jm(e,t,r,n,i){let o=ef(),s=tf(),u=s?o:o&&o.parent,p=e.data[t]=oy(e,u,r,t,n,i);return e.firstChild===null&&(e.firstChild=p),o!==null&&(s?o.child==null&&p.parent!==null&&(o.child=p):o.next===null&&(o.next=p,p.prev=o)),p}function Zf(e,t,r,n){if(r===0)return-1;let i=t.length;for(let o=0;o<r;o++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function Kf(e,t,r,n,i){let o=Qn(),s=n&2;try{un(-1),s&&t.length>on&&Yf(e,t,on,!1),vt(s?2:0,i),r(n,i)}finally{un(o),vt(s?3:1,i)}}function Jf(e,t,r){if(Hl(t)){let n=Ae(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let s=i;s<o;s++){let u=e.data[s];if(u.contentQueries){let p=r[s];u.contentQueries(1,p,s)}}}finally{Ae(n)}}}function Xm(e,t,r){Xl()&&(ly(e,t,r,It(r,t)),(r.flags&64)===64&&nd(e,t,r))}function ey(e,t,r=It){let n=t.localNames;if(n!==null){let i=t.index+1;for(let o=0;o<n.length;o+=2){let s=n[o+1],u=s===-1?r(t,e):e[s];e[i++]=u}}}function Xf(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ed(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ed(e,t,r,n,i,o,s,u,p,f,h){let d=on+n,l=d+i,a=ty(d,l),c=typeof f=="function"?f():f;return a[Se]={type:e,blueprint:a,template:r,queries:null,viewQuery:u,declTNode:t,data:a.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:l,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:p,consts:c,incompleteFirstPass:!1,ssrId:h}}function ty(e,t){let r=[];for(let n=0;n<t;n++)r.push(n<e?null:Jn);return r}function ny(e,t,r,n){let o=n.get(Am,Ff)||r===bt.ShadowDom,s=e.selectRootElement(t,o);return ry(s),s}function ry(e){iy(e)}var iy=()=>null;function oy(e,t,r,n,i,o){let s=t?t.injectorIndex:-1,u=0;return Fg()&&(u|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:u,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function il(e,t,r,n,i){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;n??={};let u,p=qt.None;Array.isArray(s)?(u=s[0],p=s[1]):u=s;let f=o;if(i!==null){if(!i.hasOwnProperty(o))continue;f=i[o]}e===0?ol(n,r,f,u,p):ol(n,r,f,u)}return n}function ol(e,t,r,n,i){let o;e.hasOwnProperty(r)?(o=e[r]).push(t,n):o=e[r]=[t,n],i!==void 0&&o.push(i)}function sy(e,t,r){let n=t.directiveStart,i=t.directiveEnd,o=e.data,s=t.attrs,u=[],p=null,f=null;for(let h=n;h<i;h++){let d=o[h],l=r?r.get(d):null,a=l?l.inputs:null,c=l?l.outputs:null;p=il(0,d.inputs,h,p,a),f=il(1,d.outputs,h,f,c);let g=p!==null&&s!==null&&!Ea(t)?wy(p,h,s):null;u.push(g)}p!==null&&(p.hasOwnProperty("class")&&(t.flags|=8),p.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=u,t.inputs=p,t.outputs=f}function ay(e,t,r,n){if(Xl()){let i=n===null?null:{"":-1},o=dy(e,r),s,u;o===null?s=u=null:[s,u]=o,s!==null&&td(e,t,r,s,i,u),i&&hy(r,n,i)}r.mergedAttrs=ba(r.mergedAttrs,r.attrs)}function td(e,t,r,n,i,o){for(let f=0;f<n.length;f++)om(vf(r,t),e,n[f].type);gy(r,e.data.length,n.length);for(let f=0;f<n.length;f++){let h=n[f];h.providersResolver&&h.providersResolver(h)}let s=!1,u=!1,p=Zf(e,t,n.length,null);for(let f=0;f<n.length;f++){let h=n[f];r.mergedAttrs=ba(r.mergedAttrs,h.hostAttrs),my(e,r,t,p,h),py(p,h,i),h.contentQueries!==null&&(r.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(r.flags|=64);let d=h.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),s=!0),!u&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),u=!0),p++}sy(e,r,o)}function uy(e,t,r,n,i){let o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let u=~t.index;cy(s)!=u&&s.push(u),s.push(r,n,o)}}function cy(e){let t=e.length;for(;t>0;){let r=e[--t];if(typeof r=="number"&&r<0)return r}return 0}function ly(e,t,r,n){let i=r.directiveStart,o=r.directiveEnd;Sa(r)&&yy(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||vf(r,t),Bn(n,t);let s=r.initialInputs;for(let u=i;u<o;u++){let p=e.data[u],f=xr(t,e,u,r);if(Bn(f,t),s!==null&&vy(t,u-i,f,p,r,s),Pr(p)){let h=Gn(r.index,t);h[Tt]=xr(t,e,u,r)}}}function nd(e,t,r){let n=r.directiveStart,i=r.directiveEnd,o=r.index,s=qg();try{un(o);for(let u=n;u<i;u++){let p=e.data[u],f=t[u];qs(u),(p.hostBindings!==null||p.hostVars!==0||p.hostAttrs!==null)&&fy(p,f)}}finally{un(-1),qs(s)}}function fy(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function dy(e,t){let r=e.directiveRegistry,n=null,i=null;if(r)for(let o=0;o<r.length;o++){let s=r[o];if(ig(t,s.selectors,!1))if(n||(n=[]),Pr(s))if(s.findHostDirectiveDefs!==null){let u=[];i=i||new Map,s.findHostDirectiveDefs(s,u,i),n.unshift(...u,s);let p=u.length;oa(e,t,p)}else n.unshift(s),oa(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,n,i),n.push(s)}return n===null?null:[n,i]}function oa(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function hy(e,t,r){if(t){let n=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=r[t[i+1]];if(o==null)throw new ge(-301,!1);n.push(t[i],o)}}}function py(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;Pr(t)&&(r[""]=e)}}function gy(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}function my(e,t,r,n,i){e.data[n]=i;let o=i.factory||(i.factory=Fn(i.type,!0)),s=new Mr(o,Pr(i),Xn);e.blueprint[n]=s,r[n]=s,uy(e,t,n,Zf(e,r,i.hostVars,Jn),i)}function yy(e,t,r){let n=It(t,e),i=Xf(r),o=e[At].rendererFactory,s=16;r.signals?s=4096:r.onPush&&(s=64);let u=za(e,$a(e,i,null,s,n,t,null,o.createRenderer(n,r),null,null,null));e[t.index]=u}function vy(e,t,r,n,i,o){let s=o[t];if(s!==null)for(let u=0;u<s.length;){let p=s[u++],f=s[u++],h=s[u++],d=s[u++];Qf(n,r,p,f,h,d)}}function wy(e,t,r){let n=null,i=0;for(;i<r.length;){let o=r[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){n===null&&(n=[]);let s=e[o];for(let u=0;u<s.length;u+=3)if(s[u]===t){n.push(o,s[u+1],s[u+2],r[i+1]);break}}i+=2}return n}function by(e,t,r,n){return[e,!0,0,t,null,n,null,r,null,null]}function rd(e,t){let r=e.contentQueries;if(r!==null){let n=Ae(null);try{for(let i=0;i<r.length;i+=2){let o=r[i],s=r[i+1];if(s!==-1){let u=e.data[s];rf(o),u.contentQueries(2,t[s],s)}}}finally{Ae(n)}}}function za(e,t){return e[_r]?e[$c][ht]=t:e[_r]=t,e[$c]=t,t}function sa(e,t,r){rf(0);let n=Ae(null);try{t(e,r)}finally{Ae(n)}}function Ey(e){return e[$i]??=[]}function Dy(e){return e.cleanup??=[]}function id(e,t){let r=e[jn],n=r?r.get(Nt,null):null;n&&n.handleError(t)}function od(e,t,r,n,i){for(let o=0;o<r.length;){let s=r[o++],u=r[o++],p=r[o++],f=t[s],h=e.data[s];Qf(h,f,n,u,p,i)}}function Iy(e,t,r){let n=Yl(t,e);Om(e[Xe],n,r)}function Cy(e,t){let r=Gn(t,e),n=r[Se];_y(n,r);let i=r[Pt];i!==null&&r[Hi]===null&&(r[Hi]=ja(i,r[jn])),sd(n,r,r[Tt])}function _y(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}function sd(e,t,r){xa(t);try{let n=e.viewQuery;n!==null&&sa(1,n,r);let i=e.template;i!==null&&Kf(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),t[lo]?.finishViewCreation(e),e.staticContentQueries&&rd(e,t),e.staticViewQueries&&sa(2,e.viewQuery,r);let o=e.components;o!==null&&Sy(t,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[ve]&=-5,Ta()}}function Sy(e,t){for(let r=0;r<t.length;r++)Cy(e,t[r])}function sl(e,t){return!t||t.firstChild===null||Af(e)}function My(e,t,r,n=!0){let i=t[Se];if(Lm(i,t,e,r),n){let s=ia(r,e),u=t[Xe],p=$f(u,e[sn]);p!==null&&km(i,e[pt],u,t,p,s)}let o=t[Hi];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ji(e,t,r,n,i=!1){for(;r!==null;){if(r.type===128){r=i?r.projectionNext:r.next;continue}let o=t[r.index];o!==null&&n.push(Dt(o)),kt(o)&&xy(o,n);let s=r.type;if(s&8)Ji(e,t,r.child,n);else if(s&32){let u=Ua(r,t),p;for(;p=u();)n.push(p)}else if(s&16){let u=zf(t,r);if(Array.isArray(u))n.push(...u);else{let p=an(t[Et]);Ji(p[Se],p,u,n,!0)}}r=i?r.projectionNext:r.next}return n}function xy(e,t){for(let r=st;r<e.length;r++){let n=e[r],i=n[Se].firstChild;i!==null&&Ji(n[Se],n,i,t)}e[sn]!==e[Pt]&&t.push(e[sn])}var ad=[];function Ty(e){return e[ot]??Ay(e)}function Ay(e){let t=ad.pop()??Object.create(Ry);return t.lView=e,t}function Ny(e){e.lView[ot]!==e&&(e.lView=null,ad.push(e))}var Ry=Pe(fe({},Ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{go(e.lView)},consumerOnSignalRead(){this.lView[ot]=this}});function Oy(e){let t=e[ot]??Object.create(Py);return t.lView=e,t}var Py=Pe(fe({},Ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=an(e.lView);for(;t&&!ud(t[Se]);)t=an(t);t&&Zl(t)},consumerOnSignalRead(){this.lView[ot]=this}});function ud(e){return e.type!==2}var ky=100;function cd(e,t=!0,r=0){let n=e[At],i=n.rendererFactory,o=!1;o||i.begin?.();try{Fy(e,r)}catch(s){throw t&&id(e,s),s}finally{o||(i.end?.(),n.inlineEffectRunner?.flush())}}function Fy(e,t){let r=nf();try{qc(!0),aa(e,t);let n=0;for(;po(e);){if(n===ky)throw new ge(103,!1);n++,aa(e,1)}}finally{qc(r)}}function Ly(e,t,r,n){let i=t[ve];if((i&256)===256)return;let o=!1,s=!1;!o&&t[At].inlineEffectRunner?.flush(),xa(t);let u=!0,p=null,f=null;o||(ud(e)?(f=Ty(t),p=Jo(f)):tc()===null?(u=!1,f=Oy(t),p=Jo(f)):t[ot]&&(es(t[ot]),t[ot]=null));try{Ql(t),Vg(e.bindingStartIndex),r!==null&&Kf(e,t,r,2,n);let h=(i&3)===3;if(!o)if(h){let a=e.preOrderCheckHooks;a!==null&&Pi(t,a,null)}else{let a=e.preOrderHooks;a!==null&&ki(t,a,0,null),xs(t,0)}if(s||jy(t),ld(t,0),e.contentQueries!==null&&rd(e,t),!o)if(h){let a=e.contentCheckHooks;a!==null&&Pi(t,a)}else{let a=e.contentHooks;a!==null&&ki(t,a,1),xs(t,1)}Km(e,t);let d=e.components;d!==null&&dd(t,d,0);let l=e.viewQuery;if(l!==null&&sa(2,l,n),!o)if(h){let a=e.viewCheckHooks;a!==null&&Pi(t,a)}else{let a=e.viewHooks;a!==null&&ki(t,a,2),xs(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ms]){for(let a of t[Ms])a();t[Ms]=null}o||(t[ve]&=-73)}catch(h){throw o||go(t),h}finally{f!==null&&(nc(f,p),u&&Ny(f)),Ta()}}function ld(e,t){for(let r=Rf(e);r!==null;r=Of(r))for(let n=st;n<r.length;n++){let i=r[n];fd(i,t)}}function jy(e){for(let t=Rf(e);t!==null;t=Of(t)){if(!(t[ve]&qi.HasTransplantedViews))continue;let r=t[zi];for(let n=0;n<r.length;n++){let i=r[n];Zl(i)}}}function By(e,t,r){let n=Gn(t,e);fd(n,r)}function fd(e,t){Ma(e)&&aa(e,t)}function aa(e,t){let n=e[Se],i=e[ve],o=e[ot],s=!!(t===0&&i&16);if(s||=!!(i&64&&t===0),s||=!!(i&1024),s||=!!(o?.dirty&&Xo(o)),s||=!1,o&&(o.dirty=!1),e[ve]&=-9217,s)Ly(n,e,n.template,e[Tt]);else if(i&8192){ld(e,1);let u=n.components;u!==null&&dd(e,u,1)}}function dd(e,t,r){for(let n=0;n<t.length;n++)By(e,t[n],r)}function qa(e,t){let r=nf()?64:1088;for(e[At].changeDetectionScheduler?.notify(t);e;){e[ve]|=r;let n=an(e);if($s(e)&&!n)return e;e=n}return null}var Un=class{get rootNodes(){let t=this._lView,r=t[Se];return Ji(r,t,r.firstChild,[])}constructor(t,r,n=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(t){this._lView[Tt]=t}get destroyed(){return(this._lView[ve]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ge];if(kt(t)){let r=t[Wi],n=r?r.indexOf(this):-1;n>-1&&(ra(t,n),Ui(r,n))}this._attachedToViewContainer=!1}Vf(this._lView[Se],this._lView)}onDestroy(t){Kl(this._lView,t)}markForCheck(){qa(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ve]&=-129}reattach(){zs(this._lView),this._lView[ve]|=128}detectChanges(){this._lView[ve]|=1024,cd(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=$s(this._lView),r=this._lView[Sr];r!==null&&!t&&Va(r,this._lView),Bf(this._lView[Se],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=t;let r=$s(this._lView),n=this._lView[Sr];n!==null&&!r&&Uf(n,this._lView),zs(this._lView)}};var HS=new RegExp(`^(\\d+)*(${xm}|${Mm})*(.*)`);var Uy=()=>null;function al(e,t){return Uy(e,t)}var Vn=class{},Ga=new me("",{providedIn:"root",factory:()=>!1});var hd=new me(""),pd=new me(""),ua=class{},Xi=class{};function Vy(e){let t=Error(`No component factory found for ${Ze(e)}.`);return t[Hy]=e,t}var Hy="ngComponent";var ca=class{resolveComponentFactory(t){throw Vy(t)}},eu=class eu{};eu.NULL=new ca;var Hn=eu,$n=class{};var $y=(()=>{let t=class t{};t.\u0275prov=he({token:t,providedIn:"root",factory:()=>null});let e=t;return e})();function la(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let u=t[s];if(typeof u=="number")o=u;else if(o==1)i=Oc(i,u);else if(o==2){let p=u,f=t[++s];n=Oc(n,p+": "+f+";")}}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}var eo=class extends Hn{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let r=rn(t);return new Tr(r,this.ngModule)}};function ul(e,t){let r=[];for(let n in e){if(!e.hasOwnProperty(n))continue;let i=e[n];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,u=o?i[1]:qt.None;t?r.push({propName:s,templateName:n,isSignal:(u&qt.SignalBased)!==0}):r.push({propName:s,templateName:n})}return r}function Wy(e){let t=e.toLowerCase();return t==="svg"?xg:t==="math"?Tg:null}var Tr=class extends Xi{get inputs(){let t=this.componentDef,r=t.inputTransforms,n=ul(t.inputs,!0);if(r!==null)for(let i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return ul(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=ug(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,i){let o=Ae(null);try{i=i||this.ngModule;let s=i instanceof at?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let u=s?new Gs(t,s):t,p=u.get($n,null);if(p===null)throw new ge(407,!1);let f=u.get($y,null),h=u.get(Vn,null),d={rendererFactory:p,sanitizer:f,inlineEffectRunner:null,changeDetectionScheduler:h},l=p.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?ny(l,n,this.componentDef.encapsulation,u):jf(l,a,Wy(a)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let w=null;c!==null&&(w=ja(c,u,!0));let b=ed(0,null,null,1,0,null,null,null,null,null,null),D=$a(null,b,null,g,null,null,d,l,u,null,w);xa(D);let I,E,S=null;try{let R=this.componentDef,N,H=null;R.findHostDirectiveDefs?(N=[],H=new Map,R.findHostDirectiveDefs(R,N,H),N.push(R)):N=[R];let $=zy(D,c);S=qy($,c,R,N,D,d,l),E=Ag(b,on),c&&Qy(l,R,c,n),r!==void 0&&Zy(E,this.ngContentSelectors,r),I=Yy(S,R,N,H,D,[Ky]),sd(b,D,null)}catch(R){throw S!==null&&ea(S),ea(D),R}finally{Ta()}return new fa(this.componentType,I,Pa(E,D),D,E)}finally{Ae(o)}}},fa=class extends ua{constructor(t,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Un(i,void 0,!1),this.componentType=t}setInput(t,r){let n=this._tNode.inputs,i;if(n!==null&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;let o=this._rootLView;od(o[Se],o,i,t,r),this.previousInputValues.set(t,r);let s=Gn(this._tNode.index,o);qa(s,1)}}get injector(){return new nn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function zy(e,t){let r=e[Se],n=on;return e[n]=t,Wa(r,n,2,"#host",null)}function qy(e,t,r,n,i,o,s){let u=i[Se];Gy(n,e,t,s);let p=null;t!==null&&(p=ja(t,i[jn]));let f=o.rendererFactory.createRenderer(t,r),h=16;r.signals?h=4096:r.onPush&&(h=64);let d=$a(i,Xf(r),null,h,i[e.index],e,o,f,null,null,p);return u.firstCreatePass&&oa(u,e,n.length-1),za(i,d),i[e.index]=d}function Gy(e,t,r,n){for(let i of e)t.mergedAttrs=ba(t.mergedAttrs,i.hostAttrs);t.mergedAttrs!==null&&(la(t,t.mergedAttrs,!0),r!==null&&Gf(n,r,t))}function Yy(e,t,r,n,i,o){let s=Ct(),u=i[Se],p=It(s,i);td(u,i,s,r,null,n);for(let h=0;h<r.length;h++){let d=s.directiveStart+h,l=xr(i,u,d,s);Bn(l,i)}nd(u,i,s),p&&Bn(p,i);let f=xr(i,u,s.directiveStart+s.componentOffset,s);if(e[Tt]=i[Tt]=f,o!==null)for(let h of o)h(f,t);return Jf(u,s,i),f}function Qy(e,t,r,n){if(n)js(e,r,["ng-version","18.2.4"]);else{let{attrs:i,classes:o}=cg(t.selectors[0]);i&&js(e,r,i),o&&o.length>0&&qf(e,r,o.join(" "))}}function Zy(e,t,r){let n=e.projection=[];for(let i=0;i<t.length;i++){let o=r[i];n.push(o!=null?Array.from(o):null)}}function Ky(){let e=Ct();hf(Ye()[Se],e)}var Eo=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Jy;let e=t;return e})();function Jy(){let e=Ct();return ev(e,Ye())}var Xy=Eo,gd=class extends Xy{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return Pa(this._hostTNode,this._hostLView)}get injector(){return new nn(this._hostTNode,this._hostLView)}get parentInjector(){let t=Aa(this._hostTNode,this._hostLView);if(gf(t)){let r=Yi(t,this._hostLView),n=Gi(t),i=r[Se].data[n+8];return new nn(i,r)}else return new nn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let r=cl(this._lContainer);return r!==null&&r[t]||null}get length(){return this._lContainer.length-st}createEmbeddedView(t,r,n){let i,o;typeof n=="number"?i=n:n!=null&&(i=n.index,o=n.injector);let s=al(this._lContainer,t.ssrId),u=t.createEmbeddedViewImpl(r||{},o,s);return this.insertImpl(u,i,sl(this._hostTNode,s)),u}createComponent(t,r,n,i,o){let s=t&&!Cg(t),u;if(s)u=r;else{let c=r||{};u=c.index,n=c.injector,i=c.projectableNodes,o=c.environmentInjector||c.ngModuleRef}let p=s?t:new Tr(rn(t)),f=n||this.parentInjector;if(!o&&p.ngModule==null){let g=(s?f:this.parentInjector).get(at,null);g&&(o=g)}let h=rn(p.componentType??{}),d=al(this._lContainer,h?.id??null),l=d?.firstChild??null,a=p.create(f,i,l,o);return this.insertImpl(a.hostView,u,sl(this._hostTNode,d)),a}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,n){let i=t._lView;if(Ng(i)){let u=this.indexOf(t);if(u!==-1)this.detach(u);else{let p=i[Ge],f=new gd(p,p[pt],p[Ge]);f.detach(f.indexOf(t))}}let o=this._adjustIndex(r),s=this._lContainer;return My(s,i,o,n),t.attachToViewContainerRef(),Sl(Os(s),o,t),t}move(t,r){return this.insert(t,r)}indexOf(t){let r=cl(this._lContainer);return r!==null?r.indexOf(t):-1}remove(t){let r=this._adjustIndex(t,-1),n=ra(this._lContainer,r);n&&(Ui(Os(this._lContainer),r),Vf(n[Se],n))}detach(t){let r=this._adjustIndex(t,-1),n=ra(this._lContainer,r);return n&&Ui(Os(this._lContainer),r)!=null?new Un(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function cl(e){return e[Wi]}function Os(e){return e[Wi]||(e[Wi]=[])}function ev(e,t){let r,n=t[e.index];return kt(n)?r=n:(r=by(n,t,null,e),t[e.index]=r,za(t,r)),nv(r,t,e,n),new gd(r,e,t)}function tv(e,t){let r=e[Xe],n=r.createComment(""),i=It(t,e),o=$f(r,i);return Ki(r,o,n,Hm(r,i),!1),n}var nv=rv;function rv(e,t,r,n){if(e[sn])return;let i;r.type&8?i=Dt(n):i=tv(t,r),e[sn]=i}var ll=new Set;function Ya(e){ll.has(e)||(ll.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Gt=class{},Ar=class{};var da=class extends Gt{constructor(t,r,n,i=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new eo(this);let o=Pl(t);this._bootstrapComponents=Lf(o.bootstrap),this._r3Injector=_f(t,r,[{provide:Gt,useValue:this},{provide:Hn,useValue:this.componentFactoryResolver},...n],Ze(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},ha=class extends Ar{constructor(t){super(),this.moduleType=t}create(t){return new da(this.moduleType,t,[])}};var to=class extends Gt{constructor(t){super(),this.componentFactoryResolver=new eo(this),this.instance=null;let r=new Cr([...t.providers,{provide:Gt,useValue:this},{provide:Hn,useValue:this.componentFactoryResolver}],t.parent||_a(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Qa(e,t,r=null){return new to({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function md(e,t,r){let n=e[t];return Object.is(n,r)?!1:(e[t]=r,!0)}function iv(e){return(e.flags&32)===32}var br=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(br||{}),ov=(()=>{let t=class t{constructor(){this.impl=null}execute(){this.impl?.execute()}};t.\u0275prov=he({token:t,providedIn:"root",factory:()=>new t});let e=t;return e})(),en=class en{constructor(){this.ngZone=ce(Ve),this.scheduler=ce(Vn),this.errorHandler=ce(Nt,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let t of en.PHASES)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[t]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[t](r.pipelinedValue))}catch(n){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(n)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&this.sequences.delete(t);for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}};en.PHASES=[br.EarlyRead,br.Write,br.MixedReadWrite,br.Read],en.\u0275prov=he({token:en,providedIn:"root",factory:()=>new en});var fl=en;function sv(e,t,r,n){return md(e,Hg(),r)?t+Il(r)+n:Jn}function Ni(e,t){return e<<17|t<<2}function ln(e){return e>>17&32767}function av(e){return(e&2)==2}function uv(e,t){return e&131071|t<<17}function pa(e){return e|2}function Wn(e){return(e&131068)>>2}function Ps(e,t){return e&-131069|t<<2}function cv(e){return(e&1)===1}function ga(e){return e|1}function lv(e,t,r,n,i,o){let s=o?t.classBindings:t.styleBindings,u=ln(s),p=Wn(s);e[n]=r;let f=!1,h;if(Array.isArray(r)){let d=r;h=d[1],(h===null||Rr(d,h)>0)&&(f=!0)}else h=r;if(i)if(p!==0){let l=ln(e[u+1]);e[n+1]=Ni(l,u),l!==0&&(e[l+1]=Ps(e[l+1],n)),e[u+1]=uv(e[u+1],n)}else e[n+1]=Ni(u,0),u!==0&&(e[u+1]=Ps(e[u+1],n)),u=n;else e[n+1]=Ni(p,0),u===0?u=n:e[p+1]=Ps(e[p+1],n),p=n;f&&(e[n+1]=pa(e[n+1])),dl(e,h,n,!0),dl(e,h,n,!1),fv(t,h,e,n,o),s=Ni(u,p),o?t.classBindings=s:t.styleBindings=s}function fv(e,t,r,n,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Rr(o,t)>=0&&(r[n+1]=ga(r[n+1]))}function dl(e,t,r,n){let i=e[r+1],o=t===null,s=n?ln(i):Wn(i),u=!1;for(;s!==0&&(u===!1||o);){let p=e[s],f=e[s+1];dv(p,t)&&(u=!0,e[s+1]=n?ga(f):pa(f)),s=n?ln(f):Wn(f)}u&&(e[r+1]=n?pa(i):ga(i))}function dv(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Rr(e,t)>=0:!1}function hl(e,t,r,n,i){let o=t.inputs,s=i?"class":"style";od(e,r,o[s],s,n)}function Za(e,t){return hv(e,t,null,!0),Za}function hv(e,t,r,n){let i=Ye(),o=Yn(),s=$g(2);if(o.firstUpdatePass&&gv(o,e,s,n),t!==Jn&&md(i,s,t)){let u=o.data[Qn()];bv(o,u,i,i[Xe],e,i[s+1]=Ev(t,r),n,s)}}function pv(e,t){return t>=e.expandoStartIndex}function gv(e,t,r,n){let i=e.data;if(i[r+1]===null){let o=i[Qn()],s=pv(e,r);Dv(o,n)&&t===null&&!s&&(t=!1),t=mv(i,o,t,n),lv(i,o,t,r,s,n)}}function mv(e,t,r,n){let i=Gg(e),o=n?t.residualClasses:t.residualStyles;if(i===null)(n?t.classBindings:t.styleBindings)===0&&(r=ks(null,e,t,r,n),r=Nr(r,t.attrs,n),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==i)if(r=ks(i,e,t,r,n),o===null){let p=yv(e,t,n);p!==void 0&&Array.isArray(p)&&(p=ks(null,e,t,p[1],n),p=Nr(p,t.attrs,n),vv(e,t,n,p))}else o=wv(e,t,n)}return o!==void 0&&(n?t.residualClasses=o:t.residualStyles=o),r}function yv(e,t,r){let n=r?t.classBindings:t.styleBindings;if(Wn(n)!==0)return e[ln(n)]}function vv(e,t,r,n){let i=r?t.classBindings:t.styleBindings;e[ln(i)]=n}function wv(e,t,r){let n,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let s=e[o].hostAttrs;n=Nr(n,s,r)}return Nr(n,t.attrs,r)}function ks(e,t,r,n,i){let o=null,s=r.directiveEnd,u=r.directiveStylingLast;for(u===-1?u=r.directiveStart:u++;u<s&&(o=t[u],n=Nr(n,o.hostAttrs,i),o!==e);)u++;return e!==null&&(r.directiveStylingLast=u),n}function Nr(e,t,r){let n=r?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?i=s:i===n&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Qp(e,s,r?!0:t[++o]))}return e===void 0?null:e}function bv(e,t,r,n,i,o,s,u){if(!(t.type&3))return;let p=e.data,f=p[u+1],h=cv(f)?pl(p,t,r,i,Wn(f),s):void 0;if(!no(h)){no(o)||av(f)&&(o=pl(p,null,r,i,u,s));let d=Yl(Qn(),r);Qm(n,s,d,i,o)}}function pl(e,t,r,n,i,o){let s=t===null,u;for(;i>0;){let p=e[i],f=Array.isArray(p),h=f?p[1]:p,d=h===null,l=r[i+1];l===Jn&&(l=d?dt:void 0);let a=d?_s(l,n):h===n?l:void 0;if(f&&!no(a)&&(a=_s(p,n)),no(a)&&(u=a,s))return u;let c=e[i+1];i=s?ln(c):Wn(c)}if(t!==null){let p=o?t.residualClasses:t.residualStyles;p!=null&&(u=_s(p,n))}return u}function no(e){return e!==void 0}function Ev(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Ze(Ba(e)))),e}function Dv(e,t){return(e.flags&(t?8:16))!==0}function Iv(e,t,r,n,i,o){let s=t.consts,u=zc(s,i),p=Wa(t,e,2,n,u);return ay(t,r,p,zc(s,o)),p.attrs!==null&&la(p,p.attrs,!1),p.mergedAttrs!==null&&la(p,p.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,p),p}function _t(e,t,r,n){let i=Ye(),o=Yn(),s=on+e,u=i[Xe],p=o.firstCreatePass?Iv(s,o,i,t,r,n):o.data[s],f=Cv(o,i,p,u,t,e);i[s]=f;let h=$l(p);return mo(p,!0),Gf(u,f,p),!iv(p)&&ff()&&Wf(o,i,f,p),Og()===0&&Bn(f,i),Pg(),h&&(Xm(o,i,p),Jf(o,p,i)),n!==null&&ey(i,p),_t}function Yt(){let e=Ct();tf()?Ug():(e=e.parent,mo(e,!1));let t=e;Lg(t)&&jg(),kg();let r=Yn();return r.firstCreatePass&&(hf(r,e),Hl(e)&&r.queries.elementEnd(e)),t.classesWithoutHost!=null&&Xg(t)&&hl(r,t,Ye(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&em(t)&&hl(r,t,Ye(),t.stylesWithoutHost,!1),Yt}function er(e,t,r,n){return _t(e,t,r,n),Yt(),er}var Cv=(e,t,r,n,i,o)=>(df(!0),jf(n,i,Qg()));var ro="en-US";var _v=ro;function Sv(e){typeof e=="string"&&(_v=e.toLowerCase().replace(/_/g,"-"))}var Mv=(e,t,r)=>{};function kr(e,t,r,n){let i=Ye(),o=Yn(),s=Ct();return Tv(o,i,i[Xe],s,e,t,n),kr}function xv(e,t,r,n){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===r&&i[o+1]===n){let u=t[$i],p=i[o+2];return u.length>p?u[p]:null}typeof s=="string"&&(o+=2)}return null}function Tv(e,t,r,n,i,o,s){let u=$l(n),f=e.firstCreatePass&&Dy(e),h=t[Tt],d=Ey(t),l=!0;if(n.type&3||s){let g=It(n,t),w=s?s(g):g,b=d.length,D=s?E=>s(Dt(E[n.index])):n.index,I=null;if(!s&&u&&(I=xv(e,t,i,n.index)),I!==null){let E=I.__ngLastListenerFn__||I;E.__ngNextListenerFn__=o,I.__ngLastListenerFn__=o,l=!1}else{o=ml(n,t,h,o),Mv(g,i,o);let E=r.listen(w,i,o);d.push(o,E),f&&f.push(i,D,b,b+1)}}else o=ml(n,t,h,o);let a=n.outputs,c;if(l&&a!==null&&(c=a[i])){let g=c.length;if(g)for(let w=0;w<g;w+=2){let b=c[w],D=c[w+1],S=t[b][D].subscribe(o),R=d.length;d.push(o,S),f&&f.push(i,n.index,R,-(R+1))}}}function gl(e,t,r,n){let i=Ae(null);try{return vt(6,t,r),r(n)!==!1}catch(o){return id(e,o),!1}finally{vt(7,t,r),Ae(i)}}function ml(e,t,r,n){return function i(o){if(o===Function)return n;let s=e.componentOffset>-1?Gn(e.index,t):t;qa(s,5);let u=gl(t,r,n,o),p=i.__ngNextListenerFn__;for(;p;)u=gl(t,r,p,o)&&u,p=p.__ngNextListenerFn__;return u}}function tr(e,t=""){let r=Ye(),n=Yn(),i=e+on,o=n.firstCreatePass?Wa(n,i,1,t,null):n.data[i],s=Av(n,r,o,t,e);r[i]=s,ff()&&Wf(n,r,s,o),mo(o,!1)}var Av=(e,t,r,n,i)=>(df(!0),Rm(t[Xe],n));function Do(e){return yd("",e,""),Do}function yd(e,t,r){let n=Ye(),i=sv(n,e,t,r);return i!==Jn&&Iy(n,Qn(),i),yd}var Nv=(()=>{let t=class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=Ll(!1,n.type),o=i.length>0?Qa([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}};t.\u0275prov=he({token:t,providedIn:"environment",factory:()=>new t(we(at))});let e=t;return e})();function Io(e){Ya("NgStandalone"),e.getStandaloneInjector=t=>t.get(Nv).getOrCreateStandaloneInjector(e)}var Co=(()=>{let t=class t{log(n){console.log(n)}warn(n){console.warn(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"platform"});let e=t;return e})();var vd=new me("");function Fr(e){return!!e&&typeof e.then=="function"}function wd(e){return!!e&&typeof e.subscribe=="function"}var bd=new me(""),Ed=(()=>{let t=class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=ce(bd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let o of this.appInits){let s=o();if(Fr(s))n.push(s);else if(wd(s)){let u=new Promise((p,f)=>{s.subscribe({complete:p,error:f})});n.push(u)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),n.length===0&&i(),this.initialized=!0}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Ka=new me("");function Rv(){rc(()=>{throw new ge(600,!1)})}function Ov(e){return e.isBoundToModule}var Pv=10;function kv(e,t,r){try{let n=r();return Fr(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}var fn=(()=>{let t=class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(bm),this.afterRenderManager=ce(ov),this.zonelessEnabled=ce(Ga),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=ce(Zn).hasPendingTasks.pipe(_e(n=>!n)),this._injector=ce(at)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let o=n instanceof Xi;if(!this._injector.get(Ed).done){let a=!o&&Ol(n),c=!1;throw new ge(405,c)}let u;o?u=n:u=this._injector.get(Hn).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let p=Ov(u)?void 0:this._injector.get(Gt),f=i||u.selector,h=u.create(cn.NULL,[],f,p),d=h.location.nativeElement,l=h.injector.get(vd,null);return l?.registerApplication(d),h.onDestroy(()=>{this.detachView(h.hostView),Fi(this.components,h),l?.unregisterApplication(d)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new ge(101,!1);let n=Ae(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,Ae(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get($n,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Pv;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)Fv(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>po(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Fi(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(Ka,[]);[...this._bootstrapListeners,...i].forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fi(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ge(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Fi(e,t){let r=e.indexOf(t);r>-1&&e.splice(r,1)}function Fv(e,t,r,n){if(!r&&!po(e))return;cd(e,t,r&&!n?0:1)}var ma=class{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}},Ja=(()=>{let t=class t{compileModuleSync(n){return new ha(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),o=Pl(n),s=Lf(o.declarations).reduce((u,p)=>{let f=rn(p);return f&&u.push(new Tr(f)),u},[]);return new ma(i,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Lv=(()=>{let t=class t{constructor(){this.zone=ce(Ve),this.changeDetectionScheduler=ce(Vn),this.applicationRef=ce(fn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jv=new me("",{factory:()=>!1});function Dd({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){return e??=()=>new Ve(Pe(fe({},Cd()),{scheduleInRootZone:r})),[{provide:Ve,useFactory:e},{provide:Ln,multi:!0,useFactory:()=>{let n=ce(Lv,{optional:!0});return()=>n.initialize()}},{provide:Ln,multi:!0,useFactory:()=>{let n=ce(Bv);return()=>{n.initialize()}}},t===!0?{provide:hd,useValue:!0}:[],{provide:pd,useValue:r??Sf}]}function Id(e){let t=e?.ignoreChangesOutsideZone,r=e?.scheduleInRootZone,n=Dd({ngZoneFactory:()=>{let i=Cd(e);return i.scheduleInRootZone=r,i.shouldCoalesceEventChangeDetection&&Ya("NgZone_CoalesceEvent"),new Ve(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:r});return uo([{provide:jv,useValue:!0},{provide:Ga,useValue:!1},n])}function Cd(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var Bv=(()=>{let t=class t{constructor(){this.subscription=new je,this.initialized=!1,this.zone=ce(Ve),this.pendingTasks=ce(Zn)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Uv=(()=>{let t=class t{constructor(){this.appRef=ce(fn),this.taskService=ce(Zn),this.ngZone=ce(Ve),this.zonelessEnabled=ce(Ga),this.disableScheduling=ce(hd,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new je,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zi):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(ce(pd,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Xs||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Jc:xf;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jc(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Vv(){return typeof $localize<"u"&&$localize.locale||ro}var Xa=new me("",{providedIn:"root",factory:()=>ce(Xa,Ee.Optional|Ee.SkipSelf)||Vv()});var _d=new me("");function Ri(e){return!!e.platformInjector}function Hv(e){let t=Ri(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Ve);return r.run(()=>{Ri(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let n=t.get(Nt,null),i;if(r.runOutsideAngular(()=>{i=r.onError.subscribe({next:o=>{n.handleError(o)}})}),Ri(e)){let o=()=>t.destroy(),s=e.platformInjector.get(_d);s.add(o),t.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else e.moduleRef.onDestroy(()=>{Fi(e.allPlatformModules,e.moduleRef),i.unsubscribe()});return kv(n,r,()=>{let o=t.get(Ed);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Xa,ro);if(Sv(s||ro),Ri(e)){let u=t.get(fn);return e.rootComponent!==void 0&&u.bootstrap(e.rootComponent),u}else return $v(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function $v(e,t){let r=e.injector.get(fn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(n=>r.bootstrap(n));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(r);else throw new ge(-403,!1);t.push(e)}var Li=null;function Wv(e=[],t){return cn.create({name:t,providers:[{provide:co,useValue:"platform"},{provide:_d,useValue:new Set([()=>Li=null])},...e]})}function zv(e=[]){if(Li)return Li;let t=Wv(e);return Li=t,Rv(),qv(t),t}function qv(e){e.get(Fa,null)?.forEach(r=>r())}var Lr=(()=>{let t=class t{};t.__NG_ELEMENT_ID__=Gv;let e=t;return e})();function Gv(e){return Yv(Ct(),Ye(),(e&16)===16)}function Yv(e,t,r){if(Sa(e)&&!r){let n=Gn(e.index,t);return new Un(n,n)}else if(e.type&175){let n=t[Et];return new Un(n,t)}return null}function Sd(e){try{let{rootComponent:t,appProviders:r,platformProviders:n}=e,i=zv(n),o=[Dd({}),{provide:Vn,useExisting:Uv},...r||[]],s=new to({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Hv({r3Injector:s.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}}var Md=new me("");var Rd=null;function nr(){return Rd}function Od(e){Rd??=e}var _o=class{};var et=new me(""),Pd=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>ce(Jv),providedIn:"platform"});let e=t;return e})();var Jv=(()=>{let t=class t extends Pd{constructor(){super(),this._doc=ce(et),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return nr().getBaseHref(this._doc)}onPopState(n){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=nr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>new t,providedIn:"platform"});let e=t;return e})();function kd(e,t){if(e.length==0)return t;if(t.length==0)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,r==2?e+t.substring(1):r==1?e+t:e+"/"+t}function xd(e){let t=e.match(/#|\?|$/),r=t&&t.index||e.length,n=r-(e[r-1]==="/"?1:0);return e.slice(0,n)+e.slice(r)}function hn(e){return e&&e[0]!=="?"?"?"+e:e}var Mo=(()=>{let t=class t{historyGo(n){throw new Error("")}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>ce(Fd),providedIn:"root"});let e=t;return e})(),Xv=new me(""),Fd=(()=>{let t=class t extends Mo{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ce(et).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return kd(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+hn(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,s){let u=this.prepareExternalUrl(o+hn(s));this._platformLocation.pushState(n,i,u)}replaceState(n,i,o,s){let u=this.prepareExternalUrl(o+hn(s));this._platformLocation.replaceState(n,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}};t.\u0275fac=function(i){return new(i||t)(we(Pd),we(Xv,8))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var jr=(()=>{let t=class t{constructor(n){this._subject=new ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=nw(xd(Td(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+hn(i))}normalize(n){return t.stripTrailingSlash(tw(this._basePath,Td(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hn(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+hn(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}};t.normalizeQueryParams=hn,t.joinWithSlash=kd,t.stripTrailingSlash=xd,t.\u0275fac=function(i){return new(i||t)(we(Mo))},t.\u0275prov=he({token:t,factory:()=>ew(),providedIn:"root"});let e=t;return e})();function ew(){return new jr(we(Mo))}function tw(e,t){if(!e||!t.startsWith(e))return t;let r=t.substring(e.length);return r===""||["/",";","?","#"].includes(r[0])?r:t}function Td(e){return e.replace(/\/index.html$/,"")}function nw(e){if(new RegExp("^(https?:)?//").test(e)){let[,r]=e.split(/\/\/[^\/]+/);return r}return e}function Ld(e,t){t=encodeURIComponent(t);for(let r of e.split(";")){let n=r.indexOf("="),[i,o]=n==-1?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var tu=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=qn({type:t}),t.\u0275inj=zn({});let e=t;return e})(),jd="browser",rw="server";function nu(e){return e===rw}var So=class{};var ou=class extends _o{constructor(){super(...arguments),this.supportsDOMEvents=!0}},su=class e extends ou{static makeCurrent(){Od(new e)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.remove()}createElement(t,r){return r=r||this.getDefaultDocument(),r.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return r==="window"?window:r==="document"?t:r==="body"?t.body:null}getBaseHref(t){let r=ow();return r==null?null:sw(r)}resetBaseElement(){Br=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ld(document.cookie,t)}},Br=null;function ow(){return Br=Br||document.querySelector("base"),Br?Br.getAttribute("href"):null}function sw(e){return new URL(e,document.baseURI).pathname}var aw=(()=>{let t=class t{build(){return new XMLHttpRequest}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac});let e=t;return e})(),xo=new me(""),Hd=(()=>{let t=class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(s=>s.supports(n)),!i)throw new ge(5101,!1);return this._eventNameToPlugin.set(n,i),i}};t.\u0275fac=function(i){return new(i||t)(we(xo),we(Ve))},t.\u0275prov=he({token:t,factory:t.\u0275fac});let e=t;return e})(),Ur=class{constructor(t){this._doc=t}},ru="ng-app-id",$d=(()=>{let t=class t{constructor(n,i,o,s={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nu(s),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${ru}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){let o=this.styleRef;if(o.has(n)){let s=o.get(n);return s.usage+=i,s.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===n)return o.delete(i),s.removeAttribute(ru),s;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=i,this.platformIsServer&&u.setAttribute(ru,this.appId),n.appendChild(u),u}}addStyleToHost(n,i){let o=this.getStyleElement(n,i),s=this.styleRef,u=s.get(i)?.elements;u?u.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};t.\u0275fac=function(i){return new(i||t)(we(et),we(ka),we(La,8),we(Kn))},t.\u0275prov=he({token:t,factory:t.\u0275fac});let e=t;return e})(),iu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},uu=/%COMP%/g,Wd="%COMP%",uw=`_nghost-${Wd}`,cw=`_ngcontent-${Wd}`,lw=!0,fw=new me("",{providedIn:"root",factory:()=>lw});function dw(e){return cw.replace(uu,e)}function hw(e){return uw.replace(uu,e)}function zd(e,t){return t.map(r=>r.replace(uu,e))}var Bd=(()=>{let t=class t{constructor(n,i,o,s,u,p,f,h=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=u,this.platformId=p,this.ngZone=f,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=nu(p),this.defaultRenderer=new Vr(n,u,f,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bt.ShadowDom&&(i=Pe(fe({},i),{encapsulation:bt.Emulated}));let o=this.getOrCreateRenderer(n,i);return o instanceof To?o.applyToHost(n):o instanceof Hr&&o.applyStyles(),o}getOrCreateRenderer(n,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let u=this.doc,p=this.ngZone,f=this.eventManager,h=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,l=this.platformIsServer;switch(i.encapsulation){case bt.Emulated:s=new To(f,h,i,this.appId,d,u,p,l);break;case bt.ShadowDom:return new au(f,h,n,i,u,p,this.nonce,l);default:s=new Hr(f,h,i,d,u,p,l);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};t.\u0275fac=function(i){return new(i||t)(we(Hd),we($d),we(ka),we(fw),we(et),we(Kn),we(Ve),we(La))},t.\u0275prov=he({token:t,factory:t.\u0275fac});let e=t;return e})(),Vr=class{constructor(t,r,n,i){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(iu[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(Ud(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(Ud(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){r.remove()}selectRootElement(t,r){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new ge(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,i){if(i){r=i+":"+r;let o=iu[i];o?t.setAttributeNS(o,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){let i=iu[n];i?t.removeAttributeNS(i,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,i){i&(Rt.DashCase|Rt.Important)?t.style.setProperty(r,n,i&Rt.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&Rt.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t!=null&&(t[r]=n)}setValue(t,r){t.nodeValue=r}listen(t,r,n){if(typeof t=="string"&&(t=nr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if(r==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))===!1&&r.preventDefault()}}};function Ud(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var au=class extends Vr{constructor(t,r,n,i,o,s,u,p){super(t,o,s,p),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=zd(i.id,i.styles);for(let h of f){let d=document.createElement("style");u&&d.setAttribute("nonce",u),d.textContent=h,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(null,r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Hr=class extends Vr{constructor(t,r,n,i,o,s,u,p){super(t,o,s,u),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=p?zd(p,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},To=class extends Hr{constructor(t,r,n,i,o,s,u,p){let f=i+"-"+n.id;super(t,r,n,o,s,u,p,f),this.contentAttr=dw(f),this.hostAttr=hw(f)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){let n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}},pw=(()=>{let t=class t extends Ur{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}};t.\u0275fac=function(i){return new(i||t)(we(et))},t.\u0275prov=he({token:t,factory:t.\u0275fac});let e=t;return e})(),gw=(()=>{let t=class t extends Ur{constructor(n){super(n),this.delegate=ce(Md,{optional:!0})}supports(n){return this.delegate?this.delegate.supports(n):!1}addEventListener(n,i,o){return this.delegate.addEventListener(n,i,o)}removeEventListener(n,i,o){return this.delegate.removeEventListener(n,i,o)}};t.\u0275fac=function(i){return new(i||t)(we(et))},t.\u0275prov=he({token:t,factory:t.\u0275fac});let e=t;return e})(),Vd=["alt","control","meta","shift"],mw={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yw={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},vw=(()=>{let t=class t extends Ur{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,i,o){let s=t.parseEventName(i),u=t.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(n,s.domEventName,u))}static parseEventName(n){let i=n.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=t._normalizeKey(i.pop()),u="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),u="code."),Vd.forEach(h=>{let d=i.indexOf(h);d>-1&&(i.splice(d,1),u+=h+".")}),u+=s,i.length!=0||s.length===0)return null;let f={};return f.domEventName=o,f.fullKey=u,f}static matchEventFullKeyCode(n,i){let o=mw[n.key]||n.key,s="";return i.indexOf("code.")>-1&&(o=n.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Vd.forEach(u=>{if(u!==o){let p=yw[u];p(n)&&(s+=u+".")}}),s+=o,s===i)}static eventCallback(n,i,o){return s=>{t.matchEventFullKeyCode(s,n)&&o.runGuarded(()=>i(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}};t.\u0275fac=function(i){return new(i||t)(we(et))},t.\u0275prov=he({token:t,factory:t.\u0275fac});let e=t;return e})();function qd(e,t){return Sd(fe({rootComponent:e},ww(t)))}function ww(e){return{appProviders:[...Cw,...e?.providers??[]],platformProviders:Iw}}function bw(){su.makeCurrent()}function Ew(){return new Nt}function Dw(){return kf(document),document}var Iw=[{provide:Kn,useValue:jd},{provide:Fa,useValue:bw,multi:!0},{provide:et,useFactory:Dw,deps:[]}];var Cw=[{provide:co,useValue:"root"},{provide:Nt,useFactory:Ew,deps:[]},{provide:xo,useClass:pw,multi:!0,deps:[et,Ve,Kn]},{provide:xo,useClass:vw,multi:!0,deps:[et]},{provide:xo,useClass:gw,multi:!0},Bd,$d,Hd,{provide:$n,useExisting:Bd},{provide:So,useClass:aw,deps:[]},[]];var Gd=(()=>{let t=class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};t.\u0275fac=function(i){return new(i||t)(we(et))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var be="primary",oi=Symbol("RouteTitle"),hu=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){let r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}};function ur(e){return new hu(e)}function Sw(e,t,r){let n=r.path.split("/");if(n.length>e.length||r.pathMatch==="full"&&(t.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],u=e[o];if(s[0]===":")i[s.substring(1)]=u;else if(s!==u.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function Mw(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!St(e[r],t[r]))return!1;return!0}function St(e,t){let r=e?pu(e):void 0,n=t?pu(t):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!th(e[i],t[i]))return!1;return!0}function pu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function th(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let r=[...e].sort(),n=[...t].sort();return r.every((i,o)=>n[o]===i)}else return e===t}function nh(e){return e.length>0?e[e.length-1]:null}function Qt(e){return gs(e)?e:Fr(e)?Ue(Promise.resolve(e)):ye(e)}var xw={exact:ih,subset:oh},rh={exact:Tw,subset:Aw,ignored:()=>!0};function Yd(e,t,r){return xw[r.paths](e.root,t.root,r.matrixParams)&&rh[r.queryParams](e.queryParams,t.queryParams)&&!(r.fragment==="exact"&&e.fragment!==t.fragment)}function Tw(e,t){return St(e,t)}function ih(e,t,r){if(!gn(e.segments,t.segments)||!Ro(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!e.children[n]||!ih(e.children[n],t.children[n],r))return!1;return!0}function Aw(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>th(e[r],t[r]))}function oh(e,t,r){return sh(e,t,t.segments,r)}function sh(e,t,r,n){if(e.segments.length>r.length){let i=e.segments.slice(0,r.length);return!(!gn(i,r)||t.hasChildren()||!Ro(i,r,n))}else if(e.segments.length===r.length){if(!gn(e.segments,r)||!Ro(e.segments,r,n))return!1;for(let i in t.children)if(!e.children[i]||!oh(e.children[i],t.children[i],n))return!1;return!0}else{let i=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!gn(e.segments,i)||!Ro(e.segments,i,n)||!e.children[be]?!1:sh(e.children[be],t,o,n)}}function Ro(e,t,r){return t.every((n,i)=>rh[r](e[i].parameters,n.parameters))}var Lt=class{constructor(t=new Te([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap??=ur(this.queryParams),this._queryParamMap}toString(){return Ow.serialize(this)}},Te=class{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Oo(this)}},pn=class{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap??=ur(this.parameters),this._parameterMap}toString(){return uh(this)}};function Nw(e,t){return gn(e,t)&&e.every((r,n)=>St(r.parameters,t[n].parameters))}function gn(e,t){return e.length!==t.length?!1:e.every((r,n)=>r.path===t[n].path)}function Rw(e,t){let r=[];return Object.entries(e.children).forEach(([n,i])=>{n===be&&(r=r.concat(t(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==be&&(r=r.concat(t(i,n)))}),r}var Uu=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>new Qr,providedIn:"root"});let e=t;return e})(),Qr=class{parse(t){let r=new mu(t);return new Lt(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){let r=`/${$r(t.root,!0)}`,n=Fw(t.queryParams),i=typeof t.fragment=="string"?`#${Pw(t.fragment)}`:"";return`${r}${n}${i}`}},Ow=new Qr;function Oo(e){return e.segments.map(t=>uh(t)).join("/")}function $r(e,t){if(!e.hasChildren())return Oo(e);if(t){let r=e.children[be]?$r(e.children[be],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==be&&n.push(`${i}:${$r(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}else{let r=Rw(e,(n,i)=>i===be?[$r(e.children[be],!1)]:[`${i}:${$r(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[be]!=null?`${Oo(e)}/${r[0]}`:`${Oo(e)}/(${r.join("//")})`}}function ah(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ao(e){return ah(e).replace(/%3B/gi,";")}function Pw(e){return encodeURI(e)}function gu(e){return ah(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Po(e){return decodeURIComponent(e)}function Qd(e){return Po(e.replace(/\+/g,"%20"))}function uh(e){return`${gu(e.path)}${kw(e.parameters)}`}function kw(e){return Object.entries(e).map(([t,r])=>`;${gu(t)}=${gu(r)}`).join("")}function Fw(e){let t=Object.entries(e).map(([r,n])=>Array.isArray(n)?n.map(i=>`${Ao(r)}=${Ao(i)}`).join("&"):`${Ao(r)}=${Ao(n)}`).filter(r=>r);return t.length?`?${t.join("&")}`:""}var Lw=/^[^\/()?;#]+/;function cu(e){let t=e.match(Lw);return t?t[0]:""}var jw=/^[^\/()?;=#]+/;function Bw(e){let t=e.match(jw);return t?t[0]:""}var Uw=/^[^=?&#]+/;function Vw(e){let t=e.match(Uw);return t?t[0]:""}var Hw=/^[^&#]+/;function $w(e){let t=e.match(Hw);return t?t[0]:""}var mu=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[be]=new Te(t,r)),n}parseSegment(){let t=cu(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ge(4009,!1);return this.capture(t),new pn(Po(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let r=Bw(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let i=cu(this.remaining);i&&(n=i,this.capture(n))}t[Po(r)]=Po(n)}parseQueryParam(t){let r=Vw(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){let s=$w(this.remaining);s&&(n=s,this.capture(n))}let i=Qd(r),o=Qd(n);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){let r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=cu(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new ge(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=be);let s=this.parseChildren();r[o]=Object.keys(s).length===1?s[be]:new Te([],s),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ge(4011,!1)}};function ch(e){return e.segments.length>0?new Te([],{[be]:e}):e}function lh(e){let t={};for(let[n,i]of Object.entries(e.children)){let o=lh(i);if(n===be&&o.segments.length===0&&o.hasChildren())for(let[s,u]of Object.entries(o.children))t[s]=u;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}let r=new Te(e.segments,t);return Ww(r)}function Ww(e){if(e.numberOfChildren===1&&e.children[be]){let t=e.children[be];return new Te(e.segments.concat(t.segments),t.children)}return e}function Zr(e){return e instanceof Lt}function zw(e,t,r=null,n=null){let i=fh(e);return dh(i,t,r,n)}function fh(e){let t;function r(o){let s={};for(let p of o.children){let f=r(p);s[p.outlet]=f}let u=new Te(o.url,s);return o===e&&(t=u),u}let n=r(e.root),i=ch(n);return t??i}function dh(e,t,r,n){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return lu(i,i,i,r,n);let o=qw(t);if(o.toRoot())return lu(i,i,new Te([],{}),r,n);let s=Gw(o,i,e),u=s.processChildren?qr(s.segmentGroup,s.index,o.commands):ph(s.segmentGroup,s.index,o.commands);return lu(i,s.segmentGroup,u,r,n)}function ko(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Kr(e){return typeof e=="object"&&e!=null&&e.outlets}function lu(e,t,r,n,i){let o={};n&&Object.entries(n).forEach(([p,f])=>{o[p]=Array.isArray(f)?f.map(h=>`${h}`):`${f}`});let s;e===t?s=r:s=hh(e,t,r);let u=ch(lh(s));return new Lt(u,o,i)}function hh(e,t,r){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===t?n[i]=r:n[i]=hh(o,t,r)}),new Te(e.segments,n)}var Fo=class{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&ko(n[0]))throw new ge(4003,!1);let i=n.find(Kr);if(i&&i!==nh(n))throw new ge(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qw(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Fo(!0,0,e);let t=0,r=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let u={};return Object.entries(o.outlets).forEach(([p,f])=>{u[p]=typeof f=="string"?f.split("/"):f}),[...i,{outlets:u}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((u,p)=>{p==0&&u==="."||(p==0&&u===""?r=!0:u===".."?t++:u!=""&&i.push(u))}),i):[...i,o]},[]);return new Fo(r,t,n)}var or=class{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}};function Gw(e,t,r){if(e.isAbsolute)return new or(t,!0,0);if(!r)return new or(t,!1,NaN);if(r.parent===null)return new or(r,!0,0);let n=ko(e.commands[0])?0:1,i=r.segments.length-1+n;return Yw(r,i,e.numberOfDoubleDots)}function Yw(e,t,r){let n=e,i=t,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new ge(4005,!1);i=n.segments.length}return new or(n,!1,i-o)}function Qw(e){return Kr(e[0])?e[0].outlets:{[be]:e}}function ph(e,t,r){if(e??=new Te([],{}),e.segments.length===0&&e.hasChildren())return qr(e,t,r);let n=Zw(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new Te(e.segments.slice(0,n.pathIndex),{});return o.children[be]=new Te(e.segments.slice(n.pathIndex),e.children),qr(o,0,i)}else return n.match&&i.length===0?new Te(e.segments,{}):n.match&&!e.hasChildren()?yu(e,t,r):n.match?qr(e,0,i):yu(e,t,r)}function qr(e,t,r){if(r.length===0)return new Te(e.segments,{});{let n=Qw(r),i={};if(Object.keys(n).some(o=>o!==be)&&e.children[be]&&e.numberOfChildren===1&&e.children[be].segments.length===0){let o=qr(e.children[be],t,r);return new Te(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ph(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new Te(e.segments,i)}}function Zw(e,t,r){let n=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return o;let s=e.segments[i],u=r[n];if(Kr(u))break;let p=`${u}`,f=n<r.length-1?r[n+1]:null;if(i>0&&p===void 0)break;if(p&&f&&typeof f=="object"&&f.outlets===void 0){if(!Kd(p,f,s))return o;n+=2}else{if(!Kd(p,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function yu(e,t,r){let n=e.segments.slice(0,t),i=0;for(;i<r.length;){let o=r[i];if(Kr(o)){let p=Kw(o.outlets);return new Te(n,p)}if(i===0&&ko(r[0])){let p=e.segments[t];n.push(new pn(p.path,Zd(r[0]))),i++;continue}let s=Kr(o)?o.outlets[be]:`${o}`,u=i<r.length-1?r[i+1]:null;s&&u&&ko(u)?(n.push(new pn(s,Zd(u))),i+=2):(n.push(new pn(s,{})),i++)}return new Te(n,{})}function Kw(e){let t={};return Object.entries(e).forEach(([r,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[r]=yu(new Te([],{}),0,n))}),t}function Zd(e){let t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function Kd(e,t,r){return e==r.path&&St(t,r.parameters)}var Gr="imperative",qe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(qe||{}),ut=class{constructor(t,r){this.id=t,this.url=r}},Jr=class extends ut{constructor(t,r,n="imperative",i=null){super(t,r),this.type=qe.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},mn=class extends ut{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(nt||{}),vu=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(vu||{}),Ft=class extends ut{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yn=class extends ut{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=qe.NavigationSkipped}},Xr=class extends ut{constructor(t,r,n,i){super(t,r),this.error=n,this.target=i,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Lo=class extends ut{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wu=class extends ut{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bu=class extends ut{constructor(t,r,n,i,o){super(t,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Eu=class extends ut{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Du=class extends ut{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iu=class{constructor(t){this.route=t,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cu=class{constructor(t){this.route=t,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_u=class{constructor(t){this.snapshot=t,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Su=class{constructor(t){this.snapshot=t,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mu=class{constructor(t){this.snapshot=t,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xu=class{constructor(t){this.snapshot=t,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ei=class{},cr=class{constructor(t,r){this.url=t,this.navigationBehaviorOptions=r}};function Jw(e,t){return e.providers&&!e._injector&&(e._injector=Qa(e.providers,t,`Route: ${e.path}`)),e._injector??t}function gt(e){return e.outlet||be}function Xw(e,t){let r=e.filter(n=>gt(n)===t);return r.push(...e.filter(n=>gt(n)!==t)),r}function si(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}var Tu=class{get injector(){return si(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Wo(this.rootInjector),this.attachRef=null}},Wo=(()=>{let t=class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new Tu(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}};t.\u0275fac=function(i){return new(i||t)(we(at))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),jo=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){let r=Au(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){let r=Au(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){let r=Nu(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Nu(t,this._root).map(r=>r.value)}};function Au(e,t){if(e===t.value)return t;for(let r of t.children){let n=Au(e,r);if(n)return n}return null}function Nu(e,t){if(e===t.value)return[t];for(let r of t.children){let n=Nu(e,r);if(n.length)return n.unshift(t),n}return[]}var tt=class{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}};function ir(e){let t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}var Bo=class extends jo{constructor(t,r){super(t),this.snapshot=r,Vu(this,t)}toString(){return this.snapshot.toString()}};function gh(e){let t=eb(e),r=new Be([new pn("",{})]),n=new Be({}),i=new Be({}),o=new Be({}),s=new Be(""),u=new lr(r,n,o,s,i,be,e,t.root);return u.snapshot=t.root,new Bo(new tt(u,[]),t)}function eb(e){let t={},r={},n={},i="",o=new sr([],t,n,i,r,be,e,null,{});return new Vo("",new tt(o,[]))}var lr=class{constructor(t,r,n,i,o,s,u,p){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=u,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(_e(f=>f[oi]))??ye(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(_e(t=>ur(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(_e(t=>ur(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uo(e,t,r="emptyOnly"){let n,{routeConfig:i}=e;return t!==null&&(r==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:fe(fe({},t.params),e.params),data:fe(fe({},t.data),e.data),resolve:fe(fe(fe(fe({},e.data),t.data),i?.data),e._resolvedData)}:n={params:fe({},e.params),data:fe({},e.data),resolve:fe(fe({},e.data),e._resolvedData??{})},i&&yh(i)&&(n.resolve[oi]=i.title),n}var sr=class{get title(){return this.data?.[oi]}constructor(t,r,n,i,o,s,u,p,f){this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=u,this.routeConfig=p,this._resolve=f}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ur(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ur(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),r=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${r}')`}},Vo=class extends jo{constructor(t,r){super(r),this.url=t,Vu(this,r)}toString(){return mh(this._root)}};function Vu(e,t){t.value._routerState=e,t.children.forEach(r=>Vu(e,r))}function mh(e){let t=e.children.length>0?` { ${e.children.map(mh).join(", ")} } `:"";return`${e.value}${t}`}function fu(e){if(e.snapshot){let t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,St(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),St(t.params,r.params)||e.paramsSubject.next(r.params),Mw(t.url,r.url)||e.urlSubject.next(r.url),St(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ru(e,t){let r=St(e.params,t.params)&&Nw(e.url,t.url),n=!e.parent!=!t.parent;return r&&!n&&(!e.parent||Ru(e.parent,t.parent))}function yh(e){return typeof e.title=="string"||e.title===null}var tb=(()=>{let t=class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=be,this.activateEvents=new ke,this.deactivateEvents=new ke,this.attachEvents=new ke,this.detachEvents=new ke,this.parentContexts=ce(Wo),this.location=ce(Eo),this.changeDetector=ce(Lr),this.inputBinder=ce(Hu,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ge(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ge(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ge(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new ge(4013,!1);this._activatedRoute=n;let o=this.location,u=n.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,f=new Ou(n,p,o.injector);this.activated=o.createComponent(u,{index:o.length,injector:f,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=Da({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ho]});let e=t;return e})(),Ou=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===lr?this.route:t===Wo?this.childContexts:this.parent.get(t,r)}},Hu=new me("");function nb(e,t,r){let n=ti(e,t._root,r?r._root:void 0);return new Bo(n,t)}function ti(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){let n=r.value;n._futureSnapshot=t.value;let i=rb(e,t,r);return new tt(n,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(u=>ti(e,u)),s}}let n=ib(t.value),i=t.children.map(o=>ti(e,o));return new tt(n,i)}}function rb(e,t,r){return t.children.map(n=>{for(let i of r.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return ti(e,n,i);return ti(e,n)})}function ib(e){return new lr(new Be(e.url),new Be(e.params),new Be(e.queryParams),new Be(e.fragment),new Be(e.data),e.outlet,e.component,e)}var ni=class{constructor(t,r){this.redirectTo=t,this.navigationBehaviorOptions=r}},vh="ngNavigationCancelingError";function Ho(e,t){let{redirectTo:r,navigationBehaviorOptions:n}=Zr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=wh(!1,nt.Redirect);return i.url=r,i.navigationBehaviorOptions=n,i}function wh(e,t){let r=new Error(`NavigationCancelingError: ${e||""}`);return r[vh]=!0,r.cancellationCode=t,r}function ob(e){return bh(e)&&Zr(e.url)}function bh(e){return!!e&&e[vh]}var sb=(e,t,r,n)=>_e(i=>(new Pu(t,i.targetRouterState,i.currentRouterState,r,n).activate(e),i)),Pu=class{constructor(t,r,n,i,o){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),fu(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){let i=ir(r);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,r,n){let i=t.value,o=r?r.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(t,r,s.children)}else this.deactivateChildRoutes(t,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=ir(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),u=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:u})}}deactivateRouteAndOutlet(t,r){let n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=ir(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){let i=ir(r);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new xu(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Su(t.value.snapshot))}activateRoutes(t,r,n){let i=t.value,o=r?r.value:null;if(fu(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,s.children)}else this.activateChildRoutes(t,r,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let u=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(u.contexts),s.attachRef=u.componentRef,s.route=u.route.value,s.outlet&&s.outlet.attach(u.componentRef,u.route.value),fu(u.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,n)}},$o=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ar=class{constructor(t,r){this.component=t,this.route=r}};function ab(e,t,r){let n=e._root,i=t?t._root:null;return Wr(n,i,r,[n.value])}function ub(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function dr(e,t){let r=Symbol(),n=t.get(e,r);return n===r?typeof e=="function"&&!wl(e)?e:t.get(e):n}function Wr(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ir(t);return e.children.forEach(s=>{cb(s,o[s.value.outlet],r,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,u])=>Yr(u,r.getContext(s),i)),i}function cb(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let p=lb(s,o,o.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new $o(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Wr(e,t,u?u.children:null,n,i):Wr(e,t,r,n,i),p&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new ar(u.outlet.component,s))}else s&&Yr(t,u,i),i.canActivateChecks.push(new $o(n)),o.component?Wr(e,null,u?u.children:null,n,i):Wr(e,null,r,n,i);return i}function lb(e,t,r){if(typeof r=="function")return r(e,t);switch(r){case"pathParamsChange":return!gn(e.url,t.url);case"pathParamsOrQueryParamsChange":return!gn(e.url,t.url)||!St(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ru(e,t)||!St(e.queryParams,t.queryParams);case"paramsChange":default:return!Ru(e,t)}}function Yr(e,t,r){let n=ir(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?t?Yr(s,t.children.getContext(o),r):Yr(s,null,r):Yr(s,t,r)}),i.component?t&&t.outlet&&t.outlet.isActivated?r.canDeactivateChecks.push(new ar(t.outlet.component,i)):r.canDeactivateChecks.push(new ar(null,i)):r.canDeactivateChecks.push(new ar(null,i))}function ai(e){return typeof e=="function"}function fb(e){return typeof e=="boolean"}function db(e){return e&&ai(e.canLoad)}function hb(e){return e&&ai(e.canActivate)}function pb(e){return e&&ai(e.canActivateChild)}function gb(e){return e&&ai(e.canDeactivate)}function mb(e){return e&&ai(e.canMatch)}function Eh(e){return e instanceof Mt||e?.name==="EmptyError"}var No=Symbol("INITIAL_VALUE");function fr(){return lt(e=>Si(e.map(t=>t.pipe(xt(1),Is(No)))).pipe(_e(t=>{for(let r of t)if(r!==!0){if(r===No)return No;if(r===!1||yb(r))return r}return!0}),Je(t=>t!==No),xt(1)))}function yb(e){return Zr(e)||e instanceof ni}function vb(e,t){return $e(r=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=r;return s.length===0&&o.length===0?ye(Pe(fe({},r),{guardsResult:!0})):wb(s,n,i,e).pipe($e(u=>u&&fb(u)?bb(n,o,e,t):ye(u)),_e(u=>Pe(fe({},r),{guardsResult:u})))})}function wb(e,t,r,n){return Ue(e).pipe($e(i=>_b(i.component,i.route,r,t,n)),yt(i=>i!==!0,!0))}function bb(e,t,r,n){return Ue(t).pipe(Tn(i=>xn(Db(i.route.parent,n),Eb(i.route,n),Cb(e,i.path,r),Ib(e,i.route,r))),yt(i=>i!==!0,!0))}function Eb(e,t){return e!==null&&t&&t(new Mu(e)),ye(!0)}function Db(e,t){return e!==null&&t&&t(new _u(e)),ye(!0)}function Ib(e,t,r){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return ye(!0);let i=n.map(o=>Mi(()=>{let s=si(t)??r,u=dr(o,s),p=hb(u)?u.canActivate(t,e):Ot(s,()=>u(t,e));return Qt(p).pipe(yt())}));return ye(i).pipe(fr())}function Cb(e,t,r){let n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>ub(s)).filter(s=>s!==null).map(s=>Mi(()=>{let u=s.guards.map(p=>{let f=si(s.node)??r,h=dr(p,f),d=pb(h)?h.canActivateChild(n,e):Ot(f,()=>h(n,e));return Qt(d).pipe(yt())});return ye(u).pipe(fr())}));return ye(o).pipe(fr())}function _b(e,t,r,n,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return ye(!0);let s=o.map(u=>{let p=si(t)??i,f=dr(u,p),h=gb(f)?f.canDeactivate(e,t,r,n):Ot(p,()=>f(e,t,r,n));return Qt(h).pipe(yt())});return ye(s).pipe(fr())}function Sb(e,t,r,n){let i=t.canLoad;if(i===void 0||i.length===0)return ye(!0);let o=i.map(s=>{let u=dr(s,e),p=db(u)?u.canLoad(t,r):Ot(e,()=>u(t,r));return Qt(p)});return ye(o).pipe(fr(),Dh(n))}function Dh(e){return cs(ze(t=>{if(typeof t!="boolean")throw Ho(e,t)}),_e(t=>t===!0))}function Mb(e,t,r,n){let i=t.canMatch;if(!i||i.length===0)return ye(!0);let o=i.map(s=>{let u=dr(s,e),p=mb(u)?u.canMatch(t,r):Ot(e,()=>u(t,r));return Qt(p)});return ye(o).pipe(fr(),Dh(n))}var ri=class{constructor(t){this.segmentGroup=t||null}},ii=class extends Error{constructor(t){super(),this.urlTree=t}};function rr(e){return Mn(new ri(e))}function xb(e){return Mn(new ge(4e3,!1))}function Tb(e){return Mn(wh(!1,nt.GuardRejected))}var ku=class{constructor(t,r){this.urlSerializer=t,this.urlTree=r}lineralizeSegments(t,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return ye(n);if(i.numberOfChildren>1||!i.children[be])return xb(`${t.redirectTo}`);i=i.children[be]}}applyRedirectCommands(t,r,n,i,o){if(typeof r!="string"){let u=r,{queryParams:p,fragment:f,routeConfig:h,url:d,outlet:l,params:a,data:c,title:g}=i,w=Ot(o,()=>u({params:a,data:c,queryParams:p,fragment:f,routeConfig:h,url:d,outlet:l,title:g}));if(w instanceof Lt)throw new ii(w);r=w}let s=this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n);if(r[0]==="/")throw new ii(s);return s}applyRedirectCreateUrlTree(t,r,n,i){let o=this.createSegmentGroup(t,r.root,n,i);return new Lt(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){let n={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let u=o.substring(1);n[i]=r[u]}else n[i]=o}),n}createSegmentGroup(t,r,n,i){let o=this.createSegments(t,r.segments,n,i),s={};return Object.entries(r.children).forEach(([u,p])=>{s[u]=this.createSegmentGroup(t,p,n,i)}),new Te(o,s)}createSegments(t,r,n,i){return r.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,r,n){let i=n[r.path.substring(1)];if(!i)throw new ge(4001,!1);return i}findOrReturn(t,r){let n=0;for(let i of r){if(i.path===t.path)return r.splice(n),i;n++}return t}},Fu={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ab(e,t,r,n,i){let o=Ih(e,t,r);return o.matched?(n=Jw(t,n),Mb(n,t,r,i).pipe(_e(s=>s===!0?o:fe({},Fu)))):ye(o)}function Ih(e,t,r){if(t.path==="**")return Nb(r);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||r.length>0)?fe({},Fu):{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Sw)(r,e,t);if(!i)return fe({},Fu);let o={};Object.entries(i.posParams??{}).forEach(([u,p])=>{o[u]=p.path});let s=i.consumed.length>0?fe(fe({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Nb(e){return{matched:!0,parameters:e.length>0?nh(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Jd(e,t,r,n){return r.length>0&&Pb(e,r,n)?{segmentGroup:new Te(t,Ob(n,new Te(r,e.children))),slicedSegments:[]}:r.length===0&&kb(e,r,n)?{segmentGroup:new Te(e.segments,Rb(e,r,n,e.children)),slicedSegments:r}:{segmentGroup:new Te(e.segments,e.children),slicedSegments:r}}function Rb(e,t,r,n){let i={};for(let o of r)if(zo(e,t,o)&&!n[gt(o)]){let s=new Te([],{});i[gt(o)]=s}return fe(fe({},n),i)}function Ob(e,t){let r={};r[be]=t;for(let n of e)if(n.path===""&&gt(n)!==be){let i=new Te([],{});r[gt(n)]=i}return r}function Pb(e,t,r){return r.some(n=>zo(e,t,n)&&gt(n)!==be)}function kb(e,t,r){return r.some(n=>zo(e,t,n))}function zo(e,t,r){return(e.hasChildren()||t.length>0)&&r.pathMatch==="full"?!1:r.path===""}function Fb(e,t,r){return t.length===0&&!e.children[r]}var Lu=class{};function Lb(e,t,r,n,i,o,s="emptyOnly"){return new ju(e,t,r,n,i,s,o).recognize()}var jb=31,ju=class{constructor(t,r,n,i,o,s,u){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=u,this.applyRedirects=new ku(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ge(4002,`'${t.segmentGroup}'`)}recognize(){let t=Jd(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(_e(({children:r,rootSnapshot:n})=>{let i=new tt(n,r),o=new Vo("",i),s=zw(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let r=new sr([],Object.freeze({}),Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),be,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,be,r).pipe(_e(n=>({children:n,rootSnapshot:r})),Ht(n=>{if(n instanceof ii)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof ri?this.noMatchError(n):n}))}processSegmentGroup(t,r,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,r,n,o):this.processSegment(t,r,n,n.segments,i,!0,o).pipe(_e(s=>s instanceof tt?[s]:[]))}processChildren(t,r,n,i){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return Ue(o).pipe(Tn(s=>{let u=n.children[s],p=Xw(r,s);return this.processSegmentGroup(t,p,u,s,i)}),Ds((s,u)=>(s.push(...u),s)),$t(null),ws(),$e(s=>{if(s===null)return rr(n);let u=Ch(s);return Bb(u),ye(u)}))}processSegment(t,r,n,i,o,s,u){return Ue(r).pipe(Tn(p=>this.processSegmentAgainstRoute(p._injector??t,r,p,n,i,o,s,u).pipe(Ht(f=>{if(f instanceof ri)return ye(null);throw f}))),yt(p=>!!p),Ht(p=>{if(Eh(p))return Fb(n,i,o)?ye(new Lu):rr(n);throw p}))}processSegmentAgainstRoute(t,r,n,i,o,s,u,p){return gt(n)!==s&&(s===be||!zo(i,o,n))?rr(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,o,s,p):this.allowRedirects&&u?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,n,o,s,p):rr(i)}expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,u){let{matched:p,parameters:f,consumedSegments:h,positionalParamSegments:d,remainingSegments:l}=Ih(r,i,o);if(!p)return rr(r);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jb&&(this.allowRedirects=!1));let a=new sr(o,f,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,Xd(i),gt(i),i.component??i._loadedComponent??null,i,eh(i)),c=Uo(a,u,this.paramsInheritanceStrategy);a.params=Object.freeze(c.params),a.data=Object.freeze(c.data);let g=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,d,a,t);return this.applyRedirects.lineralizeSegments(i,g).pipe($e(w=>this.processSegment(t,n,r,w.concat(l),s,!1,u)))}matchSegmentAgainstRoute(t,r,n,i,o,s){let u=Ab(r,n,i,t,this.urlSerializer);return n.path==="**"&&(r.children={}),u.pipe(lt(p=>p.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(lt(({routes:f})=>{let h=n._loadedInjector??t,{parameters:d,consumedSegments:l,remainingSegments:a}=p,c=new sr(l,d,Object.freeze(fe({},this.urlTree.queryParams)),this.urlTree.fragment,Xd(n),gt(n),n.component??n._loadedComponent??null,n,eh(n)),g=Uo(c,s,this.paramsInheritanceStrategy);c.params=Object.freeze(g.params),c.data=Object.freeze(g.data);let{segmentGroup:w,slicedSegments:b}=Jd(r,l,a,f);if(b.length===0&&w.hasChildren())return this.processChildren(h,f,w,c).pipe(_e(I=>new tt(c,I)));if(f.length===0&&b.length===0)return ye(new tt(c,[]));let D=gt(n)===o;return this.processSegment(h,f,w,b,D?be:o,!0,c).pipe(_e(I=>new tt(c,I instanceof tt?[I]:[])))}))):rr(r)))}getChildConfig(t,r,n){return r.children?ye({routes:r.children,injector:t}):r.loadChildren?r._loadedRoutes!==void 0?ye({routes:r._loadedRoutes,injector:r._loadedInjector}):Sb(t,r,n,this.urlSerializer).pipe($e(i=>i?this.configLoader.loadChildren(t,r).pipe(ze(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):Tb(r))):ye({routes:[],injector:t})}};function Bb(e){e.sort((t,r)=>t.value.outlet===be?-1:r.value.outlet===be?1:t.value.outlet.localeCompare(r.value.outlet))}function Ub(e){let t=e.value.routeConfig;return t&&t.path===""}function Ch(e){let t=[],r=new Set;for(let n of e){if(!Ub(n)){t.push(n);continue}let i=t.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),r.add(i)):t.push(n)}for(let n of r){let i=Ch(n.children);t.push(new tt(n.value,i))}return t.filter(n=>!r.has(n))}function Xd(e){return e.data||{}}function eh(e){return e.resolve||{}}function Vb(e,t,r,n,i,o){return $e(s=>Lb(e,t,r,n,s.extractedUrl,i,o).pipe(_e(({state:u,tree:p})=>Pe(fe({},s),{targetSnapshot:u,urlAfterRedirects:p}))))}function Hb(e,t){return $e(r=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return ye(r);let o=new Set(i.map(p=>p.route)),s=new Set;for(let p of o)if(!s.has(p))for(let f of _h(p))s.add(f);let u=0;return Ue(s).pipe(Tn(p=>o.has(p)?$b(p,n,e,t):(p.data=Uo(p,p.parent,e).resolve,ye(void 0))),ze(()=>u++),An(1),$e(p=>u===s.size?ye(r):We))})}function _h(e){let t=e.children.map(r=>_h(r)).flat();return[e,...t]}function $b(e,t,r,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!yh(i)&&(o[oi]=i.title),Wb(o,e,t,n).pipe(_e(s=>(e._resolvedData=s,e.data=Uo(e,e.parent,r).resolve,null)))}function Wb(e,t,r,n){let i=pu(e);if(i.length===0)return ye({});let o={};return Ue(i).pipe($e(s=>zb(e[s],t,r,n).pipe(yt(),ze(u=>{if(u instanceof ni)throw Ho(new Qr,u);o[s]=u}))),An(1),vs(o),Ht(s=>Eh(s)?We:Mn(s)))}function zb(e,t,r,n){let i=si(t)??n,o=dr(e,i),s=o.resolve?o.resolve(t,r):Ot(i,()=>o(t,r));return Qt(s)}function du(e){return lt(t=>{let r=e(t);return r?Ue(r).pipe(_e(()=>t)):ye(t)})}var Sh=(()=>{let t=class t{buildTitle(n){let i,o=n.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===be);return i}getResolvedTitleForRoute(n){return n.data[oi]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>ce(qb),providedIn:"root"});let e=t;return e})(),qb=(()=>{let t=class t extends Sh{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}};t.\u0275fac=function(i){return new(i||t)(we(Gd))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),$u=new me("",{providedIn:"root",factory:()=>({})}),Gb=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=ao({type:t,selectors:[["ng-component"]],standalone:!0,features:[Io],decls:1,vars:0,template:function(i,o){i&1&&er(0,"router-outlet")},dependencies:[tb],encapsulation:2});let e=t;return e})();function Wu(e){let t=e.children&&e.children.map(Wu),r=t?Pe(fe({},e),{children:t}):fe({},e);return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==be&&(r.component=Gb),r}var zu=new me(""),Yb=(()=>{let t=class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(Ja)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ye(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=Qt(n.loadComponent()).pipe(_e(Mh),ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),vr(()=>{this.componentLoaders.delete(n)})),o=new Vt(i,()=>new Fe).pipe(Ut());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ye({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=Qb(i,this.compiler,n,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(i)})),u=new Vt(s,()=>new Fe).pipe(Ut());return this.childrenLoaders.set(i,u),u}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function Qb(e,t,r,n){return Qt(e.loadChildren()).pipe(_e(Mh),$e(i=>i instanceof Ar||Array.isArray(i)?ye(i):Ue(t.compileModuleAsync(i))),_e(i=>{n&&n(e);let o,s,u=!1;return Array.isArray(i)?(s=i,u=!0):(o=i.create(r).injector,s=o.get(zu,[],{optional:!0,self:!0}).flat()),{routes:s.map(Wu),injector:o}}))}function Zb(e){return e&&typeof e=="object"&&"default"in e}function Mh(e){return Zb(e)?e.default:e}var qu=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>ce(Kb),providedIn:"root"});let e=t;return e})(),Kb=(()=>{let t=class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),Jb=new me("");var Xb=new me(""),e0=(()=>{let t=class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=ce(Yb),this.environmentInjector=ce(at),this.urlSerializer=ce(Uu),this.rootContexts=ce(Wo),this.location=ce(jr),this.inputBindingEnabled=ce(Hu,{optional:!0})!==null,this.titleStrategy=ce(Sh),this.options=ce($u,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=ce(qu),this.createViewTransition=ce(Jb,{optional:!0}),this.navigationErrorHandler=ce(Xb,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ye(void 0),this.rootComponentType=null;let n=o=>this.events.next(new Iu(o)),i=o=>this.events.next(new Cu(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Pe(fe(fe({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,o){return this.transitions=new Be({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Gr,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Je(s=>s.id!==0),_e(s=>Pe(fe({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),lt(s=>{let u=!1,p=!1;return ye(s).pipe(lt(f=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",nt.SupersededByNewNavigation),We;this.currentTransition=s,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,targetBrowserUrl:typeof f.extras.browserUrl=="string"?this.urlSerializer.parse(f.extras.browserUrl):f.extras.browserUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Pe(fe({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=f.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!h&&d!=="reload"){let l="";return this.events.next(new yn(f.id,this.urlSerializer.serialize(f.rawUrl),l,vu.IgnoredSameUrlNavigation)),f.resolve(!1),We}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return ye(f).pipe(lt(l=>{let a=this.transitions?.getValue();return this.events.next(new Jr(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),a!==this.transitions?.getValue()?We:Promise.resolve(l)}),Vb(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(l=>{s.targetSnapshot=l.targetSnapshot,s.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=Pe(fe({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let a=new Lo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(a)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:l,extractedUrl:a,source:c,restoredState:g,extras:w}=f,b=new Jr(l,this.urlSerializer.serialize(a),c,g);this.events.next(b);let D=gh(this.rootComponentType).snapshot;return this.currentTransition=s=Pe(fe({},f),{targetSnapshot:D,urlAfterRedirects:a,extras:Pe(fe({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=a,ye(s)}else{let l="";return this.events.next(new yn(f.id,this.urlSerializer.serialize(f.extractedUrl),l,vu.IgnoredByUrlHandlingStrategy)),f.resolve(!1),We}}),ze(f=>{let h=new wu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}),_e(f=>(this.currentTransition=s=Pe(fe({},f),{guards:ab(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),s)),vb(this.environmentInjector,f=>this.events.next(f)),ze(f=>{if(s.guardsResult=f.guardsResult,f.guardsResult&&typeof f.guardsResult!="boolean")throw Ho(this.urlSerializer,f.guardsResult);let h=new bu(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(h)}),Je(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",nt.GuardRejected),!1)),du(f=>{if(f.guards.canActivateChecks.length)return ye(f).pipe(ze(h=>{let d=new Eu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}),lt(h=>{let d=!1;return ye(h).pipe(Hb(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(h,"",nt.NoDataFromResolver)}}))}),ze(h=>{let d=new Du(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}))}),du(f=>{let h=d=>{let l=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(d.routeConfig).pipe(ze(a=>{d.component=a}),_e(()=>{})));for(let a of d.children)l.push(...h(a));return l};return Si(h(f.targetSnapshot.root)).pipe($t(null),xt(1))}),du(()=>this.afterPreactivation()),lt(()=>{let{currentSnapshot:f,targetSnapshot:h}=s,d=this.createViewTransition?.(this.environmentInjector,f.root,h.root);return d?Ue(d).pipe(_e(()=>s)):ye(s)}),_e(f=>{let h=nb(n.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=s=Pe(fe({},f),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),ze(()=>{this.events.next(new ei)}),sb(this.rootContexts,n.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),xt(1),ze({next:f=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new mn(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{u=!0}}),Cs(this.transitionAbortSubject.pipe(ze(f=>{throw f}))),vr(()=>{!u&&!p&&this.cancelNavigationTransition(s,"",nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ht(f=>{if(p=!0,bh(f))this.events.next(new Ft(s.id,this.urlSerializer.serialize(s.extractedUrl),f.message,f.cancellationCode)),ob(f)?this.events.next(new cr(f.url,f.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Xr(s.id,this.urlSerializer.serialize(s.extractedUrl),f,s.targetSnapshot??void 0);try{let d=Ot(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(d instanceof ni){let{message:l,cancellationCode:a}=Ho(this.urlSerializer,d);this.events.next(new Ft(s.id,this.urlSerializer.serialize(s.extractedUrl),l,a)),this.events.next(new cr(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(h);let l=n.errorHandler(f);s.resolve(!!l)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return We}))}))}cancelNavigationTransition(n,i,o){let s=new Ft(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function t0(e){return e!==Gr}var n0=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>ce(r0),providedIn:"root"});let e=t;return e})(),Bu=class{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}},r0=(()=>{let t=class t extends Bu{};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Na(t)))(o||t)}})(),t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),xh=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:()=>ce(i0),providedIn:"root"});let e=t;return e})(),i0=(()=>{let t=class t extends xh{constructor(){super(...arguments),this.location=ce(jr),this.urlSerializer=ce(Uu),this.options=ce($u,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=ce(qu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Lt,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gh(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Jr)this.stateMemento=this.createStateMemento();else if(n instanceof yn)this.rawUrlTree=i.initialUrl;else if(n instanceof Lo){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else n instanceof ei?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof Ft&&(n.code===nt.GuardRejected||n.code===nt.NoDataFromResolver)?this.restoreHistory(i):n instanceof Xr?this.restoreHistory(i,!0):n instanceof mn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let o=n instanceof Lt?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,u=fe(fe({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",u)}else{let s=fe(fe({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}};t.\u0275fac=(()=>{let n;return function(o){return(n||(n=Na(t)))(o||t)}})(),t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})(),zr=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(zr||{});function o0(e,t){e.events.pipe(Je(r=>r instanceof mn||r instanceof Ft||r instanceof Xr||r instanceof yn),_e(r=>r instanceof mn||r instanceof yn?zr.COMPLETE:(r instanceof Ft?r.code===nt.Redirect||r.code===nt.SupersededByNewNavigation:!1)?zr.REDIRECTING:zr.FAILED),Je(r=>r!==zr.REDIRECTING),xt(1)).subscribe(()=>{t()})}function s0(e){throw e}var a0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},u0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Th=(()=>{let t=class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=ce(Co),this.stateManager=ce(xh),this.options=ce($u,{optional:!0})||{},this.pendingTasks=ce(Zn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=ce(e0),this.urlSerializer=ce(Uu),this.location=ce(jr),this.urlHandlingStrategy=ce(qu),this._events=new Fe,this.errorHandler=this.options.errorHandler||s0,this.navigated=!1,this.routeReuseStrategy=ce(n0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=ce(zu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!ce(Hu,{optional:!0}),this.eventsSubscription=new je,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Ft&&i.code!==nt.Redirect&&i.code!==nt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof mn)this.navigated=!0;else if(i instanceof cr){let u=i.navigationBehaviorOptions,p=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),f=fe({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||t0(o.source)},u);this.scheduleNavigation(p,Gr,null,f,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}l0(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,o){let s={replaceUrl:!0},u=o?.navigationId?o:null;if(o){let f=fe({},o);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(s.state=f)}let p=this.parseUrl(n);this.scheduleNavigation(p,i,u,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Wu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:o,queryParams:s,fragment:u,queryParamsHandling:p,preserveFragment:f}=i,h=f?this.currentUrlTree.fragment:u,d=null;switch(p??this.options.defaultQueryParamsHandling){case"merge":d=fe(fe({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let l;try{let a=o?o.snapshot:this.routerState.snapshot.root;l=fh(a)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),l=this.currentUrlTree.root}return dh(l,n,d,h??null)}navigateByUrl(n,i={skipLocationChange:!1}){let o=Zr(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Gr,null,i)}navigate(n,i={skipLocationChange:!1}){return c0(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let o;if(i===!0?o=fe({},a0):i===!1?o=fe({},u0):o=i,Zr(n))return Yd(this.currentUrlTree,n,o);let s=this.parseUrl(n);return Yd(this.currentUrlTree,s,o)}removeEmptyProps(n){return Object.entries(n).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(n,i,o,s,u){if(this.disposed)return Promise.resolve(!1);let p,f,h;u?(p=u.resolve,f=u.reject,h=u.promise):h=new Promise((l,a)=>{p=l,f=a});let d=this.pendingTasks.add();return o0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:p,reject:f,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(l=>Promise.reject(l))}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function c0(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new ge(4008,!1)}function l0(e){return!(e instanceof ei)&&!(e instanceof cr)}var f0=new me("");function Ah(e,...t){return uo([{provide:zu,multi:!0,useValue:e},[],{provide:lr,useFactory:d0,deps:[Th]},{provide:Ka,multi:!0,useFactory:h0},t.map(r=>r.\u0275providers)])}function d0(e){return e.routerState.root}function h0(){let e=ce(cn);return t=>{let r=e.get(fn);if(t!==r.components[0])return;let n=e.get(Th),i=e.get(p0);e.get(g0)===1&&n.initialNavigation(),e.get(m0,null,Ee.Optional)?.setUpPreloading(),e.get(f0,null,Ee.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var p0=new me("",{factory:()=>new Fe}),g0=new me("",{providedIn:"root",factory:()=>1});var m0=new me("");var Nh=[];var Ox=Xu(Yu(),1),Oh=Xu(Yu(),1);var hr=function(e){return e[e.CLOSED=0]="CLOSED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED",e}(hr||{});var Ph=new me("NgxMqttServiceConfig"),kh=new me("NgxMqttClientService"),Fh=(()=>{let t=class t{static forRoot(n,i){return{ngModule:t,providers:[{provide:Ph,useValue:n},{provide:kh,useValue:i}]}}};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=qn({type:t}),t.\u0275inj=zn({});let e=t;return e})();function qo(e,...t){if(!t.length)return e;let r=t.shift();if(Qu(e)&&Qu(r))for(let n in r)Qu(r[n])?(e[n]||Object.assign(e,{[n]:{}}),qo(e[n],r[n])):Object.assign(e,{[n]:r[n]});return qo(e,...t)}function Qu(e){return e&&typeof e=="object"&&!Array.isArray(e)}var Lh=(()=>{let t=class t{constructor(n,i){this.options=n,this.observables={},this.state=new Be(hr.CLOSED),this.messages=new Fe,this._clientId=this._generateClientId(),this._connectTimeout=1e4,this._reconnectPeriod=1e4,this._onConnect=new ke,this._onReconnect=new ke,this._onClose=new ke,this._onOffline=new ke,this._onError=new ke,this._onEnd=new ke,this._onMessage=new ke,this._onSuback=new ke,this._onPacketsend=new ke,this._onPacketreceive=new ke,this._handleOnConnect=o=>{this.options.connectOnCreate===!0&&Object.keys(this.observables).forEach(s=>{this.client.subscribe(s)}),this.state.next(hr.CONNECTED),this._onConnect.emit(o)},this._handleOnReconnect=()=>{this.options.connectOnCreate===!0&&Object.keys(this.observables).forEach(o=>{this.client.subscribe(o)}),this.state.next(hr.CONNECTING),this._onReconnect.emit()},this._handleOnClose=()=>{this.state.next(hr.CLOSED),this._onClose.emit()},this._handleOnOffline=()=>{this._onOffline.emit()},this._handleOnError=o=>{this._onError.emit(o),console.error(o)},this._handleOnEnd=()=>{this._onEnd.emit()},this._handleOnMessage=(o,s,u)=>{this._onMessage.emit(u),u.cmd==="publish"&&this.messages.next(u)},this._handleOnPacketsend=o=>{this._onPacketsend.emit(o)},this._handleOnPacketreceive=o=>{this._onPacketreceive.emit(o)},n.connectOnCreate!==!1&&this.connect({},i),this.state.subscribe()}get clientId(){return this._clientId}get onConnect(){return this._onConnect}get onReconnect(){return this._onReconnect}get onClose(){return this._onClose}get onOffline(){return this._onOffline}get onError(){return this._onError}get onEnd(){return this._onEnd}get onMessage(){return this._onMessage}get onPacketsend(){return this._onPacketsend}get onPacketreceive(){return this._onPacketreceive}get onSuback(){return this._onSuback}static filterMatchesTopic(n,i){if(n[0]==="#"&&i[0]==="$")return!1;let o=(n||"").split("/").reverse(),s=(i||"").split("/").reverse(),u=()=>{let p=o.pop(),f=s.pop();switch(p){case"#":return!0;case"+":return f?u():!1;default:return p===f&&(p===void 0?!0:u())}};return u()}connect(n,i){let o=qo(this.options||{},n),s=o.protocol||"ws",u=o.hostname||"localhost";o.url?this._url=o.url:(this._url=`${s}://${u}`,this._url+=o.port?`:${o.port}`:"",this._url+=o.path?`${o.path}`:""),this.state.next(hr.CONNECTING);let p=qo({clientId:this._clientId,reconnectPeriod:this._reconnectPeriod,connectTimeout:this._connectTimeout},o);this.client&&this.client.end(!0),i?this.client=i:this.client=(0,Oh.connect)(this._url,p),this._clientId=p.clientId,this.client.on("connect",this._handleOnConnect),this.client.on("reconnect",this._handleOnReconnect),this.client.on("close",this._handleOnClose),this.client.on("offline",this._handleOnOffline),this.client.on("error",this._handleOnError),this.client.stream.on("error",this._handleOnError),this.client.on("end",this._handleOnEnd),this.client.on("message",this._handleOnMessage),this.client.on("packetsend",this._handleOnPacketsend),this.client.on("packetreceive",this._handleOnPacketreceive)}disconnect(n=!0){if(!this.client)throw new Error("mqtt client not connected");this.client.end(n)}observeRetained(n,i={qos:1}){return this._generalObserve(n,()=>Es(1),i)}observe(n,i={qos:1}){return this._generalObserve(n,()=>bs(),i)}_generalObserve(n,i,o){if(!this.client)throw new Error("mqtt client not connected");if(!this.observables[n]){let s=new Fe;this.observables[n]=ys(()=>{let u=new je;return this.client.subscribe(n,o,(p,f)=>{f&&f.forEach(h=>{h.qos===128&&(delete this.observables[h.topic],this.client.unsubscribe(h.topic),s.error(`subscription for '${h.topic}' rejected!`)),this._onSuback.emit({filter:n,granted:h.qos!==128})})}),u.add(()=>{delete this.observables[n],this.client.unsubscribe(n)}),u},u=>ms(s,this.messages)).pipe(Je(u=>t.filterMatchesTopic(n,u.topic)),i(),Ut())}return this.observables[n]}publish(n,i,o={}){if(!this.client)throw new Error("mqtt client not connected");return Ce.create(s=>{this.client.publish(n,i,o,u=>{u?s.error(u):(s.next(),s.complete())})})}unsafePublish(n,i,o={}){if(!this.client)throw new Error("mqtt client not connected");this.client.publish(n,i,o,s=>{if(s)throw s})}_generateClientId(){return"client-"+Math.random().toString(36).substr(2,19)}};t.\u0275fac=function(i){return new(i||t)(we(Ph),we(kh))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var jh=localStorage.getItem("mc-rc-config"),Bh="localhost";jh!==null&&(Bh=JSON.parse(jh).host);var Uh={providers:[Id({eventCoalescing:!0}),Ah(Nh),Ia(Fh.forRoot({hostname:Bh,port:8080,path:"/mqtt",protocol:"ws"}))]};var Vh=(()=>{let t=class t{constructor(n){this.ngxMqttService=n,this.topic="mc/robot/navigate",this.connectionStatusSubject=new Be(!1),this.connectionStatus$=this.connectionStatusSubject.asObservable(),this.setupConnection()}setupConnection(){this.ngxMqttService.onConnect.subscribe({next:()=>{console.log("Connected to MQTT broker"),this.connectionStatusSubject.next(!0),this.subscribeToTopic(this.topic)},error:n=>{console.error("Connection error:",n),this.connectionStatusSubject.next(!1)}}),this.ngxMqttService.onEnd.subscribe({next:()=>{console.log("Disconnected from MQTT broker..."),this.connectionStatusSubject.next(!1)}}),this.ngxMqttService.onClose.subscribe({next:()=>{console.log("Disconnected from MQTT broker"),this.connectionStatusSubject.next(!1)}}),this.ngxMqttService.onOffline.subscribe({next:()=>{console.log("Disconnected from MQTT broker"),this.connectionStatusSubject.next(!1)}}),this.ngxMqttService.onReconnect.subscribe({next:()=>{console.log("Reconnected to MQTT broker"),this.connectionStatusSubject.next(!0)}})}subscribeToTopic(n){this.ngxMqttService.observe(n).subscribe({next:i=>{console.log(`Message received on topic ${n}:`,i.payload.toString())},error:i=>{console.error(`Failed to receive message on topic ${n}:`,i)}})}publishMessage(n){this.connectionStatusSubject.getValue()?this.ngxMqttService.publish(this.topic,n).subscribe({next:()=>{console.log(`Message published to topic ${this.topic}: ${n}`)},error:i=>{console.error(`Failed to publish message to topic ${this.topic}:`,i)}}):console.error("Cannot publish message. MQTT client is not connected.")}};t.\u0275fac=function(i){return new(i||t)(we(Lh))},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var Hh=(()=>{let t=class t{constructor(){this.key="mc-rc-config",this.value={host:"localhost"},localStorage.getItem(this.key)===null?this.setValue(this.value):this.setValue(this.value)}setValue(n){localStorage.setItem(this.key,JSON.stringify(n)),this.value=this.getValue()}getValue(){let n=localStorage.getItem(this.key);return n!==null?(this.value=JSON.parse(n),this.value):null}};t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();var $h=(()=>{let t=class t{constructor(n,i){this.mqtt=n,this.storage=i,this.verticalValue=0,this.horizontalValue=0,this.screenHeight=window.innerHeight,this.screenWidth=window.innerWidth,this.lastSentMsg="",this.mqttConnectionStatus=!1,n.connectionStatusSubject.subscribe(o=>{this.mqttConnectionStatus=o})}ngOnInit(){document.querySelector("body")?.requestFullscreen(),setInterval(()=>{this.sendMsg()},50)}showPrompt(){let n=this.storage.getValue(),i=prompt("Host address: (Restart required)",n.host);i!==null&&(n.host=i,this.storage.setValue(n))}onTouchStart(n){if(n.touches.length>0){let i=n.touches[0],o=i.clientX,s=i.clientY;console.log(`Touch started at X: ${o}, Y: ${s}`),this.calculateVerticalValue(s),this.calculateHorizontalValue(o)}}sendMsg(){let n=`{x: ${this.horizontalValue}, y: ${this.verticalValue}}`;n!==this.lastSentMsg&&(this.lastSentMsg=n,this.mqtt.publishMessage(n))}onTouchMove(n){if(n.touches.length>0){let i=n.touches[0],o=i.clientX,s=i.clientY;this.calculateVerticalValue(s),this.calculateHorizontalValue(o)}}onTouchEnd(n){console.log("Touch ended. Resetting values."),this.verticalValue=0,this.horizontalValue=0}calculateVerticalValue(n){let i=this.screenHeight/2,o=(i-n)/i;this.verticalValue=Math.max(-1,Math.min(1,o))}calculateHorizontalValue(n){let i=this.screenWidth/2,o=(n-i)/i;this.horizontalValue=Math.max(-1,Math.min(1,o))}};t.\u0275fac=function(i){return new(i||t)(Xn(Vh),Xn(Hh))},t.\u0275cmp=ao({type:t,selectors:[["app-root"]],hostBindings:function(i,o){i&1&&kr("touchstart",function(u){return o.onTouchStart(u)},!1,vo)("touchmove",function(u){return o.onTouchMove(u)},!1,vo)("touchend",function(u){return o.onTouchEnd(u)},!1,vo)},standalone:!0,features:[Io],decls:18,vars:4,consts:[[1,"controller-ui"],[1,"touch-info"],[1,"connection-status"],[1,"dot"],[1,"settings-btn",3,"click"]],template:function(i,o){i&1&&(_t(0,"div",0),er(1,"div")(2,"div")(3,"div")(4,"div"),Yt(),_t(5,"div",1)(6,"p"),tr(7,"Accelerator: "),_t(8,"b"),tr(9),Yt()(),_t(10,"p"),tr(11,"Steering : "),_t(12,"b"),tr(13),Yt()(),_t(14,"div",2),er(15,"span",3),Yt()(),_t(16,"div",4),kr("click",function(){return o.showPrompt()}),tr(17,"\u2699\uFE0F"),Yt()),i&2&&(bo(9),Do(o.verticalValue),bo(4),Do(o.horizontalValue),bo(2),Za("green",o.mqttConnectionStatus))},dependencies:[tu],styles:["[_nghost-%COMP%]{display:block;width:100vw;height:100vh}.controller-ui[_ngcontent-%COMP%]{background-color:#1c1c1c;height:100%;display:grid;grid-template-columns:auto auto}.controller-ui[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{border:1px solid gray}.settings-btn[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;width:20px;height:20px;font-size:12px;display:flex;align-items:center;justify-content:center}.touch-info[_ngcontent-%COMP%]{font-family:monospace;color:#505050;pointer-events:none;position:fixed;top:0;left:0;right:0;text-align:center;background-color:#000}.touch-info[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]{position:absolute;right:20px;top:26px}.touch-info[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{height:15px;width:15px;background-color:red;border-radius:50%;display:inline-block}.touch-info[_ngcontent-%COMP%]   .connection-status[_ngcontent-%COMP%]   .dot.green[_ngcontent-%COMP%]{background-color:green}"]});let e=t;return e})();qd($h,Uh).catch(e=>console.error(e));
